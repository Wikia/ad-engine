{"version":3,"sources":["webpack://Wikia.adBidders/webpack/bootstrap","webpack://Wikia.adBidders/external {\"window\":[\"Wikia\",\"adEngine\"]}","webpack://Wikia.adBidders/./node_modules/@babel/runtime/helpers/createClass.js","webpack://Wikia.adBidders/./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack://Wikia.adBidders/./node_modules/@babel/runtime/helpers/inherits.js","webpack://Wikia.adBidders/./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack://Wikia.adBidders/./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack://Wikia.adBidders/./node_modules/@babel/runtime/regenerator/index.js","webpack://Wikia.adBidders/./node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack://Wikia.adBidders/./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack://Wikia.adBidders/./node_modules/@babel/runtime/helpers/defineProperty.js","webpack://Wikia.adBidders/./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack://Wikia.adBidders/./node_modules/@babel/runtime/helpers/objectSpread.js","webpack://Wikia.adBidders/./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js","webpack://Wikia.adBidders/./src/ad-bidders/wrappers/apstag.ts","webpack://Wikia.adBidders/./src/ad-bidders/wrappers/cmp.ts","webpack://Wikia.adBidders/./src/ad-bidders/base-bidder.ts","webpack://Wikia.adBidders/./src/ad-bidders/a9/index.ts","webpack://Wikia.adBidders/./node_modules/core-decorators/es/lazy-initialize.js","webpack://Wikia.adBidders/./node_modules/core-decorators/es/private/utils.js","webpack://Wikia.adBidders/./node_modules/core-decorators/es/override.js","webpack://Wikia.adBidders/./node_modules/core-decorators/es/deprecate.js","webpack://Wikia.adBidders/./node_modules/core-decorators/es/suppress-warnings.js","webpack://Wikia.adBidders/./node_modules/core-decorators/es/memoize.js","webpack://Wikia.adBidders/./node_modules/core-decorators/es/autobind.js","webpack://Wikia.adBidders/./node_modules/core-decorators/es/debounce.js","webpack://Wikia.adBidders/./node_modules/core-decorators/es/throttle.js","webpack://Wikia.adBidders/./node_modules/core-decorators/es/decorate.js","webpack://Wikia.adBidders/./node_modules/core-decorators/es/mixin.js","webpack://Wikia.adBidders/./node_modules/core-decorators/es/time.js","webpack://Wikia.adBidders/./node_modules/core-decorators/es/extendDescriptor.js","webpack://Wikia.adBidders/./node_modules/core-decorators/es/profile.js","webpack://Wikia.adBidders/./node_modules/core-decorators/es/applyDecorators.js","webpack://Wikia.adBidders/./src/ad-bidders/prebid/adapters/base-adapter.ts","webpack://Wikia.adBidders/./src/ad-bidders/prebid/adapters/aol.ts","webpack://Wikia.adBidders/./src/ad-bidders/prebid/adapters/appnexus.ts","webpack://Wikia.adBidders/./src/ad-bidders/prebid/adapters/appnexus-ast.ts","webpack://Wikia.adBidders/./src/ad-bidders/prebid/adapters/audience-network.ts","webpack://Wikia.adBidders/./src/ad-bidders/prebid/adapters/beachfront.ts","webpack://Wikia.adBidders/./src/ad-bidders/prebid/adapters/index-exchange.ts","webpack://Wikia.adBidders/./src/ad-bidders/prebid/adapters/kargo.ts","webpack://Wikia.adBidders/./src/ad-bidders/prebid/adapters/lkqd.ts","webpack://Wikia.adBidders/./src/ad-bidders/prebid/adapters/onemobile.ts","webpack://Wikia.adBidders/./src/ad-bidders/prebid/adapters/openx.ts","webpack://Wikia.adBidders/./src/ad-bidders/prebid/adapters/pubmatic.ts","webpack://Wikia.adBidders/./src/ad-bidders/prebid/prebid-helper.ts","webpack://Wikia.adBidders/./src/ad-bidders/prebid/adapters/rubicon.ts","webpack://Wikia.adBidders/./src/ad-bidders/prebid/adapters/rubicon-display.ts","webpack://Wikia.adBidders/./src/ad-bidders/prebid/adapters/wikia.ts","webpack://Wikia.adBidders/./src/ad-bidders/prebid/adapters/wikia-video.ts","webpack://Wikia.adBidders/./src/ad-bidders/prebid/adapters-registry.ts","webpack://Wikia.adBidders/./src/ad-bidders/prebid/price-helper.ts","webpack://Wikia.adBidders/./src/ad-bidders/prebid/prebid-settings.ts","webpack://Wikia.adBidders/./src/ad-bidders/prebid/index.ts","webpack://Wikia.adBidders/./src/ad-bidders/index.ts","webpack://Wikia.adBidders/./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack://Wikia.adBidders/./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack://Wikia.adBidders/./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack://Wikia.adBidders/./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack://Wikia.adBidders/./node_modules/@babel/runtime/helpers/typeof.js","webpack://Wikia.adBidders/./node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js","webpack://Wikia.adBidders/./node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime-module.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","window","_defineProperties","target","props","length","descriptor","writable","key","Constructor","protoProps","staticProps","instance","TypeError","setPrototypeOf","subClass","superClass","create","constructor","_getPrototypeOf","getPrototypeOf","__proto__","_typeof","assertThisInitialized","self","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","done","Promise","then","fn","this","args","arguments","apply","err","undefined","ReferenceError","obj","arrayWithHoles","iterableToArrayLimit","nonIterableRest","arr","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","forEach","decorators","context","desc","initializer","slice","reverse","reduce","decorator","Apstag","classCallCheck_default","defineProperty_default","utils","insertScript","configure","addRenderImpHooks","createClass_default","script","scriptLoader","loadScript","_addRenderImpHooks","asyncToGenerator_default","regenerator_default","a","mark","_callee","original","_this","wrap","_context","prev","next","apstag","renderImp","doc","impId","renderImpEndCallbacks","cb","stop","_this2","_Q","init","_len","Array","_key","configureCommand","fetchBids","_len2","_key2","command","push","_init","_callee2","apsConfig","_context2","_x","_fetchBids","_callee3","bidsConfig","_args3","_context3","abrupt","getPromiseAndExecuteCallback","currentBids","_x2","_targetingKeys","_callee4","_context4","targetingKeys","_enableDebug","_callee5","_context5","debug","_disableDebug","_callee6","_context6","callback","Error","Cmp","param","__cmp","consentData","newCmp","cmp","BaseBidder","bidderConfig","timeout","logGroup","resetState","logger","called","response","onResponseCallbacks","LazyQueue","onItemFlush","callBids","onBidResponse","calculatePrices","flush","slotName","getBestPrice","isSlotSupported","getTargetingParams","isSupported","_this3","createWithTimeout","hasResponse","addResponseListener","NotImplementedException","A9","_BaseBidder","possibleConstructorReturn_default","getPrototypeOf_default","assertThisInitialized_default","isCMPEnabled","amazonId","slots","slotsNames","bids","priceMap","slotNamesMap","make","events","slotService","bidsRefreshing","isRenderImpOverwritten","inherits_default","initIfNotLoaded","a9Slots","getA9SlotsDefinitions","loaded","getApstagConfig","objectSpread_default","pubID","videoAdServer","deals","dealsEnabled","getGdprIfApplicable","gdpr","enabled","gdprApplies","consent","cmpTimeout","map","getSlotAlias","slotAlias","createSlotDefinition","slot","refresh","_args2","sent","addApstagRenderImpHookOnFirstFetch","_ref","bid","_ref2","bidTargeting","slotID","getBidTargetingWithKeys","updateBidSlot","emit","BIDS_REFRESH","addApstagRenderImpHook","_this4","onRenderImpEnd","getRenderedSlot","getSlotName","refreshBid","renderedSlot","getTargeting","amzniid","shouldRefreshSlot","slotDef","includes","config","slotId","definition","videoEnabled","type","mediaType","sizes","_getBidTargetingWithKeys","helpers","t0","t1","targeting","t2","t3","_x3","_this5","indexOf","_callBids","exists","getConsentData","_this6","amznbid","a9","lazy_initialize_defineProperty","handleDescriptor","ret","set","createDefaultSetter","lazyInitialize","decorate","_class","_descriptor","_descriptor2","_descriptor3","_descriptor4","_descriptor5","Symbol","iterator","_initDefineProp","_applyDecoratedDescriptor","_toConsumableArray","isArray","arr2","from","utils_defineProperty","getOwnPropertyNames","entryArgs","isDescriptor","Meta","_classCallCheck","META_KEY","metaFor","newValue","bind","warn","console","override_typeof","_createClass","defineProperties","FUNCTION_REGEXP","SyntaxErrorReporter","parentKlass","childKlass","parentDescriptor","childDescriptor","override_classCallCheck","topic","_extractFunctionSignature","toString","replace","match","parentPropertySignature","childPropertySignature","_getTopic","_extractTopicSignature","parentTopic","childTopic","condition","msg","parentNotation","childNotation","SyntaxError","assign","decorate_defineProperty","decorate_handleDescriptor","_toArray","originalGet","originalSet","originalValue","isGetter","decorate_toConsumableArray","decorate_decorate","labels","time","timeEnd","profile_extends","profile_slicedToArray","_arr","_n","_d","_e","_s","_i","sliceIterator","profile_defaultConsole","profile","profileEnd","profile_handleDescriptor","_ref2$","prefix","_ref2$2","onceThrottleOrFunction","_ref2$3","__enabled","__warned","now","Date","meta","profileLastRan","BaseAdapter","prepareConfigForAdUnit","Aol","_BaseAdapter","options","bidderName","network","code","placement","alias","sizeId","mediaTypes","banner","bidder","params","Appnexus","placements","_ref$position","position","placementId","getPlacement","vertical","AppnexusAst","aliases","appnexus","debugPlacementId","isDebugMode","queryString","video","playerSize","skippable","playback_method","AudienceNetwork","testMode","Beachfront","bidfloor","debugAppId","appId","IndexExchange","ix","siteId","size","Kargo","Lkqd","pageurl","location","hostname","output","Onemobile","pos","dcn","Openx","delDomain","unit","Pubmatic","publisherId","ids","toLowerCase","getVideoConfig","getStandardConfig","getBids","mimes","minduration","maxduration","startdelay","playbackmethod","protocols","linearity","adSlot","lazyLoadSlots","setupAdUnits","adaptersConfig","lazyLoad","adUnits","getAdapters","adapter","prepareAdUnits","adUnit","isSlotLazy","getState","isSlotApplicable","getBidByAdId","adId","pbjs","getBidResponses","getAllPrebidWinningBids","responses","adUnitsBids","getAvailableBidsByAdUnitCode","adUnitCode","getBidResponsesForAdUnitCode","status","getPrebid","getWinningVideoBidBySlotName","allowedBidders","canUseThisBidder","bidderCode","hasVast","vastUrl","vastContent","cpm","previousBid","currentBid","pushPrebid","que","Rubicon","accountId","zoneId","inventory","playerWidth","playerHeight","size_id","language","lang","RubiconDisplay","rubicon","pageTargeting","keywords","price","limit","parseInt","useRandomPrice","Wikia","supportedMediaTypes","Math","floor","random","bidRequest","addBidResponse","addBids","setTimeout","bidResponse","createBid","_bid$sizes$","slicedToArray_default","width","height","getPrice","ad","getCreative","ttl","creative","document","createElement","style","background","color","fontFamily","textAlign","title","innerText","fontWeight","margin","paddingTop","details","join","appendChild","outerHTML","WikiaVideo","buildVastUrl","videoAdUnitId","customParams","creativeId","getVastUrl","videoCacheKey","adapters","customAdapters","availableAdapters","aol","appnexusAst","audienceNetwork","beachfront","indexExchange","kargo","lkqd","onemobile","openx","pubmatic","rubiconDisplay","setupAdapters","bidders","wikia","wikiaVideo","registerBidAdapter","setupCustomAdapters","aliasMap","aliasBidder","DEFAULT_MAX_CPM","videoBiddersCap50","roundCpm","maxCpm","result","getPrebidBestPrice","bestPrices","slotBids","getStatusCode","Prebid","validResponseStatusCode","isValidPrice","cmpPrice","max","toFixed","transformPriceFromBid","transformPriceFromCpm","dfpVideoBidders","contextKey","getSettings","standard","alwaysUseBid","adserverTargeting","val","_ref3","some","getBidderUuid","postponeExecutionUntilPbjsLoads","method","markWinningBidAsUsed","VIDEO_AD_USED","on","VIDEO_AD_IMPRESSION","VIDEO_AD_ERROR","registerEvent","_dec","_dec2","_dec3","_temp","_class2","lazyLoaded","isLazyLoadingEnabled","lazyLoadingEnabled","prebidConfig","enableSendAllBids","bidderSequence","bidderTimeout","cache","url","userSync","iframeEnabled","enabledBidders","syncDelay","consentManagement","cmpApi","allowAuctionWithoutConsent","applyConfig","registerBidsRefreshing","setConfig","bidderSettings","bidsBackHandler","applySettings","requestBids","removeAdUnits","PREBID_LAZY_CALL","lazyCall","libraryUrl","adUnitsLazy","removeAdUnit","slotParams","bidParams","priorities","priority","getPriorities","timeToRespond","hb_uuid","refreshUsedBid","winningBid","adUnitsToRefresh","onEvent","once","PAGE_CHANGE_EVENT","offEvent","withRemove","prebid_class","applyDecoratedDescriptor_default","__webpack_exports__","ad_bidders_bidders","apstag_Apstag","cmp_Cmp","biddersRegistry","realSlotPrices","forEachBidder","getBidParameters","wasCalled","getSlotTargetingParams","getCurrentSlotPrices","slotPrices","priceFromBidder","getSlotBestPrice","updateSlotTargeting","bidderTargeting","storeRealSlotPrices","getTargetingKeysToReset","remove","resetTargetingKeys","applyTargetingParams","VIDEO_AD_REQUESTED","updateWinningPbBidderDetails","getDfpSlotPrices","hasAllResponses","prebidHelper","_ref$responseListener","responseListener","prebid","runOnBiddingReady","waitForResponse","all","_setPrototypeOf","_typeof2","global","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","inModule","runtime","regeneratorRuntime","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","IteratorPrototype","getProto","NativeIteratorPrototype","values","Gp","GeneratorFunctionPrototype","Generator","GeneratorFunction","displayName","isGeneratorFunction","genFun","ctor","awrap","__await","defineIteratorMethods","AsyncIterator","async","innerFn","outerFn","tryLocsList","iter","pop","Context","reset","skipTempReset","_sent","delegate","tryEntries","resetTryEntry","charAt","isNaN","rootRecord","completion","rval","dispatchException","exception","handle","loc","caught","record","entry","tryLoc","hasCatch","hasFinally","catchLoc","finallyLoc","finallyEntry","complete","afterLoc","finish","catch","thrown","delegateYield","iterable","resultName","nextLoc","protoGenerator","generator","_invoke","state","doneResult","delegateResult","maybeInvokeDelegate","tryCatch","makeInvokeMethod","previousPromise","callInvokeWithMethodAndArg","invoke","unwrapped","return","pushTryEntry","locs","iteratorMethod","Function","g","hadRuntime","oldRuntime","e"],"mappings":"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","file":"ad-bidders.global.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 13);\n","(function() { module.exports = window[\"Wikia\"][\"adEngine\"]; }());","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","module.exports = require(\"regenerator-runtime\");\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","var defineProperty = require(\"./defineProperty\");\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nmodule.exports = _objectSpread;","function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n  var desc = {};\n  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n    desc[key] = descriptor[key];\n  });\n  desc.enumerable = !!desc.enumerable;\n  desc.configurable = !!desc.configurable;\n\n  if ('value' in desc || desc.initializer) {\n    desc.writable = true;\n  }\n\n  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n    return decorator(target, property, desc) || desc;\n  }, desc);\n\n  if (context && desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n    desc.initializer = undefined;\n  }\n\n  if (desc.initializer === void 0) {\n    Object['define' + 'Property'](target, property, desc);\n    desc = null;\n  }\n\n  return desc;\n}\n\nmodule.exports = _applyDecoratedDescriptor;","import { utils } from '@wikia/ad-engine';\n\nexport class Apstag {\n\t/**\n\t * @private\n\t */\n\tstatic instance;\n\n\tstatic make() {\n\t\tif (!Apstag.instance) {\n\t\t\tApstag.instance = new Apstag();\n\t\t}\n\n\t\treturn Apstag.instance;\n\t}\n\n\t/**\n\t * @private\n\t */\n\trenderImpEndCallbacks = [];\n\n\t/**\n\t * @private\n\t */\n\tconstructor() {\n\t\tthis.utils = utils;\n\t\tthis.insertScript();\n\t\tthis.configure();\n\t\tthis.addRenderImpHooks();\n\t}\n\n\t/**\n\t * @private\n\t */\n\tinsertScript() {\n\t\tthis.script = this.utils.scriptLoader.loadScript(\n\t\t\t'//c.amazon-adsystem.com/aax2/apstag.js',\n\t\t\t'text/javascript',\n\t\t\ttrue,\n\t\t\t'first',\n\t\t);\n\t}\n\n\t/**\n\t * @private\n\t */\n\tasync addRenderImpHooks() {\n\t\tawait this.script;\n\t\tconst original = window.apstag.renderImp;\n\n\t\twindow.apstag.renderImp = (doc, impId) => {\n\t\t\toriginal(doc, impId);\n\t\t\tthis.renderImpEndCallbacks.forEach((cb) => cb(doc, impId));\n\t\t};\n\t}\n\n\t/**\n\t * @private\n\t */\n\t// TODO May not be necessary - try to remove.\n\tconfigure() {\n\t\twindow.apstag = window.apstag || {};\n\t\twindow.apstag._Q = window.apstag._Q || [];\n\n\t\tif (typeof window.apstag.init === 'undefined') {\n\t\t\twindow.apstag.init = (...args) => {\n\t\t\t\tthis.configureCommand('i', args);\n\t\t\t};\n\t\t}\n\n\t\tif (typeof window.apstag.fetchBids === 'undefined') {\n\t\t\twindow.apstag.fetchBids = (...args) => {\n\t\t\t\tthis.configureCommand('f', args);\n\t\t\t};\n\t\t}\n\t}\n\n\t/** @private */\n\tconfigureCommand(command, args) {\n\t\twindow.apstag._Q.push([command, args]);\n\t}\n\n\tasync init(apsConfig) {\n\t\tawait this.script;\n\t\twindow.apstag.init(apsConfig);\n\t}\n\n\t/**\n\t * @param {{slots: A9SlotDefinition[], timeout: number}} bidsConfig configuration of bids\n\t * @param {function(object)} cb Callback receiving current bids\n\t * @returns {!Promise} If `cb` has been omitted\n\t */\n\tasync fetchBids(bidsConfig, cb = null) {\n\t\tawait this.script;\n\n\t\treturn this.utils.getPromiseAndExecuteCallback((resolve) => {\n\t\t\twindow.apstag.fetchBids(bidsConfig, (currentBids) => resolve(currentBids));\n\t\t}, cb);\n\t}\n\n\tasync targetingKeys() {\n\t\tawait this.script;\n\n\t\treturn window.apstag.targetingKeys();\n\t}\n\n\tasync enableDebug() {\n\t\tawait this.script;\n\t\twindow.apstag.debug('enable');\n\t}\n\n\tasync disableDebug() {\n\t\tawait this.script;\n\t\twindow.apstag.debug('disable');\n\t}\n\n\t/**\n\t * Executes callback each time after apstag.renderImp is called\n\t * @param {function} callback\n\t */\n\tonRenderImpEnd(callback) {\n\t\tif (typeof callback !== 'function') {\n\t\t\tthrow new Error('onRenderImpEnd used with callback not being a function');\n\t\t}\n\t\tthis.renderImpEndCallbacks.push(callback);\n\t}\n}\n","import { utils } from '@wikia/ad-engine';\n\nexport class Cmp {\n\tget exists() {\n\t\treturn !!window.__cmp;\n\t}\n\n\t/**\n\t * @param {*=} param\n\t * @param {function(object)} cb Callback receiving current bids\n\t * @returns {!Promise} If `cb` has been omitted\n\t */\n\tgetConsentData(param, cb = null) {\n\t\treturn utils.getPromiseAndExecuteCallback((resolve) => {\n\t\t\twindow.__cmp('getConsentData', param, (consentData) => resolve(consentData));\n\t\t}, cb);\n\t}\n\n\toverride(newCmp) {\n\t\twindow.__cmp = newCmp;\n\t}\n}\n\nexport const cmp = new Cmp();\n","import { context, utils } from '@wikia/ad-engine';\n\n/**\n * @abstract\n */\nexport class BaseBidder {\n\tconstructor(name, bidderConfig, timeout = 2000) {\n\t\tthis.name = name;\n\t\tthis.logGroup = `${name}-bidder`;\n\t\tthis.bidderConfig = bidderConfig;\n\t\tthis.timeout = timeout;\n\t\tthis.utils = utils;\n\t\tthis.context = context;\n\n\t\tthis.resetState();\n\n\t\tthis.utils.logger(this.logGroup, 'created');\n\t}\n\n\tresetState() {\n\t\tthis.called = false;\n\t\tthis.response = false;\n\n\t\tthis.onResponseCallbacks = new utils.LazyQueue();\n\t\tthis.onResponseCallbacks.onItemFlush((callback) => {\n\t\t\tcallback(this.name);\n\t\t});\n\t}\n\n\tcall() {\n\t\tthis.response = false;\n\t\tthis.called = true;\n\n\t\tthis.callBids(() => this.onBidResponse());\n\n\t\tthis.utils.logger(this.logGroup, 'called');\n\t}\n\n\t/**\n\t * @protected\n\t */\n\tonBidResponse() {\n\t\tthis.response = true;\n\n\t\tthis.calculatePrices();\n\t\tthis.onResponseCallbacks.flush();\n\n\t\tthis.utils.logger(this.logGroup, 'respond');\n\t}\n\n\t/**\n\t * Returns bidder slot alias if available, otherwise slot name\n\t * @protected\n\t * @param {string} slotName\n\t * @returns {string}\n\t */\n\tgetSlotAlias(slotName) {\n\t\treturn context.get(`slots.${slotName}.bidderAlias`) || slotName;\n\t}\n\n\t/**\n\t * @param {string} slotName\n\t * @returns {{}}\n\t */\n\tgetSlotBestPrice(slotName) {\n\t\treturn this.getBestPrice(slotName);\n\t}\n\n\t/**\n\t * @param {string} slotName\n\t * @returns {{}}\n\t */\n\tgetSlotTargetingParams(slotName) {\n\t\tif (!this.called || !this.isSlotSupported(slotName)) {\n\t\t\treturn {};\n\t\t}\n\n\t\treturn this.getTargetingParams(slotName);\n\t}\n\n\t/**\n\t * @param {string} slotName\n\t * @returns {boolean}\n\t */\n\tisSlotSupported(slotName) {\n\t\treturn this.isSupported(slotName);\n\t}\n\n\t/**\n\t * Fires the Promise if bidder replied or timeout is reached\n\t * @returns {Promise}\n\t */\n\twaitForResponse() {\n\t\treturn this.utils.createWithTimeout((resolve) => {\n\t\t\tif (this.hasResponse()) {\n\t\t\t\tresolve();\n\t\t\t} else {\n\t\t\t\tthis.addResponseListener(resolve);\n\t\t\t}\n\t\t}, this.timeout);\n\t}\n\n\t/**\n\t * @returns {boolean}\n\t */\n\thasResponse() {\n\t\treturn this.response;\n\t}\n\n\taddResponseListener(callback) {\n\t\tthis.onResponseCallbacks.push(callback);\n\t}\n\n\t/**\n\t * Check if bidder was called\n\t * @returns {boolean}\n\t */\n\twasCalled() {\n\t\treturn this.called;\n\t}\n\n\t/**\n\t * @abstract\n\t * @protected\n\t */\n\tcallBids(cb) {\n\t\tthrow new utils.NotImplementedException({ cb });\n\t}\n\n\t/**\n\t * @abstract\n\t * @protected\n\t */\n\tcalculatePrices() {\n\t\tthrow new utils.NotImplementedException();\n\t}\n\n\t/**\n\t * @abstract\n\t * @protected\n\t * @param {string} slotName\n\t * @returns {*|{}}\n\t */\n\tgetBestPrice(slotName) {\n\t\tthrow new utils.NotImplementedException({ slotName });\n\t}\n\n\t/**\n\t * @abstract\n\t * @protected\n\t * @param {string} slotName\n\t * @returns {*|{}}\n\t */\n\tgetTargetingParams(slotName) {\n\t\tthrow new utils.NotImplementedException({ slotName });\n\t}\n\n\t/**\n\t * Checks if slot with given name is supported by bidder.\n\t * @abstract\n\t * @protected\n\t * @param {string} slotName\n\t * @returns {boolean}\n\t */\n\tisSupported(slotName) {\n\t\tthrow new utils.NotImplementedException({ slotName });\n\t}\n}\n","import { context, events, slotService, utils } from '@wikia/ad-engine';\nimport { Apstag, cmp } from '../wrappers';\nimport { BaseBidder } from '../base-bidder';\n\nconst logGroup = 'A9';\n\n/**\n * @typedef {Object} A9SlotDefinition\n * @property {string} slotID\n * @property {string} slotName\n */\n\nexport class A9 extends BaseBidder {\n\t/** @private */\n\tloaded = false;\n\n\tconstructor(bidderConfig, timeout = 2000) {\n\t\tsuper('a9', bidderConfig, timeout);\n\n\t\tthis.isCMPEnabled = context.get('custom.isCMPEnabled');\n\t\tthis.amazonId = this.bidderConfig.amazonId;\n\t\tthis.slots = this.bidderConfig.slots;\n\t\tthis.slotsNames = Object.keys(this.slots);\n\t\tthis.bids = {};\n\t\tthis.priceMap = {};\n\t\tthis.slotNamesMap = {};\n\t\tthis.targetingKeys = [];\n\t\tthis.apstag = Apstag.make();\n\t\tthis.cmp = cmp;\n\t\tthis.utils = utils;\n\t\tthis.events = events;\n\t\tthis.slotService = slotService;\n\t\tthis.timeout = timeout;\n\t\tthis.bidsRefreshing = context.get('bidders.a9.bidsRefreshing') || {};\n\t\tthis.isRenderImpOverwritten = false;\n\t}\n\n\tgetPrices() {\n\t\treturn this.priceMap;\n\t}\n\n\tgetTargetingKeysToReset() {\n\t\treturn this.targetingKeys;\n\t}\n\n\tinit(consentData = {}) {\n\t\tthis.initIfNotLoaded(consentData);\n\n\t\tthis.bids = {};\n\t\tthis.priceMap = {};\n\t\tconst a9Slots = this.getA9SlotsDefinitions(this.slotsNames);\n\n\t\tthis.fetchBids(a9Slots);\n\t}\n\n\t/**\n\t * @private\n\t * @param consentData\n\t */\n\tinitIfNotLoaded(consentData) {\n\t\tif (!this.loaded) {\n\t\t\tthis.apstag.init(this.getApstagConfig(consentData));\n\t\t\tthis.loaded = true;\n\t\t}\n\t}\n\n\t/**\n\t * @private\n\t * @param consentData\n\t * @returns {{videoAdServer: string, deals: boolean, pubID: (*|string), gdpr: ()}}\n\t */\n\tgetApstagConfig(consentData) {\n\t\treturn {\n\t\t\tpubID: this.amazonId,\n\t\t\tvideoAdServer: 'DFP',\n\t\t\tdeals: !!this.bidderConfig.dealsEnabled,\n\t\t\t...this.getGdprIfApplicable(consentData),\n\t\t};\n\t}\n\n\t/**\n\t * @private\n\t * @param consentData\n\t * @returns {*}\n\t */\n\tgetGdprIfApplicable(consentData) {\n\t\tif (this.isCMPEnabled && consentData && consentData.consentData) {\n\t\t\treturn {\n\t\t\t\tgdpr: {\n\t\t\t\t\tenabled: consentData.gdprApplies,\n\t\t\t\t\tconsent: consentData.consentData,\n\t\t\t\t\tcmpTimeout: 5000,\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\n\t\treturn {};\n\t}\n\n\t/**\n\t * Transforms slots names into A9 slot definitions.\n\t * @param {string[]} slotsNames\n\t * @returns {A9SlotDefinition[]}\n\t */\n\tgetA9SlotsDefinitions(slotsNames) {\n\t\treturn slotsNames\n\t\t\t.map((slotName) => this.getSlotAlias(slotName))\n\t\t\t.map((slotAlias) => this.createSlotDefinition(slotAlias))\n\t\t\t.filter((slot) => slot !== null);\n\t}\n\n\t/**\n\t * Fetches bids from A9.\n\t * Calls this.onBidResponse() upon success.\n\t * @private\n\t * @param {A9SlotDefinition[]} slots\n\t * @param {boolean} refresh\n\t */\n\tasync fetchBids(slots, refresh = false) {\n\t\tutils.logger(logGroup, 'fetching bids for slots', slots);\n\t\tconst currentBids = await this.apstag.fetchBids({ slots, timeout: this.timeout });\n\n\t\tutils.logger(logGroup, 'bids fetched for slots', slots, 'bids', currentBids);\n\t\tthis.addApstagRenderImpHookOnFirstFetch();\n\n\t\tcurrentBids.forEach(async (bid) => {\n\t\t\tconst slotName = this.slotNamesMap[bid.slotID] || bid.slotID;\n\t\t\tconst { keys, bidTargeting } = await this.getBidTargetingWithKeys(bid);\n\n\t\t\tthis.updateBidSlot(slotName, keys, bidTargeting);\n\t\t});\n\n\t\tthis.onBidResponse();\n\t\tif (refresh) {\n\t\t\tthis.events.emit(this.events.BIDS_REFRESH);\n\t\t}\n\t}\n\n\t/**\n\t * @private\n\t */\n\taddApstagRenderImpHookOnFirstFetch() {\n\t\tif (!this.isRenderImpOverwritten) {\n\t\t\tthis.isRenderImpOverwritten = true;\n\t\t\tthis.addApstagRenderImpHook();\n\t\t}\n\t}\n\n\t/**\n\t * Wraps apstag.renderImp\n\t * Calls this.refreshBid() if bids refreshing is enabled.\n\t * @private\n\t */\n\taddApstagRenderImpHook() {\n\t\tutils.logger(logGroup, 'overwriting window.apstag.renderImp');\n\t\tthis.apstag.onRenderImpEnd((doc, impId) => {\n\t\t\tconst slot = this.getRenderedSlot(impId);\n\t\t\tconst slotName = slot.getSlotName();\n\n\t\t\tutils.logger(logGroup, `bid used for slot ${slotName}`);\n\t\t\tdelete this.bids[this.getSlotAlias(slotName)];\n\n\t\t\tif (this.bidsRefreshing.enabled) {\n\t\t\t\tthis.refreshBid(slot);\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Returns slot which used bid with given impression id.\n\t * @private\n\t * @param {string | number} impId\n\t * @returns {AdSlot | undefined }\n\t */\n\tgetRenderedSlot(impId) {\n\t\tlet renderedSlot;\n\n\t\tslotService.forEach((slot) => {\n\t\t\tif (slot.getTargeting().amzniid === impId) {\n\t\t\t\trenderedSlot = slot;\n\t\t\t}\n\t\t});\n\n\t\treturn renderedSlot;\n\t}\n\n\t/**\n\t * Refreshes bid for given slot.\n\t * @private\n\t * @param {AdSlot} slot\n\t */\n\trefreshBid(slot) {\n\t\tif (!this.shouldRefreshSlot(slot)) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst slotDef = this.createSlotDefinition(this.getSlotAlias(slot.getSlotName()));\n\n\t\tif (slotDef) {\n\t\t\tutils.logger(logGroup, 'refresh bids for slot', slotDef);\n\t\t\tthis.fetchBids([slotDef], true);\n\t\t}\n\t}\n\n\t/**\n\t * Checks if slot should be refreshed.\n\t * @private\n\t * @param {AdSlot} slot\n\t * @returns {boolean}\n\t */\n\tshouldRefreshSlot(slot) {\n\t\treturn this.bidsRefreshing.slots.includes(this.getSlotAlias(slot.getSlotName()));\n\t}\n\n\t/**\n\t * Creates A9 slot definition from slot alias.\n\t * @param {string} slotAlias\n\t * @returns {A9SlotDefinition | null} Returns null i\n\t */\n\tcreateSlotDefinition(slotAlias) {\n\t\tconst config = this.slots[slotAlias];\n\t\tconst slotID = config.slotId || slotAlias;\n\t\tconst definition = {\n\t\t\tslotID,\n\t\t\tslotName: slotID,\n\t\t};\n\n\t\tthis.slotNamesMap[slotID] = slotAlias;\n\n\t\tif (!this.bidderConfig.videoEnabled && config.type === 'video') {\n\t\t\treturn null;\n\t\t}\n\t\tif (config.type === 'video') {\n\t\t\tdefinition.mediaType = 'video';\n\t\t} else {\n\t\t\tdefinition.sizes = config.sizes;\n\t\t}\n\n\t\treturn definition;\n\t}\n\n\t/**\n\t * @private\n\t * @param bid\n\t * @returns {*}\n\t */\n\tasync getBidTargetingWithKeys(bid) {\n\t\tif (this.bidderConfig.dealsEnabled) {\n\t\t\treturn {\n\t\t\t\tkeys: await bid.helpers.targetingKeys,\n\t\t\t\tbidTargeting: bid.targeting,\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\tkeys: await this.apstag.targetingKeys(),\n\t\t\tbidTargeting: bid,\n\t\t};\n\t}\n\n\t/**\n\t * @private\n\t * @param slotName\n\t * @param keys\n\t * @param bidTargeting\n\t */\n\tupdateBidSlot(slotName, keys, bidTargeting) {\n\t\tthis.bids[slotName] = {};\n\t\tkeys.forEach((key) => {\n\t\t\tif (this.targetingKeys.indexOf(key) === -1) {\n\t\t\t\tthis.targetingKeys.push(key);\n\t\t\t}\n\t\t\tthis.bids[slotName][key] = bidTargeting[key];\n\t\t});\n\t}\n\n\t/**\n\t * @protected\n\t * @returns {Promise<void>}\n\t */\n\tasync callBids() {\n\t\tif (this.cmp.exists) {\n\t\t\tconst consentData = await this.cmp.getConsentData(null);\n\n\t\t\tthis.init(consentData);\n\t\t} else {\n\t\t\tthis.init();\n\t\t}\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tcalculatePrices() {\n\t\treturn Object.keys(this.bids).forEach((slotName) => {\n\t\t\tthis.priceMap[slotName] = this.bids[slotName].amznbid;\n\t\t});\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tgetBestPrice(slotName) {\n\t\tconst slotAlias = this.getSlotAlias(slotName);\n\n\t\treturn this.priceMap[slotAlias] ? { a9: this.priceMap[slotAlias] } : {};\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tgetTargetingParams(slotName) {\n\t\treturn this.bids[this.getSlotAlias(slotName)] || {};\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tisSupported(slotName) {\n\t\treturn !!this.slots[this.getSlotAlias(slotName)];\n\t}\n}\n","import { decorate, createDefaultSetter } from './private/utils';\nvar defineProperty = Object.defineProperty;\n\n\nfunction handleDescriptor(target, key, descriptor) {\n  var configurable = descriptor.configurable,\n      enumerable = descriptor.enumerable,\n      initializer = descriptor.initializer,\n      value = descriptor.value;\n\n  return {\n    configurable: configurable,\n    enumerable: enumerable,\n\n    get: function get() {\n      // This happens if someone accesses the\n      // property directly on the prototype\n      if (this === target) {\n        return;\n      }\n\n      var ret = initializer ? initializer.call(this) : value;\n\n      defineProperty(this, key, {\n        configurable: configurable,\n        enumerable: enumerable,\n        writable: true,\n        value: ret\n      });\n\n      return ret;\n    },\n\n\n    set: createDefaultSetter(key)\n  };\n}\n\nexport default function lazyInitialize() {\n  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return decorate(handleDescriptor, args);\n}","var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _desc, _value, _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5;\n\nfunction _initDefineProp(target, property, descriptor, context) {\n  if (!descriptor) return;\n  Object.defineProperty(target, property, {\n    enumerable: descriptor.enumerable,\n    configurable: descriptor.configurable,\n    writable: descriptor.writable,\n    value: descriptor.initializer ? descriptor.initializer.call(context) : void 0\n  });\n}\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n  var desc = {};\n  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n    desc[key] = descriptor[key];\n  });\n  desc.enumerable = !!desc.enumerable;\n  desc.configurable = !!desc.configurable;\n\n  if ('value' in desc || desc.initializer) {\n    desc.writable = true;\n  }\n\n  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n    return decorator(target, property, desc) || desc;\n  }, desc);\n\n  if (context && desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n    desc.initializer = undefined;\n  }\n\n  if (desc.initializer === void 0) {\n    Object['define' + 'Property'](target, property, desc);\n    desc = null;\n  }\n\n  return desc;\n}\n\nfunction _initializerWarningHelper(descriptor, context) {\n  throw new Error('Decorating class property failed. Please ensure that transform-class-properties is enabled.');\n}\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nimport lazyInitialize from '../lazy-initialize';\n\nvar defineProperty = Object.defineProperty,\n    getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor,\n    getOwnPropertyNames = Object.getOwnPropertyNames,\n    getOwnPropertySymbols = Object.getOwnPropertySymbols;\n\n\nexport function isDescriptor(desc) {\n  if (!desc || !desc.hasOwnProperty) {\n    return false;\n  }\n\n  var keys = ['value', 'initializer', 'get', 'set'];\n\n  for (var i = 0, l = keys.length; i < l; i++) {\n    if (desc.hasOwnProperty(keys[i])) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nexport function decorate(handleDescriptor, entryArgs) {\n  if (isDescriptor(entryArgs[entryArgs.length - 1])) {\n    return handleDescriptor.apply(undefined, _toConsumableArray(entryArgs).concat([[]]));\n  } else {\n    return function () {\n      return handleDescriptor.apply(undefined, _toConsumableArray(Array.prototype.slice.call(arguments)).concat([entryArgs]));\n    };\n  }\n}\n\nvar Meta = (_class = function Meta() {\n  _classCallCheck(this, Meta);\n\n  _initDefineProp(this, 'debounceTimeoutIds', _descriptor, this);\n\n  _initDefineProp(this, 'throttleTimeoutIds', _descriptor2, this);\n\n  _initDefineProp(this, 'throttlePreviousTimestamps', _descriptor3, this);\n\n  _initDefineProp(this, 'throttleTrailingArgs', _descriptor4, this);\n\n  _initDefineProp(this, 'profileLastRan', _descriptor5, this);\n}, (_descriptor = _applyDecoratedDescriptor(_class.prototype, 'debounceTimeoutIds', [lazyInitialize], {\n  enumerable: true,\n  initializer: function initializer() {\n    return {};\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, 'throttleTimeoutIds', [lazyInitialize], {\n  enumerable: true,\n  initializer: function initializer() {\n    return {};\n  }\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, 'throttlePreviousTimestamps', [lazyInitialize], {\n  enumerable: true,\n  initializer: function initializer() {\n    return {};\n  }\n}), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, 'throttleTrailingArgs', [lazyInitialize], {\n  enumerable: true,\n  initializer: function initializer() {\n    return null;\n  }\n}), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, 'profileLastRan', [lazyInitialize], {\n  enumerable: true,\n  initializer: function initializer() {\n    return null;\n  }\n})), _class);\n\n\nvar META_KEY = typeof Symbol === 'function' ? Symbol('__core_decorators__') : '__core_decorators__';\n\nexport function metaFor(obj) {\n  if (obj.hasOwnProperty(META_KEY) === false) {\n    defineProperty(obj, META_KEY, {\n      // Defaults: NOT enumerable, configurable, or writable\n      value: new Meta()\n    });\n  }\n\n  return obj[META_KEY];\n}\n\nexport var getOwnKeys = getOwnPropertySymbols ? function (object) {\n  return getOwnPropertyNames(object).concat(getOwnPropertySymbols(object));\n} : getOwnPropertyNames;\n\nexport function getOwnPropertyDescriptors(obj) {\n  var descs = {};\n\n  getOwnKeys(obj).forEach(function (key) {\n    return descs[key] = getOwnPropertyDescriptor(obj, key);\n  });\n\n  return descs;\n}\n\nexport function createDefaultSetter(key) {\n  return function set(newValue) {\n    Object.defineProperty(this, key, {\n      configurable: true,\n      writable: true,\n      // IS enumerable when reassigned by the outside word\n      enumerable: true,\n      value: newValue\n    });\n\n    return newValue;\n  };\n}\n\nexport function bind(fn, context) {\n  if (fn.bind) {\n    return fn.bind(context);\n  } else {\n    return function __autobind__() {\n      return fn.apply(context, arguments);\n    };\n  }\n}\n\nexport var warn = function () {\n  if ((typeof console === 'undefined' ? 'undefined' : _typeof(console)) !== 'object' || !console || typeof console.warn !== 'function') {\n    return function () {};\n  } else {\n    return bind(console.warn, console);\n  }\n}();\n\nvar seenDeprecations = {};\nexport function internalDeprecation(msg) {\n  if (seenDeprecations[msg] !== true) {\n    seenDeprecations[msg] = true;\n    warn('DEPRECATION: ' + msg);\n  }\n}","var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport { decorate } from './private/utils';\n\nvar GENERIC_FUNCTION_ERROR = '{child} does not properly override {parent}';\nvar FUNCTION_REGEXP = /^function ([_$a-zA-Z\\xA0-\\uFFFF][_$a-zA-Z0-9\\xA0-\\uFFFF]*)?(\\([^\\)]*\\))[\\s\\S]+$/;\n\nvar SyntaxErrorReporter = function () {\n  _createClass(SyntaxErrorReporter, [{\n    key: '_getTopic',\n    value: function _getTopic(descriptor) {\n      if (descriptor === undefined) {\n        return null;\n      }\n\n      if ('value' in descriptor) {\n        return descriptor.value;\n      }\n\n      if ('get' in descriptor) {\n        return descriptor.get;\n      }\n\n      if ('set' in descriptor) {\n        return descriptor.set;\n      }\n    }\n  }, {\n    key: '_extractTopicSignature',\n    value: function _extractTopicSignature(topic) {\n      switch (typeof topic === 'undefined' ? 'undefined' : _typeof(topic)) {\n        case 'function':\n          return this._extractFunctionSignature(topic);\n        default:\n          return this.key;\n      }\n    }\n  }, {\n    key: '_extractFunctionSignature',\n    value: function _extractFunctionSignature(fn) {\n      var _this = this;\n\n      return fn.toString().replace(FUNCTION_REGEXP, function (match) {\n        var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _this.key;\n        var params = arguments[2];\n        return name + params;\n      });\n    }\n  }, {\n    key: 'key',\n    get: function get() {\n      return this.childDescriptor.key;\n    }\n  }, {\n    key: 'parentNotation',\n    get: function get() {\n      return this.parentKlass.constructor.name + '#' + this.parentPropertySignature;\n    }\n  }, {\n    key: 'childNotation',\n    get: function get() {\n      return this.childKlass.constructor.name + '#' + this.childPropertySignature;\n    }\n  }, {\n    key: 'parentTopic',\n    get: function get() {\n      return this._getTopic(this.parentDescriptor);\n    }\n  }, {\n    key: 'childTopic',\n    get: function get() {\n      return this._getTopic(this.childDescriptor);\n    }\n  }, {\n    key: 'parentPropertySignature',\n    get: function get() {\n      return this._extractTopicSignature(this.parentTopic);\n    }\n  }, {\n    key: 'childPropertySignature',\n    get: function get() {\n      return this._extractTopicSignature(this.childTopic);\n    }\n  }]);\n\n  function SyntaxErrorReporter(parentKlass, childKlass, parentDescriptor, childDescriptor) {\n    _classCallCheck(this, SyntaxErrorReporter);\n\n    this.parentKlass = parentKlass;\n    this.childKlass = childKlass;\n    this.parentDescriptor = parentDescriptor;\n    this.childDescriptor = childDescriptor;\n  }\n\n  _createClass(SyntaxErrorReporter, [{\n    key: 'assert',\n    value: function assert(condition) {\n      var msg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n      if (condition !== true) {\n        this.error(GENERIC_FUNCTION_ERROR + msg);\n      }\n    }\n  }, {\n    key: 'error',\n    value: function error(msg) {\n      var _this2 = this;\n\n      msg = msg\n      // Replace lazily, because they actually might not\n      // be available in all cases\n      .replace('{parent}', function (m) {\n        return _this2.parentNotation;\n      }).replace('{child}', function (m) {\n        return _this2.childNotation;\n      });\n      throw new SyntaxError(msg);\n    }\n  }]);\n\n  return SyntaxErrorReporter;\n}();\n\nfunction getDescriptorType(descriptor) {\n  if (descriptor.hasOwnProperty('value')) {\n    return 'data';\n  }\n\n  if (descriptor.hasOwnProperty('get') || descriptor.hasOwnProperty('set')) {\n    return 'accessor';\n  }\n\n  // If none of them exist, browsers treat it as\n  // a data descriptor with a value of `undefined`\n  return 'data';\n}\n\nfunction checkFunctionSignatures(parent, child, reporter) {\n  reporter.assert(parent.length === child.length);\n}\n\nfunction checkDataDescriptors(parent, child, reporter) {\n  var parentValueType = _typeof(parent.value);\n  var childValueType = _typeof(child.value);\n\n  if (parentValueType === 'undefined' && childValueType === 'undefined') {\n    // class properties can be any expression, which isn't ran until the\n    // the instance is created, so we can't reliably get type information\n    // for them yet (per spec). Perhaps when Babel includes flow-type info\n    // in runtime? Tried regex solutions, but super hacky and only feasible\n    // on primitives, which is confusing for usage...\n    reporter.error('descriptor values are both undefined. (class properties are are not currently supported)\\'');\n  }\n\n  if (parentValueType !== childValueType) {\n    var isFunctionOverUndefined = childValueType === 'function' && parentValueType === undefined;\n    // Even though we don't support class properties, this\n    // will still handle more than just functions, just in case.\n    // Shadowing an undefined value is an error if the inherited\n    // value was undefined (usually a class property, not a method)\n    if (isFunctionOverUndefined || parentValueType !== undefined) {\n      reporter.error('value types do not match. {parent} is \"' + parentValueType + '\", {child} is \"' + childValueType + '\"');\n    }\n  }\n\n  // Switch, in preparation for supporting more types\n  switch (childValueType) {\n    case 'function':\n      checkFunctionSignatures(parent.value, child.value, reporter);\n      break;\n\n    default:\n      reporter.error('Unexpected error. Please file a bug with: {parent} is \"' + parentValueType + '\", {child} is \"' + childValueType + '\"');\n      break;\n  }\n}\n\nfunction checkAccessorDescriptors(parent, child, reporter) {\n  var parentHasGetter = typeof parent.get === 'function';\n  var childHasGetter = typeof child.get === 'function';\n  var parentHasSetter = typeof parent.set === 'function';\n  var childHasSetter = typeof child.set === 'function';\n\n  if (parentHasGetter || childHasGetter) {\n    if (!parentHasGetter && parentHasSetter) {\n      reporter.error('{parent} is setter but {child} is getter');\n    }\n\n    if (!childHasGetter && childHasSetter) {\n      reporter.error('{parent} is getter but {child} is setter');\n    }\n\n    checkFunctionSignatures(parent.get, child.get, reporter);\n  }\n\n  if (parentHasSetter || childHasSetter) {\n    if (!parentHasSetter && parentHasGetter) {\n      reporter.error('{parent} is getter but {child} is setter');\n    }\n\n    if (!childHasSetter && childHasGetter) {\n      reporter.error('{parent} is setter but {child} is getter');\n    }\n\n    checkFunctionSignatures(parent.set, child.set, reporter);\n  }\n}\n\nfunction checkDescriptors(parent, child, reporter) {\n  var parentType = getDescriptorType(parent);\n  var childType = getDescriptorType(child);\n\n  if (parentType !== childType) {\n    reporter.error('descriptor types do not match. {parent} is \"' + parentType + '\", {child} is \"' + childType + '\"');\n  }\n\n  switch (childType) {\n    case 'data':\n      checkDataDescriptors(parent, child, reporter);\n      break;\n\n    case 'accessor':\n      checkAccessorDescriptors(parent, child, reporter);\n      break;\n  }\n}\n\nvar suggestionTransforms = [function (key) {\n  return key.toLowerCase();\n}, function (key) {\n  return key.toUpperCase();\n}, function (key) {\n  return key + 's';\n}, function (key) {\n  return key.slice(0, -1);\n}, function (key) {\n  return key.slice(1, key.length);\n}];\n\nfunction findPossibleAlternatives(superKlass, key) {\n  for (var i = 0, l = suggestionTransforms.length; i < l; i++) {\n    var fn = suggestionTransforms[i];\n    var suggestion = fn(key);\n\n    if (suggestion in superKlass) {\n      return suggestion;\n    }\n  }\n\n  return null;\n}\n\nfunction handleDescriptor(target, key, descriptor) {\n  descriptor.key = key;\n  var superKlass = Object.getPrototypeOf(target);\n  var superDescriptor = Object.getOwnPropertyDescriptor(superKlass, key);\n  var reporter = new SyntaxErrorReporter(superKlass, target, superDescriptor, descriptor);\n\n  if (superDescriptor === undefined) {\n    var suggestedKey = findPossibleAlternatives(superKlass, key);\n    var suggestion = suggestedKey ? '\\n\\n  Did you mean \"' + suggestedKey + '\"?' : '';\n    reporter.error('No descriptor matching {child} was found on the prototype chain.' + suggestion);\n  }\n\n  checkDescriptors(superDescriptor, descriptor, reporter);\n\n  return descriptor;\n}\n\nexport default function override() {\n  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return decorate(handleDescriptor, args);\n}","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nimport { decorate, warn } from './private/utils';\n\nvar DEFAULT_MSG = 'This function will be removed in future versions.';\n\nfunction handleDescriptor(target, key, descriptor, _ref) {\n  var _ref2 = _slicedToArray(_ref, 2),\n      _ref2$ = _ref2[0],\n      msg = _ref2$ === undefined ? DEFAULT_MSG : _ref2$,\n      _ref2$2 = _ref2[1],\n      options = _ref2$2 === undefined ? {} : _ref2$2;\n\n  if (typeof descriptor.value !== 'function') {\n    throw new SyntaxError('Only functions can be marked as deprecated');\n  }\n\n  var methodSignature = target.constructor.name + '#' + key;\n\n  if (options.url) {\n    msg += '\\n\\n    See ' + options.url + ' for more details.\\n\\n';\n  }\n\n  return _extends({}, descriptor, {\n    value: function deprecationWrapper() {\n      warn('DEPRECATION ' + methodSignature + ': ' + msg);\n      return descriptor.value.apply(this, arguments);\n    }\n  });\n}\n\nexport default function deprecate() {\n  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return decorate(handleDescriptor, args);\n}","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nimport { decorate } from './private/utils';\n\nfunction suppressedWarningNoop() {\n  // Warnings are currently suppressed via @suppressWarnings\n}\n\nfunction applyWithoutWarnings(context, fn, args) {\n  if ((typeof console === 'undefined' ? 'undefined' : _typeof(console)) === 'object') {\n    var nativeWarn = console.warn;\n    console.warn = suppressedWarningNoop;\n    var ret = fn.apply(context, args);\n    console.warn = nativeWarn;\n    return ret;\n  } else {\n    return fn.apply(context, args);\n  }\n}\n\nfunction handleDescriptor(target, key, descriptor) {\n  return _extends({}, descriptor, {\n    value: function suppressWarningsWrapper() {\n      return applyWithoutWarnings(this, descriptor.value, arguments);\n    }\n  });\n}\n\nexport default function suppressWarnings() {\n  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return decorate(handleDescriptor, args);\n}","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { decorate, internalDeprecation } from './private/utils';\n\nfunction toObject(cache, value) {\n  if (value === Object(value)) {\n    return value;\n  }\n  return cache[value] || (cache[value] = {});\n}\n\nfunction applyAndCache(context, fn, args, cache, signature) {\n  var ret = fn.apply(context, args);\n  cache[signature] = ret;\n  return ret;\n}\n\nfunction metaForDescriptor(descriptor) {\n  var fn = void 0,\n      wrapKey = void 0;\n\n  // This is ugly code, but way faster than other\n  // ways I tried that *looked* pretty\n\n  if (descriptor.value) {\n    fn = descriptor.value;\n    wrapKey = 'value';\n  } else if (descriptor.get) {\n    fn = descriptor.get;\n    wrapKey = 'get';\n  } else if (descriptor.set) {\n    fn = descriptor.set;\n    wrapKey = 'set';\n  }\n\n  return { fn: fn, wrapKey: wrapKey };\n}\n\nfunction handleDescriptor(target, key, descriptor) {\n  var _metaForDescriptor = metaForDescriptor(descriptor),\n      fn = _metaForDescriptor.fn,\n      wrapKey = _metaForDescriptor.wrapKey;\n\n  var argumentCache = new WeakMap();\n  var signatureCache = Object.create(null);\n  var primativeRefCache = Object.create(null);\n  var argumentIdCounter = 0;\n\n  return _extends({}, descriptor, _defineProperty({}, wrapKey, function memoizeWrapper() {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var signature = '0';\n\n    for (var i = 0, l = args.length; i < l; i++) {\n      var arg = args[i];\n      var argRef = toObject(primativeRefCache, arg);\n      var argKey = argumentCache.get(argRef);\n\n      if (argKey === undefined) {\n        argKey = ++argumentIdCounter;\n        argumentCache.set(argRef, argKey);\n      }\n\n      signature += argKey;\n    }\n\n    return signatureCache[signature] || applyAndCache(this, fn, arguments, signatureCache, signature);\n  }));\n}\n\nexport default function memoize() {\n  internalDeprecation('@memoize is deprecated and will be removed shortly. Use @memoize from lodash-decorators.\\n\\n  https://www.npmjs.com/package/lodash-decorators');\n\n  for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n\n  return decorate(handleDescriptor, args);\n}","function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nimport { decorate, createDefaultSetter, getOwnPropertyDescriptors, getOwnKeys, bind } from './private/utils';\nvar defineProperty = Object.defineProperty,\n    getPrototypeOf = Object.getPrototypeOf;\n\n\nvar mapStore = void 0;\n\nfunction getBoundSuper(obj, fn) {\n  if (typeof WeakMap === 'undefined') {\n    throw new Error('Using @autobind on ' + fn.name + '() requires WeakMap support due to its use of super.' + fn.name + '()\\n      See https://github.com/jayphelps/core-decorators.js/issues/20');\n  }\n\n  if (!mapStore) {\n    mapStore = new WeakMap();\n  }\n\n  if (mapStore.has(obj) === false) {\n    mapStore.set(obj, new WeakMap());\n  }\n\n  var superStore = mapStore.get(obj);\n\n  if (superStore.has(fn) === false) {\n    superStore.set(fn, bind(fn, obj));\n  }\n\n  return superStore.get(fn);\n}\n\nfunction autobindClass(klass) {\n  var descs = getOwnPropertyDescriptors(klass.prototype);\n  var keys = getOwnKeys(descs);\n\n  for (var i = 0, l = keys.length; i < l; i++) {\n    var key = keys[i];\n    var desc = descs[key];\n\n    if (typeof desc.value !== 'function' || key === 'constructor') {\n      continue;\n    }\n\n    defineProperty(klass.prototype, key, autobindMethod(klass.prototype, key, desc));\n  }\n}\n\nfunction autobindMethod(target, key, _ref) {\n  var fn = _ref.value,\n      configurable = _ref.configurable,\n      enumerable = _ref.enumerable;\n\n  if (typeof fn !== 'function') {\n    throw new SyntaxError('@autobind can only be used on functions, not: ' + fn);\n  }\n\n  var constructor = target.constructor;\n\n\n  return {\n    configurable: configurable,\n    enumerable: enumerable,\n\n    get: function get() {\n      // Class.prototype.key lookup\n      // Someone accesses the property directly on the prototype on which it is\n      // actually defined on, i.e. Class.prototype.hasOwnProperty(key)\n      if (this === target) {\n        return fn;\n      }\n\n      // Class.prototype.key lookup\n      // Someone accesses the property directly on a prototype but it was found\n      // up the chain, not defined directly on it\n      // i.e. Class.prototype.hasOwnProperty(key) == false && key in Class.prototype\n      if (this.constructor !== constructor && getPrototypeOf(this).constructor === constructor) {\n        return fn;\n      }\n\n      // Autobound method calling super.sameMethod() which is also autobound and so on.\n      if (this.constructor !== constructor && key in this.constructor.prototype) {\n        return getBoundSuper(this, fn);\n      }\n\n      var boundFn = bind(fn, this);\n\n      defineProperty(this, key, {\n        configurable: true,\n        writable: true,\n        // NOT enumerable when it's a bound method\n        enumerable: false,\n        value: boundFn\n      });\n\n      return boundFn;\n    },\n\n    set: createDefaultSetter(key)\n  };\n}\n\nfunction handle(args) {\n  if (args.length === 1) {\n    return autobindClass.apply(undefined, _toConsumableArray(args));\n  } else {\n    return autobindMethod.apply(undefined, _toConsumableArray(args));\n  }\n}\n\nexport default function autobind() {\n  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  if (args.length === 0) {\n    return function () {\n      return handle(arguments);\n    };\n  } else {\n    return handle(args);\n  }\n}","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nimport { decorate, metaFor, internalDeprecation } from './private/utils';\n\nvar DEFAULT_TIMEOUT = 300;\n\nfunction handleDescriptor(target, key, descriptor, _ref) {\n  var _ref2 = _slicedToArray(_ref, 2),\n      _ref2$ = _ref2[0],\n      wait = _ref2$ === undefined ? DEFAULT_TIMEOUT : _ref2$,\n      _ref2$2 = _ref2[1],\n      immediate = _ref2$2 === undefined ? false : _ref2$2;\n\n  var callback = descriptor.value;\n\n  if (typeof callback !== 'function') {\n    throw new SyntaxError('Only functions can be debounced');\n  }\n\n  return _extends({}, descriptor, {\n    value: function value() {\n      var _this = this;\n\n      var _metaFor = metaFor(this),\n          debounceTimeoutIds = _metaFor.debounceTimeoutIds;\n\n      var timeout = debounceTimeoutIds[key];\n      var callNow = immediate && !timeout;\n      var args = arguments;\n\n      clearTimeout(timeout);\n\n      debounceTimeoutIds[key] = setTimeout(function () {\n        delete debounceTimeoutIds[key];\n        if (!immediate) {\n          callback.apply(_this, args);\n        }\n      }, wait);\n\n      if (callNow) {\n        callback.apply(this, args);\n      }\n    }\n  });\n}\n\nexport default function debounce() {\n  internalDeprecation('@debounce is deprecated and will be removed shortly. Use @debounce from lodash-decorators.\\n\\n  https://www.npmjs.com/package/lodash-decorators');\n\n  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return decorate(handleDescriptor, args);\n}","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nimport { decorate, metaFor, internalDeprecation } from './private/utils';\n\nvar DEFAULT_TIMEOUT = 300;\n\nfunction handleDescriptor(target, key, descriptor, _ref) {\n  var _ref2 = _slicedToArray(_ref, 2),\n      _ref2$ = _ref2[0],\n      wait = _ref2$ === undefined ? DEFAULT_TIMEOUT : _ref2$,\n      _ref2$2 = _ref2[1],\n      options = _ref2$2 === undefined ? {} : _ref2$2;\n\n  var callback = descriptor.value;\n\n  if (typeof callback !== 'function') {\n    throw new SyntaxError('Only functions can be throttled');\n  }\n\n  if (options.leading !== false) {\n    options.leading = true;\n  }\n\n  if (options.trailing !== false) {\n    options.trailing = true;\n  }\n\n  return _extends({}, descriptor, {\n    value: function value() {\n      var _this = this;\n\n      var meta = metaFor(this);\n      var throttleTimeoutIds = meta.throttleTimeoutIds,\n          throttlePreviousTimestamps = meta.throttlePreviousTimestamps;\n\n      var timeout = throttleTimeoutIds[key];\n      // last execute timestamp\n      var previous = throttlePreviousTimestamps[key] || 0;\n      var now = Date.now();\n\n      if (options.trailing) {\n        meta.throttleTrailingArgs = arguments;\n      }\n\n      // if first be called and disable the execution on the leading edge\n      // set last execute timestamp to now\n      if (!previous && options.leading === false) {\n        previous = now;\n      }\n\n      var remaining = wait - (now - previous);\n\n      if (remaining <= 0) {\n        clearTimeout(timeout);\n        delete throttleTimeoutIds[key];\n        throttlePreviousTimestamps[key] = now;\n        callback.apply(this, arguments);\n      } else if (!timeout && options.trailing) {\n        throttleTimeoutIds[key] = setTimeout(function () {\n          throttlePreviousTimestamps[key] = options.leading === false ? 0 : Date.now();\n          delete throttleTimeoutIds[key];\n          callback.apply(_this, meta.throttleTrailingArgs);\n          // don't leak memory!\n          meta.throttleTrailingArgs = null;\n        }, remaining);\n      }\n    }\n  });\n}\n\nexport default function throttle() {\n  internalDeprecation('@throttle is deprecated and will be removed shortly. Use @throttle from lodash-decorators.\\n\\n  https://www.npmjs.com/package/lodash-decorators');\n\n  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return decorate(handleDescriptor, args);\n}","function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _toArray(arr) { return Array.isArray(arr) ? arr : Array.from(arr); }\n\nimport { decorate as _decorate, createDefaultSetter } from './private/utils';\nvar defineProperty = Object.defineProperty;\n\n\nfunction handleDescriptor(target, key, descriptor, _ref) {\n  var _ref2 = _toArray(_ref),\n      decorator = _ref2[0],\n      args = _ref2.slice(1);\n\n  var configurable = descriptor.configurable,\n      enumerable = descriptor.enumerable,\n      writable = descriptor.writable;\n\n  var originalGet = descriptor.get;\n  var originalSet = descriptor.set;\n  var originalValue = descriptor.value;\n  var isGetter = !!originalGet;\n\n  return {\n    configurable: configurable,\n    enumerable: enumerable,\n    get: function get() {\n      var fn = isGetter ? originalGet.call(this) : originalValue;\n      var value = decorator.call.apply(decorator, [this, fn].concat(_toConsumableArray(args)));\n\n      if (isGetter) {\n        return value;\n      } else {\n        var desc = {\n          configurable: configurable,\n          enumerable: enumerable\n        };\n\n        desc.value = value;\n        desc.writable = writable;\n\n        defineProperty(this, key, desc);\n\n        return value;\n      }\n    },\n\n    set: isGetter ? originalSet : createDefaultSetter()\n  };\n}\n\nexport default function decorate() {\n  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return _decorate(handleDescriptor, args);\n}","var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nimport { getOwnPropertyDescriptors, getOwnKeys, internalDeprecation } from './private/utils';\n\nvar defineProperty = Object.defineProperty,\n    getPrototypeOf = Object.getPrototypeOf;\n\n\nfunction buggySymbol(symbol) {\n  return Object.prototype.toString.call(symbol) === '[object Symbol]' && (typeof symbol === 'undefined' ? 'undefined' : _typeof(symbol)) === 'object';\n}\n\nfunction hasProperty(prop, obj) {\n  // We have to traverse manually prototypes' chain for polyfilled ES6 Symbols\n  // like \"in\" operator does.\n  // I.e.: Babel 5 Symbol polyfill stores every created symbol in Object.prototype.\n  // That's why we cannot use construction like \"prop in obj\" to check, if needed\n  // prop actually exists in given object/prototypes' chain.\n  if (buggySymbol(prop)) {\n    do {\n      if (obj === Object.prototype) {\n        // Polyfill assigns undefined as value for stored symbol key.\n        // We can assume in this special case if there is nothing assigned it doesn't exist.\n        return typeof obj[prop] !== 'undefined';\n      }\n      if (obj.hasOwnProperty(prop)) {\n        return true;\n      }\n    } while (obj = getPrototypeOf(obj));\n    return false;\n  } else {\n    return prop in obj;\n  }\n}\n\nfunction handleClass(target, mixins) {\n  if (!mixins.length) {\n    throw new SyntaxError('@mixin() class ' + target.name + ' requires at least one mixin as an argument');\n  }\n\n  for (var i = 0, l = mixins.length; i < l; i++) {\n    var descs = getOwnPropertyDescriptors(mixins[i]);\n    var keys = getOwnKeys(descs);\n\n    for (var j = 0, k = keys.length; j < k; j++) {\n      var key = keys[j];\n\n      if (!hasProperty(key, target.prototype)) {\n        defineProperty(target.prototype, key, descs[key]);\n      }\n    }\n  }\n}\n\nexport default function mixin() {\n  for (var _len = arguments.length, mixins = Array(_len), _key = 0; _key < _len; _key++) {\n    mixins[_key] = arguments[_key];\n  }\n\n  internalDeprecation('@mixin is deprecated and will be removed shortly. Use @mixin from lodash-decorators.\\n\\n  https://www.npmjs.com/package/lodash-decorators');\n\n  if (typeof mixins[0] === 'function') {\n    return handleClass(mixins[0], []);\n  } else {\n    return function (target) {\n      return handleClass(target, mixins);\n    };\n  }\n}","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nimport { decorate } from './private/utils';\n\nvar labels = {};\n\n// Exported for mocking in tests\nexport var defaultConsole = {\n  time: console.time ? console.time.bind(console) : function (label) {\n    labels[label] = new Date();\n  },\n  timeEnd: console.timeEnd ? console.timeEnd.bind(console) : function (label) {\n    var timeNow = new Date();\n    var timeTaken = timeNow - labels[label];\n    delete labels[label];\n    console.log(label + ': ' + timeTaken + 'ms');\n  }\n};\n\nvar count = 0;\n\nfunction handleDescriptor(target, key, descriptor, _ref) {\n  var _ref2 = _slicedToArray(_ref, 2),\n      _ref2$ = _ref2[0],\n      prefix = _ref2$ === undefined ? null : _ref2$,\n      _ref2$2 = _ref2[1],\n      console = _ref2$2 === undefined ? defaultConsole : _ref2$2;\n\n  var fn = descriptor.value;\n\n  if (prefix === null) {\n    prefix = target.constructor.name + '.' + key;\n  }\n\n  if (typeof fn !== 'function') {\n    throw new SyntaxError('@time can only be used on functions, not: ' + fn);\n  }\n\n  return _extends({}, descriptor, {\n    value: function value() {\n      var label = prefix + '-' + count;\n      count++;\n      console.time(label);\n\n      try {\n        return fn.apply(this, arguments);\n      } finally {\n        console.timeEnd(label);\n      }\n    }\n  });\n}\n\nexport default function time() {\n  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return decorate(handleDescriptor, args);\n}","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nimport { decorate } from './private/utils';\nvar getPrototypeOf = Object.getPrototypeOf,\n    getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n\nfunction handleDescriptor(target, key, descriptor) {\n  var superKlass = getPrototypeOf(target);\n  var superDesc = getOwnPropertyDescriptor(superKlass, key);\n\n  return _extends({}, superDesc, {\n    value: descriptor.value,\n    initializer: descriptor.initializer,\n    get: descriptor.get || superDesc.get,\n    set: descriptor.set || superDesc.set\n  });\n}\n\nexport default function extendDescriptor() {\n  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return decorate(handleDescriptor, args);\n}","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nimport { decorate, metaFor, warn, bind } from './private/utils';\n\nvar oc = console;\n\n// Exported for mocking in tests\nexport var defaultConsole = {\n  profile: console.profile ? bind(console.profile, console) : function () {},\n  profileEnd: console.profileEnd ? bind(console.profileEnd, console) : function () {},\n  warn: warn\n};\n\nfunction handleDescriptor(target, key, descriptor, _ref) {\n  var _ref2 = _slicedToArray(_ref, 3),\n      _ref2$ = _ref2[0],\n      prefix = _ref2$ === undefined ? null : _ref2$,\n      _ref2$2 = _ref2[1],\n      onceThrottleOrFunction = _ref2$2 === undefined ? false : _ref2$2,\n      _ref2$3 = _ref2[2],\n      console = _ref2$3 === undefined ? defaultConsole : _ref2$3;\n\n  if (!profile.__enabled) {\n    if (!profile.__warned) {\n      console.warn('console.profile is not supported. All @profile decorators are disabled.');\n      profile.__warned = true;\n    }\n    return descriptor;\n  }\n\n  var fn = descriptor.value;\n\n  if (prefix === null) {\n    prefix = target.constructor.name + '.' + key;\n  }\n\n  if (typeof fn !== 'function') {\n    throw new SyntaxError('@profile can only be used on functions, not: ' + fn);\n  }\n\n  return _extends({}, descriptor, {\n    value: function value() {\n      var now = Date.now();\n      var meta = metaFor(this);\n      if (onceThrottleOrFunction === true && !meta.profileLastRan || onceThrottleOrFunction === false || typeof onceThrottleOrFunction === 'number' && now - meta.profileLastRan > onceThrottleOrFunction || typeof onceThrottleOrFunction === 'function' && onceThrottleOrFunction.apply(this, arguments)) {\n        console.profile(prefix);\n        meta.profileLastRan = now;\n      }\n\n      try {\n        return fn.apply(this, arguments);\n      } finally {\n        console.profileEnd(prefix);\n      }\n    }\n  });\n}\n\nexport default function profile() {\n  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return decorate(handleDescriptor, args);\n}\n\n// Only Chrome, Firefox, and Edge support profile.\n// Exposing properties for testing.\nprofile.__enabled = !!console.profile;\nprofile.__warned = false;","var defineProperty = Object.defineProperty,\n    getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n\nexport default function applyDecorators(Class, props) {\n  var prototype = Class.prototype;\n\n\n  for (var key in props) {\n    var decorators = props[key];\n\n    for (var i = 0, l = decorators.length; i < l; i++) {\n      var decorator = decorators[i];\n\n      defineProperty(prototype, key, decorator(prototype, key, getOwnPropertyDescriptor(prototype, key)));\n    }\n  }\n\n  return Class;\n}","export class BaseAdapter {\n\tconstructor({ enabled, slots }) {\n\t\tthis.enabled = enabled;\n\t\tthis.slots = slots;\n\t}\n\n\tprepareAdUnits() {\n\t\treturn Object.keys(this.slots).map((slotName) =>\n\t\t\tthis.prepareConfigForAdUnit(slotName, this.slots[slotName]),\n\t\t);\n\t}\n}\n","import { BaseAdapter } from './base-adapter';\n\nexport class Aol extends BaseAdapter {\n\tconstructor(options) {\n\t\tsuper(options);\n\n\t\tthis.bidderName = 'aol';\n\t\tthis.network = options.network;\n\t}\n\n\tprepareConfigForAdUnit(code, { sizes, placement, alias, sizeId }) {\n\t\treturn {\n\t\t\tcode,\n\t\t\tmediaTypes: {\n\t\t\t\tbanner: {\n\t\t\t\t\tsizes,\n\t\t\t\t},\n\t\t\t},\n\t\t\tbids: [\n\t\t\t\t{\n\t\t\t\t\tbidder: this.bidderName,\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tplacement,\n\t\t\t\t\t\tnetwork: this.network,\n\t\t\t\t\t\talias,\n\t\t\t\t\t\tsizeId,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t};\n\t}\n}\n","import { context } from '@wikia/ad-engine';\nimport { BaseAdapter } from './base-adapter';\n\nexport class Appnexus extends BaseAdapter {\n\tconstructor(options) {\n\t\tsuper(options);\n\n\t\tthis.bidderName = 'appnexus';\n\t\tthis.placements = options.placements;\n\t}\n\n\tprepareConfigForAdUnit(code, { sizes, position = 'mobile' }) {\n\t\treturn {\n\t\t\tcode,\n\t\t\tmediaTypes: {\n\t\t\t\tbanner: {\n\t\t\t\t\tsizes,\n\t\t\t\t},\n\t\t\t},\n\t\t\tbids: [\n\t\t\t\t{\n\t\t\t\t\tbidder: this.bidderName,\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tplacementId: this.getPlacement(position),\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t};\n\t}\n\n\tgetPlacement(position) {\n\t\tif (position === 'mobile') {\n\t\t\tconst vertical = context.get('targeting.mappedVerticalName');\n\n\t\t\tposition = vertical && this.placements[vertical] ? vertical : 'other';\n\t\t}\n\n\t\treturn this.placements[position];\n\t}\n}\n","import { utils } from '@wikia/ad-engine';\nimport { BaseAdapter } from './base-adapter';\n\nexport class AppnexusAst extends BaseAdapter {\n\tconstructor(options) {\n\t\tsuper(options);\n\n\t\tthis.bidderName = 'appnexusAst';\n\t\tthis.aliases = {\n\t\t\tappnexus: [this.bidderName],\n\t\t};\n\t\tthis.debugPlacementId = options.debugPlacementId;\n\t\tthis.isDebugMode = utils.queryString.get('appnexusast_debug_mode') === '1';\n\t}\n\n\tprepareConfigForAdUnit(code, { placementId }) {\n\t\treturn {\n\t\t\tcode,\n\t\t\tmediaTypes: {\n\t\t\t\tvideo: {\n\t\t\t\t\tcontext: 'instream',\n\t\t\t\t\tplayerSize: [640, 480],\n\t\t\t\t},\n\t\t\t},\n\t\t\tbids: [\n\t\t\t\t{\n\t\t\t\t\tbidder: this.bidderName,\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tplacementId: this.isDebugMode ? this.debugPlacementId : placementId,\n\t\t\t\t\t\tvideo: {\n\t\t\t\t\t\t\tskippable: false,\n\t\t\t\t\t\t\tplayback_method: ['auto_play_sound_off'],\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t};\n\t}\n}\n","import { utils } from '@wikia/ad-engine';\nimport { BaseAdapter } from './base-adapter';\n\nexport class AudienceNetwork extends BaseAdapter {\n\tconstructor(options) {\n\t\tsuper(options);\n\n\t\tthis.bidderName = 'audienceNetwork';\n\t\tthis.testMode = utils.queryString.get('audiencenetworktest') === 'true';\n\t}\n\n\tprepareConfigForAdUnit(code, { sizes, placementId }) {\n\t\treturn {\n\t\t\tcode,\n\t\t\tmediaTypes: {\n\t\t\t\tbanner: {\n\t\t\t\t\tsizes,\n\t\t\t\t},\n\t\t\t},\n\t\t\tbids: [\n\t\t\t\t{\n\t\t\t\t\tbidder: this.bidderName,\n\t\t\t\t\tparams: {\n\t\t\t\t\t\ttestMode: this.testMode,\n\t\t\t\t\t\tplacementId,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t};\n\t}\n}\n","import { utils } from '@wikia/ad-engine';\nimport { BaseAdapter } from './base-adapter';\n\nexport class Beachfront extends BaseAdapter {\n\tconstructor(options) {\n\t\tsuper(options);\n\n\t\tthis.bidderName = 'beachfront';\n\t\tthis.bidfloor = 0.01;\n\t\tthis.debugAppId = options.debugAppId;\n\t\tthis.isDebugMode = utils.queryString.get('beachfront_debug_mode') === '1';\n\t}\n\n\tprepareConfigForAdUnit(code, { appId }) {\n\t\treturn {\n\t\t\tcode,\n\t\t\tmediaTypes: {\n\t\t\t\tvideo: {\n\t\t\t\t\tcontext: 'instream',\n\t\t\t\t\tplayerSize: [640, 480],\n\t\t\t\t},\n\t\t\t},\n\t\t\tbids: [\n\t\t\t\t{\n\t\t\t\t\tbidder: this.bidderName,\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tbidfloor: this.bidfloor,\n\t\t\t\t\t\tappId: this.isDebugMode ? this.debugAppId : appId,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t};\n\t}\n}\n","import { BaseAdapter } from './base-adapter';\n\nexport class IndexExchange extends BaseAdapter {\n\tconstructor(options) {\n\t\tsuper(options);\n\n\t\tthis.bidderName = 'indexExchange';\n\t\tthis.aliases = {\n\t\t\tix: [this.bidderName],\n\t\t};\n\t}\n\n\tprepareConfigForAdUnit(code, { sizes, siteId }) {\n\t\treturn {\n\t\t\tcode,\n\t\t\tmediaTypes: {\n\t\t\t\tbanner: {\n\t\t\t\t\tsizes,\n\t\t\t\t},\n\t\t\t},\n\t\t\tbids: sizes.map((size) => ({\n\t\t\t\tbidder: this.bidderName,\n\t\t\t\tparams: {\n\t\t\t\t\tsiteId,\n\t\t\t\t\tsize,\n\t\t\t\t},\n\t\t\t})),\n\t\t};\n\t}\n}\n","import { BaseAdapter } from './base-adapter';\n\nexport class Kargo extends BaseAdapter {\n\tconstructor(options) {\n\t\tsuper(options);\n\n\t\tthis.bidderName = 'kargo';\n\t}\n\n\tprepareConfigForAdUnit(code, { sizes, placementId }) {\n\t\treturn {\n\t\t\tcode,\n\t\t\tsizes,\n\t\t\tbids: [\n\t\t\t\t{\n\t\t\t\t\tbidder: this.bidderName,\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tplacementId,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t};\n\t}\n}\n","import { BaseAdapter } from './base-adapter';\n\nexport class Lkqd extends BaseAdapter {\n\tconstructor(options) {\n\t\tsuper(options);\n\n\t\tthis.bidderName = 'lkqd';\n\t}\n\n\tprepareConfigForAdUnit(code, { placementId, siteId }) {\n\t\treturn {\n\t\t\tcode,\n\t\t\tmediaTypes: {\n\t\t\t\tvideo: {\n\t\t\t\t\tplayerSize: [640, 480],\n\t\t\t\t},\n\t\t\t},\n\t\t\tbids: [\n\t\t\t\t{\n\t\t\t\t\tbidder: this.bidderName,\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tsiteId,\n\t\t\t\t\t\tplacementId,\n\t\t\t\t\t\tpageurl: window.location.hostname,\n\t\t\t\t\t\toutput: 'svpaid',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t};\n\t}\n}\n","import { BaseAdapter } from './base-adapter';\n\nexport class Onemobile extends BaseAdapter {\n\tconstructor(options) {\n\t\tsuper(options);\n\n\t\tthis.bidderName = 'onemobile';\n\t\tthis.siteId = options.siteId;\n\t}\n\n\tprepareConfigForAdUnit(code, { size, pos }) {\n\t\treturn {\n\t\t\tcode,\n\t\t\tmediaTypes: {\n\t\t\t\tbanner: {\n\t\t\t\t\tsizes: [size],\n\t\t\t\t},\n\t\t\t},\n\t\t\tbids: [\n\t\t\t\t{\n\t\t\t\t\tbidder: this.bidderName,\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tdcn: this.siteId,\n\t\t\t\t\t\tpos,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t};\n\t}\n}\n","import { BaseAdapter } from './base-adapter';\n\nexport class Openx extends BaseAdapter {\n\tconstructor(options) {\n\t\tsuper(options);\n\n\t\tthis.bidderName = 'openx';\n\t\tthis.delDomain = options.delDomain;\n\t}\n\n\tprepareConfigForAdUnit(code, { sizes, unit }) {\n\t\treturn {\n\t\t\tcode,\n\t\t\tmediaTypes: {\n\t\t\t\tbanner: {\n\t\t\t\t\tsizes,\n\t\t\t\t},\n\t\t\t},\n\t\t\tbids: [\n\t\t\t\t{\n\t\t\t\t\tbidder: this.bidderName,\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tunit,\n\t\t\t\t\t\tdelDomain: this.delDomain,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t};\n\t}\n}\n","import { BaseAdapter } from './base-adapter';\n\nexport class Pubmatic extends BaseAdapter {\n\tconstructor(options) {\n\t\tsuper(options);\n\n\t\tthis.bidderName = 'pubmatic';\n\t\tthis.publisherId = options.publisherId;\n\t}\n\n\tprepareConfigForAdUnit(code, { sizes, ids }) {\n\t\tswitch (code.toLowerCase()) {\n\t\t\tcase 'featured':\n\t\t\tcase 'incontent_player':\n\t\t\t\treturn this.getVideoConfig(code, ids);\n\t\t\tdefault:\n\t\t\t\treturn this.getStandardConfig(code, sizes, ids);\n\t\t}\n\t}\n\n\tgetVideoConfig(code, ids) {\n\t\tconst videoParams = {\n\t\t\tvideo: {\n\t\t\t\tmimes: ['video/mp4', 'video/x-flv', 'video/webm', 'video/ogg'],\n\t\t\t\tskippable: true,\n\t\t\t\tminduration: 1,\n\t\t\t\tmaxduration: 30,\n\t\t\t\tstartdelay: 0,\n\t\t\t\tplaybackmethod: [2, 3],\n\t\t\t\tprotocols: [2, 3, 5, 6],\n\t\t\t\tlinearity: 1,\n\t\t\t\tplacement: 1,\n\t\t\t},\n\t\t};\n\n\t\treturn {\n\t\t\tcode,\n\t\t\tmediaTypes: {\n\t\t\t\tvideo: {\n\t\t\t\t\tplayerSize: [640, 480],\n\t\t\t\t\tcontext: 'instream',\n\t\t\t\t},\n\t\t\t},\n\t\t\tbids: this.getBids(ids, videoParams),\n\t\t};\n\t}\n\n\tgetStandardConfig(code, sizes, ids) {\n\t\treturn {\n\t\t\tcode,\n\t\t\tmediaTypes: {\n\t\t\t\tbanner: {\n\t\t\t\t\tsizes,\n\t\t\t\t},\n\t\t\t},\n\t\t\tbids: this.getBids(ids),\n\t\t};\n\t}\n\n\tgetBids(ids, params = {}) {\n\t\treturn ids.map((adSlot) => ({\n\t\t\tbidder: this.bidderName,\n\t\t\tparams: {\n\t\t\t\tadSlot,\n\t\t\t\tpublisherId: this.publisherId,\n\t\t\t\t...params,\n\t\t\t},\n\t\t}));\n\t}\n}\n","import { context, slotService } from '@wikia/ad-engine';\nimport { getAdapters } from './adapters-registry';\n\nconst lazyLoadSlots = ['bottom_leaderboard'];\n\nfunction isSlotApplicable(code, lazyLoad) {\n\tconst isSlotLazy = lazyLoadSlots.indexOf(code) !== -1;\n\n\tif (!slotService.getState(code)) {\n\t\treturn false;\n\t}\n\n\tif (\n\t\tlazyLoad !== 'off' &&\n\t\t((lazyLoad === 'pre' && isSlotLazy) || (lazyLoad === 'post' && !isSlotLazy))\n\t) {\n\t\treturn false;\n\t}\n\n\treturn true;\n}\n\nexport function setupAdUnits(adaptersConfig, lazyLoad = 'off') {\n\tconst adUnits = [];\n\tconst adapters = getAdapters(adaptersConfig);\n\n\tadapters.forEach((adapter) => {\n\t\tif (adapter && adapter.enabled) {\n\t\t\tconst adapterAdUnits = adapter.prepareAdUnits();\n\n\t\t\tadapterAdUnits.forEach((adUnit) => {\n\t\t\t\tif (adUnit && isSlotApplicable(adUnit.code, lazyLoad)) {\n\t\t\t\t\tadUnits.push(adUnit);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\n\treturn adUnits;\n}\n\nexport function getBidByAdId(adId) {\n\tif (!window.pbjs || typeof window.pbjs.getBidResponses !== 'function') {\n\t\treturn null;\n\t}\n\n\tlet bids = window.pbjs.getAllPrebidWinningBids().filter((bid) => adId === bid.adId);\n\n\tif (!bids.length) {\n\t\tconst responses = window.pbjs.getBidResponses();\n\n\t\tObject.keys(responses).forEach((adUnit) => {\n\t\t\tconst adUnitsBids = responses[adUnit].bids.filter((bid) => adId === bid.adId);\n\n\t\t\tbids = bids.concat(adUnitsBids);\n\t\t});\n\t}\n\n\treturn bids.length ? bids[0] : null;\n}\n\nexport function getAvailableBidsByAdUnitCode(adUnitCode) {\n\tlet bids = [];\n\n\tif (window.pbjs && typeof window.pbjs.getBidResponsesForAdUnitCode === 'function') {\n\t\tbids = window.pbjs.getBidResponsesForAdUnitCode(adUnitCode).bids || [];\n\t\tbids = bids.filter((bid) => bid.status !== 'rendered');\n\t}\n\n\treturn bids;\n}\n\nexport function getPrebid() {\n\treturn window.pbjs;\n}\n\nexport function getTargeting(slotName) {\n\treturn Object.assign(\n\t\t{\n\t\t\tpos: [slotName],\n\t\t},\n\t\tcontext.get('bidders.prebid.targeting') || {},\n\t);\n}\n\nexport function getWinningVideoBidBySlotName(slotName, allowedBidders) {\n\tif (!window.pbjs || !window.pbjs.getBidResponsesForAdUnitCode) {\n\t\treturn null;\n\t}\n\n\tconst bids = window.pbjs.getBidResponsesForAdUnitCode(slotName).bids || [];\n\n\treturn bids\n\t\t.filter((bid) => {\n\t\t\tconst canUseThisBidder = !allowedBidders || allowedBidders.indexOf(bid.bidderCode) !== -1;\n\t\t\tconst hasVast = bid.vastUrl || bid.vastContent;\n\n\t\t\treturn canUseThisBidder && hasVast && bid.cpm > 0;\n\t\t})\n\t\t.reduce((previousBid, currentBid) => {\n\t\t\tif (previousBid === null || currentBid.cpm > previousBid.cpm) {\n\t\t\t\treturn currentBid;\n\t\t\t}\n\n\t\t\treturn previousBid;\n\t\t}, null);\n}\n\nexport function pushPrebid(callback) {\n\twindow.pbjs.que.push(callback);\n}\n","import { context } from '@wikia/ad-engine';\nimport { getTargeting } from '../prebid-helper';\nimport { BaseAdapter } from './base-adapter';\n\nexport class Rubicon extends BaseAdapter {\n\tconstructor(options) {\n\t\tsuper(options);\n\n\t\tthis.bidderName = 'rubicon';\n\t\tthis.accountId = options.accountId;\n\t}\n\n\tprepareConfigForAdUnit(code, { siteId, zoneId, sizeId, position }) {\n\t\tif (code === 'featured' && !context.get('custom.rubiconInFV')) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst targeting = getTargeting(code);\n\n\t\treturn {\n\t\t\tcode,\n\t\t\tmediaType: 'video',\n\t\t\tmediaTypes: {\n\t\t\t\tvideo: {\n\t\t\t\t\tplayerSize: [640, 480],\n\t\t\t\t\tcontext: 'instream',\n\t\t\t\t},\n\t\t\t},\n\t\t\tbids: [\n\t\t\t\t{\n\t\t\t\t\tbidder: this.bidderName,\n\t\t\t\t\tparams: {\n\t\t\t\t\t\taccountId: this.accountId,\n\t\t\t\t\t\tsiteId,\n\t\t\t\t\t\tzoneId,\n\t\t\t\t\t\tname: code,\n\t\t\t\t\t\tposition,\n\t\t\t\t\t\tinventory: targeting,\n\t\t\t\t\t\tvideo: {\n\t\t\t\t\t\t\tplayerWidth: '640',\n\t\t\t\t\t\t\tplayerHeight: '480',\n\t\t\t\t\t\t\tsize_id: sizeId,\n\t\t\t\t\t\t\tlanguage: targeting.lang ? targeting.lang[0] : 'en',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t};\n\t}\n}\n","import { getTargeting } from '../prebid-helper';\nimport { BaseAdapter } from './base-adapter';\n\nexport class RubiconDisplay extends BaseAdapter {\n\tconstructor(options) {\n\t\tsuper(options);\n\n\t\tthis.bidderName = 'rubicon_display';\n\t\tthis.aliases = {\n\t\t\trubicon: [this.bidderName],\n\t\t};\n\t\tthis.accountId = options.accountId;\n\t}\n\n\tprepareConfigForAdUnit(code, { siteId, zoneId, sizes, position, targeting }) {\n\t\tconst pageTargeting = getTargeting(code);\n\n\t\tObject.keys(targeting || {}).forEach((key) => {\n\t\t\tpageTargeting[key] = targeting[key];\n\t\t});\n\n\t\treturn {\n\t\t\tcode,\n\t\t\tmediaTypes: {\n\t\t\t\tbanner: {\n\t\t\t\t\tsizes,\n\t\t\t\t},\n\t\t\t},\n\t\t\tbids: [\n\t\t\t\t{\n\t\t\t\t\tbidder: this.bidderName,\n\t\t\t\t\tparams: {\n\t\t\t\t\t\taccountId: this.accountId,\n\t\t\t\t\t\tsiteId,\n\t\t\t\t\t\tzoneId,\n\t\t\t\t\t\tname: code,\n\t\t\t\t\t\tposition,\n\t\t\t\t\t\tkeywords: ['rp.fastlane'],\n\t\t\t\t\t\tinventory: pageTargeting,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t};\n\t}\n}\n","import { utils } from '@wikia/ad-engine';\nimport { BaseAdapter } from './base-adapter';\n\nconst price = utils.queryString.get('wikia_adapter');\nconst limit = parseInt(utils.queryString.get('wikia_adapter_limit'), 10) || 99;\nconst timeout = parseInt(utils.queryString.get('wikia_adapter_timeout'), 10) || 0;\nconst useRandomPrice = utils.queryString.get('wikia_adapter_random') === '1';\n\nexport class Wikia extends BaseAdapter {\n\tconstructor(options) {\n\t\tsuper(options);\n\n\t\tthis.bidderName = 'wikia';\n\t\tthis.enabled = !!price;\n\t\tthis.limit = limit;\n\t\tthis.useRandomPrice = useRandomPrice;\n\t\tthis.timeout = timeout;\n\n\t\tthis.create = () => this;\n\t}\n\n\tprepareConfigForAdUnit(code, { sizes }) {\n\t\treturn {\n\t\t\tcode,\n\t\t\tmediaTypes: {\n\t\t\t\tbanner: {\n\t\t\t\t\tsizes,\n\t\t\t\t},\n\t\t\t},\n\t\t\tbids: [\n\t\t\t\t{\n\t\t\t\t\tbidder: this.bidderName,\n\t\t\t\t},\n\t\t\t],\n\t\t};\n\t}\n\n\tgetSpec() {\n\t\treturn {\n\t\t\tcode: this.bidderName,\n\t\t\tsupportedMediaTypes: ['banner'],\n\t\t};\n\t}\n\n\tgetPrice() {\n\t\tif (this.useRandomPrice) {\n\t\t\treturn Math.floor(Math.random() * 2000) / 100;\n\t\t}\n\n\t\treturn parseInt(price, 10) / 100;\n\t}\n\n\tcallBids(bidRequest, addBidResponse, done) {\n\t\twindow.pbjs.que.push(() => {\n\t\t\tthis.addBids(bidRequest, addBidResponse, done);\n\t\t});\n\t}\n\n\taddBids(bidRequest, addBidResponse, done) {\n\t\tsetTimeout(() => {\n\t\t\tbidRequest.bids.forEach((bid) => {\n\t\t\t\tif (this.limit === 0) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst bidResponse = window.pbjs.createBid(1);\n\t\t\t\tconst [width, height] = bid.sizes[0];\n\t\t\t\tconst cpm = this.getPrice();\n\n\t\t\t\tbidResponse.ad = this.getCreative(bid.sizes[0], cpm);\n\t\t\t\tbidResponse.bidderCode = bidRequest.bidderCode;\n\t\t\t\tbidResponse.cpm = cpm;\n\t\t\t\tbidResponse.ttl = 300;\n\t\t\t\tbidResponse.mediaType = 'banner';\n\t\t\t\tbidResponse.width = width;\n\t\t\t\tbidResponse.height = height;\n\n\t\t\t\taddBidResponse(bid.adUnitCode, bidResponse);\n\t\t\t\tthis.limit -= 1;\n\t\t\t});\n\t\t\tdone();\n\t\t}, this.timeout);\n\t}\n\n\tgetCreative(size, cpm) {\n\t\tconst creative = document.createElement('div');\n\n\t\tcreative.style.background = '#00b7e0';\n\t\tcreative.style.color = '#fff';\n\t\tcreative.style.fontFamily = 'sans-serif';\n\t\tcreative.style.height = '100%';\n\t\tcreative.style.textAlign = 'center';\n\t\tcreative.style.width = '100%';\n\n\t\tconst title = document.createElement('p');\n\n\t\ttitle.innerText = 'Wikia Creative';\n\t\ttitle.style.fontWeight = 'bold';\n\t\ttitle.style.margin = '0';\n\t\ttitle.style.paddingTop = '10px';\n\n\t\tconst details = document.createElement('small');\n\n\t\tdetails.innerText = `cpm: ${cpm}, size: ${size.join('x')}`;\n\n\t\tcreative.appendChild(title);\n\t\tcreative.appendChild(details);\n\n\t\treturn creative.outerHTML;\n\t}\n}\n","import { buildVastUrl, context, utils } from '@wikia/ad-engine';\nimport { BaseAdapter } from './base-adapter';\n\nconst price = utils.queryString.get('wikia_video_adapter');\nconst limit = parseInt(utils.queryString.get('wikia_adapter_limit'), 10) || 99;\nconst timeout = parseInt(utils.queryString.get('wikia_adapter_timeout'), 10) || 0;\nconst useRandomPrice = utils.queryString.get('wikia_adapter_random') === '1';\n\nexport class WikiaVideo extends BaseAdapter {\n\tconstructor(options) {\n\t\tsuper(options);\n\n\t\tthis.bidderName = 'wikiaVideo';\n\t\tthis.enabled = !!price;\n\t\tthis.limit = limit;\n\t\tthis.useRandomPrice = useRandomPrice;\n\t\tthis.timeout = timeout;\n\n\t\tthis.create = () => this;\n\t}\n\n\tprepareConfigForAdUnit(code) {\n\t\treturn {\n\t\t\tcode,\n\t\t\tmediaTypes: {\n\t\t\t\tvideo: {\n\t\t\t\t\tcontext: 'outstream',\n\t\t\t\t\tplayerSize: [640, 480],\n\t\t\t\t},\n\t\t\t},\n\t\t\tbids: [\n\t\t\t\t{\n\t\t\t\t\tbidder: this.bidderName,\n\t\t\t\t},\n\t\t\t],\n\t\t};\n\t}\n\n\tgetSpec() {\n\t\treturn {\n\t\t\tcode: this.bidderName,\n\t\t\tsupportedMediaTypes: ['video'],\n\t\t};\n\t}\n\n\tgetPrice() {\n\t\tif (this.useRandomPrice) {\n\t\t\treturn Math.floor(Math.random() * 20);\n\t\t}\n\n\t\treturn parseInt(price, 10) / 100;\n\t}\n\n\tgetVastUrl(width, height, slotName) {\n\t\treturn buildVastUrl(width / height, slotName, {\n\t\t\tvideoAdUnitId: context.get(`bidders.prebid.wikiaVideo.slots.${slotName}.videoAdUnitId`),\n\t\t\tcustomParams: context.get(`bidders.prebid.wikiaVideo.slots.${slotName}.customParams`),\n\t\t});\n\t}\n\n\tcallBids(bidRequest, addBidResponse, done) {\n\t\twindow.pbjs.que.push(() => {\n\t\t\tthis.addBids(bidRequest, addBidResponse, done);\n\t\t});\n\t}\n\n\taddBids(bidRequest, addBidResponse, done) {\n\t\tsetTimeout(() => {\n\t\t\tbidRequest.bids.forEach((bid) => {\n\t\t\t\tif (this.limit === 0) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst bidResponse = window.pbjs.createBid(1);\n\t\t\t\tconst [width, height] = bid.sizes[0];\n\t\t\t\tconst slotName = bid.adUnitCode;\n\n\t\t\t\tbidResponse.bidderCode = bidRequest.bidderCode;\n\t\t\t\tbidResponse.cpm = this.getPrice();\n\t\t\t\tbidResponse.creativeId = 'foo123_wikiaVideoCreativeId';\n\t\t\t\tbidResponse.ttl = 300;\n\t\t\t\tbidResponse.mediaType = 'video';\n\t\t\t\tbidResponse.width = width;\n\t\t\t\tbidResponse.height = height;\n\t\t\t\tbidResponse.vastUrl = this.getVastUrl(width, height, slotName);\n\t\t\t\tbidResponse.videoCacheKey = '123foo_wikiaVideoCacheKey';\n\n\t\t\t\taddBidResponse(bid.adUnitCode, bidResponse);\n\t\t\t\tthis.limit -= 1;\n\t\t\t});\n\n\t\t\tdone();\n\t\t}, this.timeout);\n\t}\n}\n","import { Aol } from './adapters/aol';\nimport { Appnexus } from './adapters/appnexus';\nimport { AppnexusAst } from './adapters/appnexus-ast';\nimport { AudienceNetwork } from './adapters/audience-network';\nimport { Beachfront } from './adapters/beachfront';\nimport { IndexExchange } from './adapters/index-exchange';\nimport { Kargo } from './adapters/kargo';\nimport { Lkqd } from './adapters/lkqd';\nimport { Onemobile } from './adapters/onemobile';\nimport { Openx } from './adapters/openx';\nimport { Pubmatic } from './adapters/pubmatic';\nimport { Rubicon } from './adapters/rubicon';\nimport { RubiconDisplay } from './adapters/rubicon-display';\nimport { Wikia } from './adapters/wikia';\nimport { WikiaVideo } from './adapters/wikia-video';\n\nconst adapters = [];\nconst customAdapters = [];\nconst availableAdapters = {\n\taol: Aol,\n\tappnexus: Appnexus,\n\tappnexusAst: AppnexusAst,\n\taudienceNetwork: AudienceNetwork,\n\tbeachfront: Beachfront,\n\tindexExchange: IndexExchange,\n\tkargo: Kargo,\n\tlkqd: Lkqd,\n\tonemobile: Onemobile,\n\topenx: Openx,\n\tpubmatic: Pubmatic,\n\trubicon: Rubicon,\n\trubiconDisplay: RubiconDisplay,\n};\n\nfunction registerAliases() {\n\tadapters\n\t\t.filter((adapter) => adapter.aliases)\n\t\t.forEach((adapter) => {\n\t\t\twindow.pbjs.que.push(() => {\n\t\t\t\tconst aliasMap = adapter.aliases;\n\n\t\t\t\tObject.keys(aliasMap).forEach((bidderName) => {\n\t\t\t\t\taliasMap[bidderName].forEach((alias) => {\n\t\t\t\t\t\twindow.pbjs.aliasBidder(bidderName, alias);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t});\n}\n\nfunction setupAdapters(bidders) {\n\tObject.keys(availableAdapters).forEach((key) => {\n\t\tif (bidders[key]) {\n\t\t\tconst adapter = new availableAdapters[key](bidders[key]);\n\n\t\t\tadapters.push(adapter);\n\t\t}\n\t});\n\n\tsetupCustomAdapters(bidders);\n}\n\nfunction setupCustomAdapters(bidders) {\n\tif (bidders.wikia) {\n\t\tcustomAdapters.push(new Wikia(bidders.wikia));\n\t}\n\n\tif (bidders.wikiaVideo) {\n\t\tcustomAdapters.push(new WikiaVideo(bidders.wikiaVideo));\n\t}\n\n\tcustomAdapters.forEach((adapter) => {\n\t\tadapters.push(adapter);\n\n\t\twindow.pbjs.que.push(() => {\n\t\t\twindow.pbjs.registerBidAdapter(adapter.create, adapter.bidderName);\n\t\t});\n\t});\n}\n\nexport function getPriorities() {\n\tconst priorities = {};\n\n\tadapters.forEach((adapter) => {\n\t\tpriorities[adapter.bidderName] = adapter.priority || 1;\n\t});\n\n\treturn priorities;\n}\n\nexport function getAdapters(config) {\n\tif (adapters.length === 0 && config) {\n\t\tsetupAdapters(config);\n\t\tregisterAliases();\n\t}\n\n\treturn adapters;\n}\n","import { getAdapters } from './adapters-registry';\nimport { Prebid } from './index';\n\nconst DEFAULT_MAX_CPM = 20;\nconst videoBiddersCap50 = ['appnexusAst', 'rubicon', 'wikiaVideo']; // bidders with $50 cap\n\nfunction isValidPrice(bid) {\n\treturn bid.getStatusCode && bid.getStatusCode() === Prebid.validResponseStatusCode;\n}\n\n/**\n * Round cpm to predefined values.\n *\n * @param {number} cpm\n * @param {number} maxCpm\n * @returns {number}\n */\nfunction roundCpm(cpm, maxCpm) {\n\tlet result = Math.floor(maxCpm);\n\n\tif (cpm === 0) {\n\t\tresult = 0.0;\n\t} else if (cpm < 0.05) {\n\t\tresult = 0.01;\n\t} else if (cpm < 5.0) {\n\t\tresult = Math.floor(cpm * 20) / 20;\n\t} else if (cpm < 10.0) {\n\t\tresult = Math.floor(cpm * 10) / 10;\n\t} else if (cpm < 20.0) {\n\t\tresult = Math.floor(cpm * 2) / 2;\n\t} else if (cpm < maxCpm) {\n\t\tresult = Math.floor(cpm);\n\t}\n\n\treturn result;\n}\n\n/**\n * Round cpm to predefined values and transform to String with 2 decimal places.\n *\n * @param {number} cpm\n * @param {number} maxCpm\n * @returns {string}\n */\nexport function transformPriceFromCpm(cpm, maxCpm = DEFAULT_MAX_CPM) {\n\tmaxCpm = Math.max(maxCpm, DEFAULT_MAX_CPM);\n\n\treturn roundCpm(cpm, maxCpm).toFixed(2);\n}\n\n/**\n *\n * @param {string} slotName\n * @return {object}\n */\nexport function getPrebidBestPrice(slotName) {\n\tconst bestPrices = {};\n\n\tif (window.pbjs && window.pbjs.getBidResponsesForAdUnitCode) {\n\t\tconst slotBids = window.pbjs.getBidResponsesForAdUnitCode(slotName).bids || [];\n\n\t\tgetAdapters().forEach((adapter) => {\n\t\t\tbestPrices[adapter.bidderName] = '';\n\t\t});\n\n\t\tslotBids.forEach((bid) => {\n\t\t\tif (isValidPrice(bid) && bid.status !== 'rendered') {\n\t\t\t\tconst { bidderCode, cpm } = bid;\n\t\t\t\tconst cmpPrice = Math.max(bestPrices[bidderCode] || 0, roundCpm(cpm, DEFAULT_MAX_CPM));\n\n\t\t\t\tif (cmpPrice > 0) {\n\t\t\t\t\tbestPrices[bidderCode] = cmpPrice.toFixed(2);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\treturn bestPrices;\n}\n\nexport function transformPriceFromBid(bid) {\n\tlet maxCpm = DEFAULT_MAX_CPM;\n\n\tif (videoBiddersCap50.includes(bid.bidderCode)) {\n\t\tmaxCpm = 50;\n\t}\n\n\treturn transformPriceFromCpm(bid.cpm, maxCpm);\n}\n","import { context } from '@wikia/ad-engine';\nimport { transformPriceFromBid } from './price-helper';\n\nconst dfpVideoBidders = [\n\t{ bidderCode: 'appnexusAst', contextKey: 'custom.appnexusDfp' },\n\t{ bidderCode: 'beachfront', contextKey: 'custom.beachfrontDfp' },\n\t{ bidderCode: 'lkqd', contextKey: 'custom.lkqdDfp' },\n\t{ bidderCode: 'rubicon', contextKey: 'custom.rubiconDfp' },\n\t{ bidderCode: 'pubmatic', contextKey: 'custom.pubmaticDfp' },\n];\n\nexport function getSettings() {\n\treturn {\n\t\tstandard: {\n\t\t\talwaysUseBid: false,\n\t\t\tadserverTargeting: [\n\t\t\t\t{\n\t\t\t\t\tkey: 'hb_bidder',\n\t\t\t\t\tval: ({ bidderCode }) => bidderCode,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tkey: 'hb_adid',\n\t\t\t\t\tval: ({ adId }) => adId,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tkey: 'hb_pb',\n\t\t\t\t\tval: (bidResponse) => transformPriceFromBid(bidResponse),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tkey: 'hb_size',\n\t\t\t\t\tval: ({ size }) => size,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tkey: 'hb_uuid',\n\t\t\t\t\tval: (bidResponse) => getBidderUuid(bidResponse),\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t};\n}\n\nfunction getBidderUuid(bidResponse) {\n\tconst isVideo = dfpVideoBidders.some(\n\t\t(video) => bidResponse.bidderCode === video.bidderCode && context.get(video.contextKey),\n\t);\n\n\treturn isVideo ? bidResponse.videoCacheKey : 'disabled';\n}\n","import { decorate } from 'core-decorators';\nimport { context, events, utils } from '@wikia/ad-engine';\nimport { BaseBidder } from '../base-bidder';\nimport { getPriorities } from './adapters-registry';\nimport { getPrebidBestPrice } from './price-helper';\nimport { getSettings } from './prebid-settings';\nimport { getAvailableBidsByAdUnitCode, setupAdUnits } from './prebid-helper';\n\nfunction postponeExecutionUntilPbjsLoads(method) {\n\treturn function (...args) {\n\t\treturn window.pbjs.que.push(() => method.apply(this, args));\n\t};\n}\n\nevents.on(events.VIDEO_AD_IMPRESSION, markWinningBidAsUsed);\nevents.on(events.VIDEO_AD_ERROR, markWinningBidAsUsed);\n\nfunction markWinningBidAsUsed(adSlot) {\n\t// Mark ad as rendered\n\tconst adId = context.get(`slots.${adSlot.getSlotName()}.targeting.hb_adid`);\n\n\tif (adId) {\n\t\tif (window.pbjs && typeof window.pbjs.markWinningBidAsUsed === 'function') {\n\t\t\twindow.pbjs.markWinningBidAsUsed({ adId });\n\t\t\tevents.emit(events.VIDEO_AD_USED, adSlot);\n\t\t}\n\t}\n}\n\nconst logGroup = 'prebid';\n\nlet loaded = false;\n\nwindow.pbjs = window.pbjs || {};\nwindow.pbjs.que = window.pbjs.que || [];\n\nevents.registerEvent('BIDS_REFRESH');\nevents.registerEvent('PREBID_LAZY_CALL');\n\nexport class Prebid extends BaseBidder {\n\tstatic validResponseStatusCode = 1;\n\tstatic errorResponseStatusCode = 2;\n\n\tconstructor(bidderConfig, timeout = 2000) {\n\t\tsuper('prebid', bidderConfig, timeout);\n\n\t\tthis.insertScript();\n\n\t\tthis.lazyLoaded = false;\n\t\tthis.isLazyLoadingEnabled = this.bidderConfig.lazyLoadingEnabled;\n\t\tthis.isCMPEnabled = context.get('custom.isCMPEnabled');\n\t\tthis.adUnits = setupAdUnits(this.bidderConfig, this.isLazyLoadingEnabled ? 'pre' : 'off');\n\t\tthis.prebidConfig = {\n\t\t\tdebug:\n\t\t\t\tutils.queryString.get('pbjs_debug') === '1' ||\n\t\t\t\tutils.queryString.get('pbjs_debug') === 'true',\n\t\t\tenableSendAllBids: true,\n\t\t\tbidderSequence: 'random',\n\t\t\tbidderTimeout: this.timeout,\n\t\t\tcache: {\n\t\t\t\turl: 'https://prebid.adnxs.com/pbc/v1/cache',\n\t\t\t},\n\t\t\tuserSync: {\n\t\t\t\tiframeEnabled: true,\n\t\t\t\tenabledBidders: [],\n\t\t\t\tsyncDelay: 6000,\n\t\t\t},\n\t\t};\n\t\tthis.bidsRefreshing = context.get('bidders.prebid.bidsRefreshing');\n\n\t\tif (this.isCMPEnabled) {\n\t\t\tthis.prebidConfig.consentManagement = {\n\t\t\t\tcmpApi: 'iab',\n\t\t\t\ttimeout: this.timeout,\n\t\t\t\tallowAuctionWithoutConsent: false,\n\t\t\t};\n\t\t}\n\n\t\twindow.pbjs = window.pbjs || {};\n\t\twindow.pbjs.que = window.pbjs.que || [];\n\n\t\tthis.applyConfig(this.prebidConfig);\n\n\t\tif (this.bidsRefreshing && this.bidsRefreshing.enabled) {\n\t\t\tthis.registerBidsRefreshing();\n\t\t}\n\t}\n\n\t@decorate(postponeExecutionUntilPbjsLoads)\n\tapplyConfig(config) {\n\t\twindow.pbjs.setConfig(config);\n\t}\n\n\t@decorate(postponeExecutionUntilPbjsLoads)\n\tapplySettings() {\n\t\twindow.pbjs.bidderSettings = getSettings();\n\t}\n\n\t/**\n\t * @protected\n\t */\n\tcallBids(bidsBackHandler) {\n\t\tif (!this.adUnits) {\n\t\t\tthis.adUnits = setupAdUnits(this.bidderConfig, this.isLazyLoadingEnabled ? 'pre' : 'off');\n\t\t}\n\n\t\tif (this.adUnits.length > 0) {\n\t\t\tthis.applySettings();\n\t\t\tthis.requestBids(this.adUnits, bidsBackHandler, this.removeAdUnits);\n\t\t}\n\n\t\tif (this.isLazyLoadingEnabled) {\n\t\t\tevents.on(events.PREBID_LAZY_CALL, () => {\n\t\t\t\tthis.lazyCall(bidsBackHandler);\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * @private\n\t */\n\tinsertScript() {\n\t\tif (loaded) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst libraryUrl = context.get('bidders.prebid.libraryUrl');\n\n\t\tif (!libraryUrl) {\n\t\t\tutils.logger(\n\t\t\t\tlogGroup,\n\t\t\t\t'Prebid library URL not defined. Assuming that window.pbjs will be loaded.',\n\t\t\t);\n\n\t\t\treturn;\n\t\t}\n\n\t\tutils.scriptLoader.loadScript(libraryUrl, 'text/javascript', true, 'first');\n\t\tloaded = true;\n\t}\n\n\tlazyCall(bidsBackHandler) {\n\t\tif (this.lazyLoaded) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.lazyLoaded = true;\n\n\t\tconst adUnitsLazy = setupAdUnits(this.bidderConfig, 'post');\n\n\t\tif (adUnitsLazy.length > 0) {\n\t\t\tthis.requestBids(adUnitsLazy, bidsBackHandler);\n\n\t\t\tthis.adUnits = this.adUnits.concat(adUnitsLazy);\n\t\t}\n\t}\n\n\tremoveAdUnits() {\n\t\t(window.pbjs.adUnits || []).forEach((adUnit) => {\n\t\t\twindow.pbjs.removeAdUnit(adUnit.code);\n\t\t});\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tgetBestPrice(slotName) {\n\t\tconst slotAlias = this.getSlotAlias(slotName);\n\n\t\treturn getPrebidBestPrice(slotAlias);\n\t}\n\n\tgetTargetingKeysToReset() {\n\t\treturn ['hb_bidder', 'hb_adid', 'hb_pb', 'hb_size', 'hb_uuid'];\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tgetTargetingParams(slotName) {\n\t\tlet slotParams = {};\n\n\t\tconst slotAlias = this.getSlotAlias(slotName);\n\t\tconst bids = getAvailableBidsByAdUnitCode(slotAlias);\n\n\t\tif (bids.length) {\n\t\t\tlet bidParams = null;\n\t\t\tconst priorities = getPriorities();\n\n\t\t\tbids.forEach((param) => {\n\t\t\t\tif (!bidParams) {\n\t\t\t\t\tbidParams = param;\n\t\t\t\t} else if (bidParams.cpm === param.cpm) {\n\t\t\t\t\tif (priorities[bidParams.bidder] === priorities[param.bidder]) {\n\t\t\t\t\t\tbidParams = bidParams.timeToRespond > param.timeToRespond ? param : bidParams;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbidParams = priorities[bidParams.bidder] < priorities[param.bidder] ? param : bidParams;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tbidParams = bidParams.cpm < param.cpm ? param : bidParams;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (bidParams) {\n\t\t\t\tslotParams = bidParams.adserverTargeting;\n\t\t\t}\n\n\t\t\t// ADEN-7436: AppNexus hb_uuid fix\n\t\t\t// (adserverTargeting params are being set before cache key is returned)\n\t\t\tslotParams.hb_uuid = slotParams.hb_uuid || bidParams.videoCacheKey || 'disabled';\n\t\t}\n\n\t\treturn slotParams || {};\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tisSupported(slotName) {\n\t\tconst slotAlias = this.getSlotAlias(slotName);\n\n\t\treturn this.adUnits && this.adUnits.some((adUnit) => adUnit.code === slotAlias);\n\t}\n\n\tregisterBidsRefreshing() {\n\t\twindow.pbjs.que.push(() => {\n\t\t\tconst refreshUsedBid = (winningBid) => {\n\t\t\t\tif (this.bidsRefreshing.slots.indexOf(winningBid.adUnitCode) !== -1) {\n\t\t\t\t\tevents.emit(events.BIDS_REFRESH);\n\t\t\t\t\tconst adUnitsToRefresh = this.adUnits.filter(\n\t\t\t\t\t\t(adUnit) =>\n\t\t\t\t\t\t\tadUnit.code === winningBid.adUnitCode &&\n\t\t\t\t\t\t\tadUnit.bids &&\n\t\t\t\t\t\t\tadUnit.bids[0] &&\n\t\t\t\t\t\t\tadUnit.bids[0].bidder === winningBid.bidderCode,\n\t\t\t\t\t);\n\n\t\t\t\t\tthis.requestBids(adUnitsToRefresh, this.bidsRefreshing.bidsBackHandler);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\twindow.pbjs.onEvent('bidWon', refreshUsedBid);\n\t\t\tevents.once(events.PAGE_CHANGE_EVENT, () => {\n\t\t\t\twindow.pbjs.offEvent('bidWon', refreshUsedBid);\n\t\t\t});\n\t\t});\n\t}\n\n\t@decorate(postponeExecutionUntilPbjsLoads)\n\trequestBids(adUnits, bidsBackHandler, withRemove = undefined) {\n\t\tif (withRemove) {\n\t\t\twithRemove();\n\t\t}\n\n\t\twindow.pbjs.requestBids({\n\t\t\tadUnits,\n\t\t\tbidsBackHandler,\n\t\t});\n\t}\n}\n","import { context, events, utils } from '@wikia/ad-engine';\nimport { A9 } from './a9';\nimport { Prebid } from './prebid';\nimport * as prebidHelper from './prebid/prebid-helper';\nimport { transformPriceFromBid } from './prebid/price-helper';\n\nconst biddersRegistry = {};\nconst realSlotPrices = {};\nconst logGroup = 'bidders';\n\nevents.on(events.VIDEO_AD_REQUESTED, (adSlot) => {\n\tadSlot.updateWinningPbBidderDetails();\n});\n\nevents.on(events.VIDEO_AD_USED, (adSlot) => {\n\tupdateSlotTargeting(adSlot.getSlotName());\n});\n\nfunction applyTargetingParams(slotName, targeting) {\n\tObject.keys(targeting).forEach((key) =>\n\t\tcontext.set(`slots.${slotName}.targeting.${key}`, targeting[key]),\n\t);\n}\n\n/**\n * Executes callback function on each enabled bidder\n *\n * @param {function} callback\n */\nfunction forEachBidder(callback) {\n\tObject.keys(biddersRegistry).forEach((bidderName) => {\n\t\tcallback(biddersRegistry[bidderName]);\n\t});\n}\n\nfunction getBidParameters(slotName) {\n\tconst slotParams = {};\n\n\tforEachBidder((bidder) => {\n\t\tif (bidder && bidder.wasCalled()) {\n\t\t\tconst params = bidder.getSlotTargetingParams(slotName);\n\n\t\t\tObject.assign(slotParams, params);\n\t\t}\n\t});\n\n\treturn slotParams;\n}\n\nfunction getCurrentSlotPrices(slotName) {\n\tconst slotPrices = {};\n\n\tforEachBidder((bidder) => {\n\t\tif (bidder && bidder.isSlotSupported(slotName)) {\n\t\t\tconst priceFromBidder = bidder.getSlotBestPrice(slotName);\n\n\t\t\tObject.keys(priceFromBidder).forEach((bidderName) => {\n\t\t\t\tslotPrices[bidderName] = priceFromBidder[bidderName];\n\t\t\t});\n\t\t}\n\t});\n\n\treturn slotPrices;\n}\n\nfunction getDfpSlotPrices(slotName) {\n\treturn realSlotPrices[slotName] || {};\n}\n\n/**\n * Returns true if all bidders replied\n *\n * @returns {boolean}\n */\nfunction hasAllResponses() {\n\tconst missingBidders = Object.keys(biddersRegistry).filter((bidderName) => {\n\t\tconst bidder = biddersRegistry[bidderName];\n\n\t\treturn !bidder.hasResponse();\n\t});\n\n\treturn missingBidders.length === 0;\n}\n\nfunction resetTargetingKeys(slotName) {\n\tforEachBidder((bidder) => {\n\t\tbidder.getTargetingKeysToReset().forEach((key) => {\n\t\t\tcontext.remove(`slots.${slotName}.targeting.${key}`);\n\t\t});\n\t});\n\n\tutils.logger(logGroup, 'resetTargetingKeys', slotName);\n}\n\nfunction requestBids({ responseListener = null }) {\n\tconst config = context.get('bidders');\n\n\tif (config.prebid && config.prebid.enabled) {\n\t\tbiddersRegistry.prebid = new Prebid(config.prebid, config.timeout);\n\t}\n\n\tif (config.a9 && config.a9.enabled) {\n\t\tbiddersRegistry.a9 = new A9(config.a9, config.timeout);\n\t}\n\n\tforEachBidder((bidder) => {\n\t\tif (responseListener) {\n\t\t\tbidder.addResponseListener(responseListener);\n\t\t}\n\n\t\tbidder.call();\n\t});\n}\n\n/**\n * Executes callback function if bidding is finished or timeout is reached\n *\n * @param {function} callback\n *\n * @returns {Promise}\n */\nfunction runOnBiddingReady(callback) {\n\tconst responses = [];\n\n\tforEachBidder((bidder) => {\n\t\tresponses.push(bidder.waitForResponse());\n\t});\n\n\treturn Promise.all(responses).then(callback);\n}\n\nfunction storeRealSlotPrices(slotName) {\n\trealSlotPrices[slotName] = getCurrentSlotPrices(slotName);\n}\n\nfunction updateSlotTargeting(slotName) {\n\tconst bidderTargeting = getBidParameters(slotName);\n\n\tstoreRealSlotPrices(slotName);\n\n\tresetTargetingKeys(slotName);\n\tapplyTargetingParams(slotName, bidderTargeting);\n\n\tutils.logger(logGroup, 'updateSlotTargeting', slotName, bidderTargeting);\n\n\treturn bidderTargeting;\n}\n\nexport const bidders = {\n\tgetBidParameters,\n\tgetCurrentSlotPrices,\n\tgetDfpSlotPrices,\n\thasAllResponses,\n\tprebidHelper,\n\trequestBids,\n\trunOnBiddingReady,\n\ttransformPriceFromBid,\n\tupdateSlotTargeting,\n};\n\nexport * from './wrappers';\n","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;","function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n!(function(global) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  var inModule = typeof module === \"object\";\n  var runtime = global.regeneratorRuntime;\n  if (runtime) {\n    if (inModule) {\n      // If regeneratorRuntime is defined globally and we're in a module,\n      // make the exports object identical to regeneratorRuntime.\n      module.exports = runtime;\n    }\n    // Don't bother evaluating the rest of this file if the runtime was\n    // already defined globally.\n    return;\n  }\n\n  // Define the runtime globally (as expected by generated code) as either\n  // module.exports (if we're in a module) or a new, empty object.\n  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  runtime.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  runtime.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  runtime.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  runtime.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  runtime.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  runtime.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return runtime.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        if (delegate.iterator.return) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  runtime.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  runtime.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n})(\n  // In sloppy mode, unbound `this` refers to the global object, fallback to\n  // Function constructor if we're in global strict mode. That is sadly a form\n  // of indirect eval which violates Content Security Policy.\n  (function() {\n    return this || (typeof self === \"object\" && self);\n  })() || Function(\"return this\")()\n);\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// This method of obtaining a reference to the global object needs to be\n// kept identical to the way it is obtained in runtime.js\nvar g = (function() {\n  return this || (typeof self === \"object\" && self);\n})() || Function(\"return this\")();\n\n// Use `getOwnPropertyNames` because not all browsers support calling\n// `hasOwnProperty` on the global `self` object in a worker. See #183.\nvar hadRuntime = g.regeneratorRuntime &&\n  Object.getOwnPropertyNames(g).indexOf(\"regeneratorRuntime\") >= 0;\n\n// Save the old regeneratorRuntime in case it needs to be restored later.\nvar oldRuntime = hadRuntime && g.regeneratorRuntime;\n\n// Force reevalutation of runtime.js.\ng.regeneratorRuntime = undefined;\n\nmodule.exports = require(\"./runtime\");\n\nif (hadRuntime) {\n  // Restore the original runtime.\n  g.regeneratorRuntime = oldRuntime;\n} else {\n  // Remove the global property added by runtime.js.\n  try {\n    delete g.regeneratorRuntime;\n  } catch(e) {\n    g.regeneratorRuntime = undefined;\n  }\n}\n"],"sourceRoot":""}