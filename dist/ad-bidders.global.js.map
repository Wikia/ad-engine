{"version":3,"sources":["webpack://Wikia.adBidders/webpack/bootstrap","webpack://Wikia.adBidders/external {\"window\":[\"Wikia\",\"adEngine\"]}","webpack://Wikia.adBidders/./node_modules/@babel/runtime/helpers/createClass.js","webpack://Wikia.adBidders/./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack://Wikia.adBidders/./node_modules/@babel/runtime/helpers/inherits.js","webpack://Wikia.adBidders/./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack://Wikia.adBidders/./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack://Wikia.adBidders/./node_modules/@babel/runtime/regenerator/index.js","webpack://Wikia.adBidders/./node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack://Wikia.adBidders/./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack://Wikia.adBidders/./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack://Wikia.adBidders/./node_modules/@babel/runtime/helpers/objectSpread.js","webpack://Wikia.adBidders/./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js","webpack://Wikia.adBidders/./src/ad-bidders/wrappers/apstag.ts","webpack://Wikia.adBidders/./src/ad-bidders/wrappers/cmp.ts","webpack://Wikia.adBidders/./src/ad-bidders/base-bidder.ts","webpack://Wikia.adBidders/./src/ad-bidders/a9/index.ts","webpack://Wikia.adBidders/./node_modules/core-decorators/es/lazy-initialize.js","webpack://Wikia.adBidders/./node_modules/core-decorators/es/private/utils.js","webpack://Wikia.adBidders/./node_modules/core-decorators/es/override.js","webpack://Wikia.adBidders/./node_modules/core-decorators/es/deprecate.js","webpack://Wikia.adBidders/./node_modules/core-decorators/es/suppress-warnings.js","webpack://Wikia.adBidders/./node_modules/core-decorators/es/memoize.js","webpack://Wikia.adBidders/./node_modules/core-decorators/es/autobind.js","webpack://Wikia.adBidders/./node_modules/core-decorators/es/debounce.js","webpack://Wikia.adBidders/./node_modules/core-decorators/es/throttle.js","webpack://Wikia.adBidders/./node_modules/core-decorators/es/decorate.js","webpack://Wikia.adBidders/./node_modules/core-decorators/es/mixin.js","webpack://Wikia.adBidders/./node_modules/core-decorators/es/time.js","webpack://Wikia.adBidders/./node_modules/core-decorators/es/extendDescriptor.js","webpack://Wikia.adBidders/./node_modules/core-decorators/es/profile.js","webpack://Wikia.adBidders/./node_modules/core-decorators/es/applyDecorators.js","webpack://Wikia.adBidders/./src/ad-bidders/prebid/adapters/base-adapter.ts","webpack://Wikia.adBidders/./src/ad-bidders/prebid/adapters/aol.ts","webpack://Wikia.adBidders/./src/ad-bidders/prebid/adapters/appnexus.ts","webpack://Wikia.adBidders/./src/ad-bidders/prebid/adapters/appnexus-ast.ts","webpack://Wikia.adBidders/./src/ad-bidders/prebid/adapters/audience-network.ts","webpack://Wikia.adBidders/./src/ad-bidders/prebid/adapters/beachfront.ts","webpack://Wikia.adBidders/./src/ad-bidders/prebid/adapters/index-exchange.ts","webpack://Wikia.adBidders/./src/ad-bidders/prebid/adapters/kargo.ts","webpack://Wikia.adBidders/./src/ad-bidders/prebid/adapters/lkqd.ts","webpack://Wikia.adBidders/./src/ad-bidders/prebid/adapters/onemobile.ts","webpack://Wikia.adBidders/./src/ad-bidders/prebid/adapters/openx.ts","webpack://Wikia.adBidders/./src/ad-bidders/prebid/adapters/pubmatic.ts","webpack://Wikia.adBidders/./src/ad-bidders/prebid/prebid-helper.ts","webpack://Wikia.adBidders/./src/ad-bidders/prebid/adapters/rubicon.ts","webpack://Wikia.adBidders/./src/ad-bidders/prebid/adapters/rubicon-display.ts","webpack://Wikia.adBidders/./src/ad-bidders/prebid/adapters/wikia.ts","webpack://Wikia.adBidders/./src/ad-bidders/prebid/adapters/wikia-video.ts","webpack://Wikia.adBidders/./src/ad-bidders/prebid/adapters-registry.ts","webpack://Wikia.adBidders/./src/ad-bidders/prebid/price-helper.ts","webpack://Wikia.adBidders/./src/ad-bidders/prebid/prebid-settings.ts","webpack://Wikia.adBidders/./src/ad-bidders/prebid/index.ts","webpack://Wikia.adBidders/./src/ad-bidders/index.ts","webpack://Wikia.adBidders/./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack://Wikia.adBidders/./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack://Wikia.adBidders/./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack://Wikia.adBidders/./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack://Wikia.adBidders/./node_modules/@babel/runtime/helpers/typeof.js","webpack://Wikia.adBidders/./node_modules/@babel/runtime/helpers/defineProperty.js","webpack://Wikia.adBidders/./node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js","webpack://Wikia.adBidders/./node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime-module.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","window","_defineProperties","target","props","length","descriptor","writable","key","Constructor","protoProps","staticProps","instance","TypeError","setPrototypeOf","subClass","superClass","create","constructor","_getPrototypeOf","getPrototypeOf","__proto__","_typeof","assertThisInitialized","self","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","done","Promise","then","fn","this","args","arguments","apply","err","undefined","ReferenceError","arrayWithHoles","iterableToArrayLimit","nonIterableRest","arr","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","forEach","decorators","context","desc","initializer","slice","reverse","reduce","decorator","Apstag","classCallCheck_default","renderImpEndCallbacks","utils","insertScript","configure","addRenderImpHooks","createClass_default","script","scriptLoader","loadScript","_addRenderImpHooks","asyncToGenerator_default","regenerator_default","a","mark","_callee","original","_this","wrap","_context","prev","next","apstag","renderImp","doc","impId","cb","stop","_this2","_Q","init","_len","Array","_key","configureCommand","fetchBids","_len2","_key2","command","push","_init","_callee2","apsConfig","_context2","_x","_fetchBids","_callee3","bidsConfig","_args3","_context3","abrupt","getPromiseAndExecuteCallback","currentBids","_x2","_targetingKeys","_callee4","_context4","targetingKeys","_enableDebug","_callee5","_context5","debug","_disableDebug","_callee6","_context6","callback","Error","Cmp","param","__cmp","consentData","newCmp","cmp","BaseBidder","bidderConfig","timeout","logGroup","resetState","logger","called","response","onResponseCallbacks","LazyQueue","onItemFlush","callBids","onBidResponse","calculatePrices","flush","slotName","getBestPrice","isSlotSupported","getTargetingParams","isSupported","_this3","createWithTimeout","hasResponse","addResponseListener","NotImplementedException","A9","_BaseBidder","possibleConstructorReturn_default","getPrototypeOf_default","loaded","isCMPEnabled","amazonId","slots","slotsNames","bids","priceMap","slotNamesMap","make","events","slotService","bidsRefreshing","isRenderImpOverwritten","inherits_default","initIfNotLoaded","a9Slots","getA9SlotsDefinitions","getApstagConfig","objectSpread_default","pubID","videoAdServer","deals","dealsEnabled","getGdprIfApplicable","gdpr","enabled","gdprApplies","consent","cmpTimeout","map","getSlotAlias","slotAlias","createSlotDefinition","slot","refresh","_args2","sent","addApstagRenderImpHookOnFirstFetch","_ref","bid","_ref2","bidTargeting","slotID","getBidTargetingWithKeys","updateBidSlot","emit","BIDS_REFRESH","addApstagRenderImpHook","_this4","onRenderImpEnd","getRenderedSlot","getSlotName","refreshBid","renderedSlot","getTargeting","amzniid","shouldRefreshSlot","slotDef","includes","config","slotId","definition","videoEnabled","type","mediaType","sizes","_getBidTargetingWithKeys","helpers","t0","t1","targeting","t2","t3","_x3","_this5","indexOf","_callBids","exists","getConsentData","_this6","amznbid","a9","handleDescriptor","ret","set","createDefaultSetter","lazyInitialize","decorate","_class","_descriptor","_descriptor2","_descriptor3","_descriptor4","_descriptor5","Symbol","iterator","obj","_initDefineProp","_applyDecoratedDescriptor","_toConsumableArray","isArray","arr2","from","utils_defineProperty","getOwnPropertyNames","entryArgs","isDescriptor","Meta","_classCallCheck","META_KEY","metaFor","newValue","bind","warn","console","override_typeof","_createClass","defineProperties","FUNCTION_REGEXP","SyntaxErrorReporter","parentKlass","childKlass","parentDescriptor","childDescriptor","override_classCallCheck","topic","_extractFunctionSignature","toString","replace","match","parentPropertySignature","childPropertySignature","_getTopic","_extractTopicSignature","parentTopic","childTopic","condition","msg","parentNotation","childNotation","SyntaxError","assign","decorate_defineProperty","decorate_handleDescriptor","_toArray","originalGet","originalSet","originalValue","isGetter","decorate_toConsumableArray","decorate_decorate","labels","time","timeEnd","profile_extends","profile_slicedToArray","_arr","_n","_d","_e","_s","_i","sliceIterator","profile_defaultConsole","profile","profileEnd","profile_handleDescriptor","_ref2$","prefix","_ref2$2","onceThrottleOrFunction","_ref2$3","__enabled","__warned","now","Date","meta","profileLastRan","BaseAdapter","prepareConfigForAdUnit","Aol","_BaseAdapter","options","bidderName","network","code","placement","alias","sizeId","mediaTypes","banner","bidder","params","Appnexus","placements","_ref$position","position","placementId","getPlacement","vertical","AppnexusAst","aliases","appnexus","debugPlacementId","isDebugMode","queryString","video","playerSize","skippable","playback_method","AudienceNetwork","testMode","Beachfront","bidfloor","debugAppId","appId","IndexExchange","ix","siteId","size","Kargo","Lkqd","pageurl","location","hostname","output","Onemobile","pos","dcn","Openx","delDomain","unit","Pubmatic","publisherId","ids","toLowerCase","getVideoConfig","getStandardConfig","getBids","mimes","minduration","maxduration","startdelay","playbackmethod","protocols","linearity","adSlot","lazyLoadSlots","setupAdUnits","adaptersConfig","lazyLoad","adUnits","getAdapters","adapter","prepareAdUnits","adUnit","isSlotLazy","getState","isSlotApplicable","getBidByAdId","adId","pbjs","getBidResponses","getAllPrebidWinningBids","responses","adUnitsBids","getAvailableBidsByAdUnitCode","adUnitCode","getBidResponsesForAdUnitCode","status","getPrebid","getWinningVideoBidBySlotName","allowedBidders","canUseThisBidder","bidderCode","hasVast","vastUrl","vastContent","cpm","previousBid","currentBid","pushPrebid","que","Rubicon","accountId","zoneId","inventory","playerWidth","playerHeight","size_id","language","lang","RubiconDisplay","rubicon","pageTargeting","keywords","price","limit","parseInt","useRandomPrice","Wikia","assertThisInitialized_default","supportedMediaTypes","Math","floor","random","bidRequest","addBidResponse","addBids","setTimeout","bidResponse","createBid","_bid$sizes$","slicedToArray_default","width","height","getPrice","ad","getCreative","ttl","creative","document","createElement","style","background","color","fontFamily","textAlign","title","innerText","fontWeight","margin","paddingTop","details","join","appendChild","outerHTML","WikiaVideo","buildVastUrl","videoAdUnitId","customParams","creativeId","getVastUrl","videoCacheKey","adapters","customAdapters","availableAdapters","aol","appnexusAst","audienceNetwork","beachfront","indexExchange","kargo","lkqd","onemobile","openx","pubmatic","rubiconDisplay","setupAdapters","bidders","wikia","wikiaVideo","registerBidAdapter","setupCustomAdapters","aliasMap","aliasBidder","DEFAULT_MAX_CPM","videoBiddersCap50","roundCpm","maxCpm","result","getPrebidBestPrice","bestPrices","slotBids","getStatusCode","Prebid","validResponseStatusCode","isValidPrice","cmpPrice","max","toFixed","transformPriceFromBid","transformPriceFromCpm","dfpVideoBidders","contextKey","getSettings","standard","alwaysUseBid","adserverTargeting","val","_ref3","some","getBidderUuid","postponeExecutionUntilPbjsLoads","method","markWinningBidAsUsed","VIDEO_AD_USED","on","VIDEO_AD_IMPRESSION","VIDEO_AD_ERROR","registerEvent","_dec","_dec2","_dec3","_temp","_class2","lazyLoaded","isLazyLoadingEnabled","lazyLoadingEnabled","prebidConfig","enableSendAllBids","bidderSequence","bidderTimeout","cache","url","userSync","iframeEnabled","enabledBidders","syncDelay","consentManagement","cmpApi","allowAuctionWithoutConsent","applyConfig","registerBidsRefreshing","setConfig","bidderSettings","bidsBackHandler","applySettings","requestBids","removeAdUnits","PREBID_LAZY_CALL","lazyCall","libraryUrl","adUnitsLazy","removeAdUnit","slotParams","bidParams","priorities","priority","getPriorities","timeToRespond","hb_uuid","refreshUsedBid","winningBid","adUnitsToRefresh","onEvent","once","PAGE_CHANGE_EVENT","offEvent","withRemove","errorResponseStatusCode","prebid_class","applyDecoratedDescriptor_default","__webpack_exports__","ad_bidders_bidders","apstag_Apstag","cmp_Cmp","biddersRegistry","realSlotPrices","forEachBidder","getBidParameters","wasCalled","getSlotTargetingParams","getCurrentSlotPrices","slotPrices","priceFromBidder","getSlotBestPrice","updateSlotTargeting","bidderTargeting","storeRealSlotPrices","getTargetingKeysToReset","remove","resetTargetingKeys","applyTargetingParams","VIDEO_AD_REQUESTED","updateWinningPbBidderDetails","getDfpSlotPrices","hasAllResponses","prebidHelper","_ref$responseListener","responseListener","prebid","runOnBiddingReady","waitForResponse","all","_setPrototypeOf","_typeof2","global","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","inModule","runtime","regeneratorRuntime","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","IteratorPrototype","getProto","NativeIteratorPrototype","values","Gp","GeneratorFunctionPrototype","Generator","GeneratorFunction","displayName","isGeneratorFunction","genFun","ctor","awrap","__await","defineIteratorMethods","AsyncIterator","async","innerFn","outerFn","tryLocsList","iter","pop","Context","reset","skipTempReset","_sent","delegate","tryEntries","resetTryEntry","charAt","isNaN","rootRecord","completion","rval","dispatchException","exception","handle","loc","caught","record","entry","tryLoc","hasCatch","hasFinally","catchLoc","finallyLoc","finallyEntry","complete","afterLoc","finish","catch","thrown","delegateYield","iterable","resultName","nextLoc","protoGenerator","generator","_invoke","state","doneResult","delegateResult","maybeInvokeDelegate","tryCatch","makeInvokeMethod","previousPromise","callInvokeWithMethodAndArg","invoke","unwrapped","return","pushTryEntry","locs","iteratorMethod","Function","g","hadRuntime","oldRuntime","e"],"mappings":"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","file":"ad-bidders.global.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 12);\n","(function() { module.exports = window[\"Wikia\"][\"adEngine\"]; }());","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","module.exports = require(\"regenerator-runtime\");\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","var defineProperty = require(\"./defineProperty\");\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nmodule.exports = _objectSpread;","function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n  var desc = {};\n  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n    desc[key] = descriptor[key];\n  });\n  desc.enumerable = !!desc.enumerable;\n  desc.configurable = !!desc.configurable;\n\n  if ('value' in desc || desc.initializer) {\n    desc.writable = true;\n  }\n\n  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n    return decorator(target, property, desc) || desc;\n  }, desc);\n\n  if (context && desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n    desc.initializer = undefined;\n  }\n\n  if (desc.initializer === void 0) {\n    Object['define' + 'Property'](target, property, desc);\n    desc = null;\n  }\n\n  return desc;\n}\n\nmodule.exports = _applyDecoratedDescriptor;","import { utils } from '@wikia/ad-engine';\n\nexport class Apstag {\n\t/**\n\t * @private\n\t */\n\tstatic instance;\n\n\tstatic make() {\n\t\tif (!Apstag.instance) {\n\t\t\tApstag.instance = new Apstag();\n\t\t}\n\n\t\treturn Apstag.instance;\n\t}\n\n\t/**\n\t * @private\n\t */\n\trenderImpEndCallbacks = [];\n\n\t/**\n\t * @private\n\t */\n\tconstructor() {\n\t\tthis.utils = utils;\n\t\tthis.insertScript();\n\t\tthis.configure();\n\t\tthis.addRenderImpHooks();\n\t}\n\n\t/**\n\t * @private\n\t */\n\tinsertScript() {\n\t\tthis.script = this.utils.scriptLoader.loadScript(\n\t\t\t'//c.amazon-adsystem.com/aax2/apstag.js',\n\t\t\t'text/javascript',\n\t\t\ttrue,\n\t\t\t'first',\n\t\t);\n\t}\n\n\t/**\n\t * @private\n\t */\n\tasync addRenderImpHooks() {\n\t\tawait this.script;\n\t\tconst original = window.apstag.renderImp;\n\n\t\twindow.apstag.renderImp = (doc, impId) => {\n\t\t\toriginal(doc, impId);\n\t\t\tthis.renderImpEndCallbacks.forEach((cb) => cb(doc, impId));\n\t\t};\n\t}\n\n\t/**\n\t * @private\n\t */\n\t// TODO May not be necessary - try to remove.\n\tconfigure() {\n\t\twindow.apstag = window.apstag || {};\n\t\twindow.apstag._Q = window.apstag._Q || [];\n\n\t\tif (typeof window.apstag.init === 'undefined') {\n\t\t\twindow.apstag.init = (...args) => {\n\t\t\t\tthis.configureCommand('i', args);\n\t\t\t};\n\t\t}\n\n\t\tif (typeof window.apstag.fetchBids === 'undefined') {\n\t\t\twindow.apstag.fetchBids = (...args) => {\n\t\t\t\tthis.configureCommand('f', args);\n\t\t\t};\n\t\t}\n\t}\n\n\t/** @private */\n\tconfigureCommand(command, args) {\n\t\twindow.apstag._Q.push([command, args]);\n\t}\n\n\tasync init(apsConfig) {\n\t\tawait this.script;\n\t\twindow.apstag.init(apsConfig);\n\t}\n\n\t/**\n\t * @param {{slots: A9SlotDefinition[], timeout: number}} bidsConfig configuration of bids\n\t * @param {function(object)} cb Callback receiving current bids\n\t * @returns {!Promise} If `cb` has been omitted\n\t */\n\tasync fetchBids(bidsConfig, cb = null) {\n\t\tawait this.script;\n\n\t\treturn this.utils.getPromiseAndExecuteCallback((resolve) => {\n\t\t\twindow.apstag.fetchBids(bidsConfig, (currentBids) => resolve(currentBids));\n\t\t}, cb);\n\t}\n\n\tasync targetingKeys() {\n\t\tawait this.script;\n\n\t\treturn window.apstag.targetingKeys();\n\t}\n\n\tasync enableDebug() {\n\t\tawait this.script;\n\t\twindow.apstag.debug('enable');\n\t}\n\n\tasync disableDebug() {\n\t\tawait this.script;\n\t\twindow.apstag.debug('disable');\n\t}\n\n\t/**\n\t * Executes callback each time after apstag.renderImp is called\n\t * @param {function} callback\n\t */\n\tonRenderImpEnd(callback) {\n\t\tif (typeof callback !== 'function') {\n\t\t\tthrow new Error('onRenderImpEnd used with callback not being a function');\n\t\t}\n\t\tthis.renderImpEndCallbacks.push(callback);\n\t}\n}\n","import { utils } from '@wikia/ad-engine';\n\nexport class Cmp {\n\tget exists() {\n\t\treturn !!window.__cmp;\n\t}\n\n\t/**\n\t * @param {*=} param\n\t * @param {function(object)} cb Callback receiving current bids\n\t * @returns {!Promise} If `cb` has been omitted\n\t */\n\tgetConsentData(param, cb = null) {\n\t\treturn utils.getPromiseAndExecuteCallback((resolve) => {\n\t\t\twindow.__cmp('getConsentData', param, (consentData) => resolve(consentData));\n\t\t}, cb);\n\t}\n\n\toverride(newCmp) {\n\t\twindow.__cmp = newCmp;\n\t}\n}\n\nexport const cmp = new Cmp();\n","import { context, utils } from '@wikia/ad-engine';\n\n/**\n * @abstract\n */\nexport class BaseBidder {\n\tconstructor(name, bidderConfig, timeout = 2000) {\n\t\tthis.name = name;\n\t\tthis.logGroup = `${name}-bidder`;\n\t\tthis.bidderConfig = bidderConfig;\n\t\tthis.timeout = timeout;\n\t\tthis.utils = utils;\n\t\tthis.context = context;\n\n\t\tthis.resetState();\n\n\t\tthis.utils.logger(this.logGroup, 'created');\n\t}\n\n\tresetState() {\n\t\tthis.called = false;\n\t\tthis.response = false;\n\n\t\tthis.onResponseCallbacks = new utils.LazyQueue();\n\t\tthis.onResponseCallbacks.onItemFlush((callback) => {\n\t\t\tcallback(this.name);\n\t\t});\n\t}\n\n\tcall() {\n\t\tthis.response = false;\n\t\tthis.called = true;\n\n\t\tthis.callBids(() => this.onBidResponse());\n\n\t\tthis.utils.logger(this.logGroup, 'called');\n\t}\n\n\t/**\n\t * @protected\n\t */\n\tonBidResponse() {\n\t\tthis.response = true;\n\n\t\tthis.calculatePrices();\n\t\tthis.onResponseCallbacks.flush();\n\n\t\tthis.utils.logger(this.logGroup, 'respond');\n\t}\n\n\t/**\n\t * Returns bidder slot alias if available, otherwise slot name\n\t * @protected\n\t * @param {string} slotName\n\t * @returns {string}\n\t */\n\tgetSlotAlias(slotName) {\n\t\treturn context.get(`slots.${slotName}.bidderAlias`) || slotName;\n\t}\n\n\t/**\n\t * @param {string} slotName\n\t * @returns {{}}\n\t */\n\tgetSlotBestPrice(slotName) {\n\t\treturn this.getBestPrice(slotName);\n\t}\n\n\t/**\n\t * @param {string} slotName\n\t * @returns {{}}\n\t */\n\tgetSlotTargetingParams(slotName) {\n\t\tif (!this.called || !this.isSlotSupported(slotName)) {\n\t\t\treturn {};\n\t\t}\n\n\t\treturn this.getTargetingParams(slotName);\n\t}\n\n\t/**\n\t * @param {string} slotName\n\t * @returns {boolean}\n\t */\n\tisSlotSupported(slotName) {\n\t\treturn this.isSupported(slotName);\n\t}\n\n\t/**\n\t * Fires the Promise if bidder replied or timeout is reached\n\t * @returns {Promise}\n\t */\n\twaitForResponse() {\n\t\treturn this.utils.createWithTimeout((resolve) => {\n\t\t\tif (this.hasResponse()) {\n\t\t\t\tresolve();\n\t\t\t} else {\n\t\t\t\tthis.addResponseListener(resolve);\n\t\t\t}\n\t\t}, this.timeout);\n\t}\n\n\t/**\n\t * @returns {boolean}\n\t */\n\thasResponse() {\n\t\treturn this.response;\n\t}\n\n\taddResponseListener(callback) {\n\t\tthis.onResponseCallbacks.push(callback);\n\t}\n\n\t/**\n\t * Check if bidder was called\n\t * @returns {boolean}\n\t */\n\twasCalled() {\n\t\treturn this.called;\n\t}\n\n\t/**\n\t * @abstract\n\t * @protected\n\t */\n\tcallBids(cb) {\n\t\tthrow new utils.NotImplementedException({ cb });\n\t}\n\n\t/**\n\t * @abstract\n\t * @protected\n\t */\n\tcalculatePrices() {\n\t\tthrow new utils.NotImplementedException();\n\t}\n\n\t/**\n\t * @abstract\n\t * @protected\n\t * @param {string} slotName\n\t * @returns {*|{}}\n\t */\n\tgetBestPrice(slotName) {\n\t\tthrow new utils.NotImplementedException({ slotName });\n\t}\n\n\t/**\n\t * @abstract\n\t * @protected\n\t * @param {string} slotName\n\t * @returns {*|{}}\n\t */\n\tgetTargetingParams(slotName) {\n\t\tthrow new utils.NotImplementedException({ slotName });\n\t}\n\n\t/**\n\t * Checks if slot with given name is supported by bidder.\n\t * @abstract\n\t * @protected\n\t * @param {string} slotName\n\t * @returns {boolean}\n\t */\n\tisSupported(slotName) {\n\t\tthrow new utils.NotImplementedException({ slotName });\n\t}\n}\n","import { context, events, slotService, utils } from '@wikia/ad-engine';\nimport { Apstag, cmp } from '../wrappers';\nimport { BaseBidder } from '../base-bidder';\n\nconst logGroup = 'A9';\n\n/**\n * @typedef {Object} A9SlotDefinition\n * @property {string} slotID\n * @property {string} slotName\n */\n\nexport class A9 extends BaseBidder {\n\t/** @private */\n\tloaded = false;\n\n\tconstructor(bidderConfig, timeout = 2000) {\n\t\tsuper('a9', bidderConfig, timeout);\n\n\t\tthis.isCMPEnabled = context.get('custom.isCMPEnabled');\n\t\tthis.amazonId = this.bidderConfig.amazonId;\n\t\tthis.slots = this.bidderConfig.slots;\n\t\tthis.slotsNames = Object.keys(this.slots);\n\t\tthis.bids = {};\n\t\tthis.priceMap = {};\n\t\tthis.slotNamesMap = {};\n\t\tthis.targetingKeys = [];\n\t\tthis.apstag = Apstag.make();\n\t\tthis.cmp = cmp;\n\t\tthis.utils = utils;\n\t\tthis.events = events;\n\t\tthis.slotService = slotService;\n\t\tthis.timeout = timeout;\n\t\tthis.bidsRefreshing = context.get('bidders.a9.bidsRefreshing') || {};\n\t\tthis.isRenderImpOverwritten = false;\n\t}\n\n\tgetPrices() {\n\t\treturn this.priceMap;\n\t}\n\n\tgetTargetingKeysToReset() {\n\t\treturn this.targetingKeys;\n\t}\n\n\tinit(consentData = {}) {\n\t\tthis.initIfNotLoaded(consentData);\n\n\t\tthis.bids = {};\n\t\tthis.priceMap = {};\n\t\tconst a9Slots = this.getA9SlotsDefinitions(this.slotsNames);\n\n\t\tthis.fetchBids(a9Slots);\n\t}\n\n\t/**\n\t * @private\n\t * @param consentData\n\t */\n\tinitIfNotLoaded(consentData) {\n\t\tif (!this.loaded) {\n\t\t\tthis.apstag.init(this.getApstagConfig(consentData));\n\t\t\tthis.loaded = true;\n\t\t}\n\t}\n\n\t/**\n\t * @private\n\t * @param consentData\n\t * @returns {{videoAdServer: string, deals: boolean, pubID: (*|string), gdpr: ()}}\n\t */\n\tgetApstagConfig(consentData) {\n\t\treturn {\n\t\t\tpubID: this.amazonId,\n\t\t\tvideoAdServer: 'DFP',\n\t\t\tdeals: !!this.bidderConfig.dealsEnabled,\n\t\t\t...this.getGdprIfApplicable(consentData),\n\t\t};\n\t}\n\n\t/**\n\t * @private\n\t * @param consentData\n\t * @returns {*}\n\t */\n\tgetGdprIfApplicable(consentData) {\n\t\tif (this.isCMPEnabled && consentData && consentData.consentData) {\n\t\t\treturn {\n\t\t\t\tgdpr: {\n\t\t\t\t\tenabled: consentData.gdprApplies,\n\t\t\t\t\tconsent: consentData.consentData,\n\t\t\t\t\tcmpTimeout: 5000,\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\n\t\treturn {};\n\t}\n\n\t/**\n\t * Transforms slots names into A9 slot definitions.\n\t * @param {string[]} slotsNames\n\t * @returns {A9SlotDefinition[]}\n\t */\n\tgetA9SlotsDefinitions(slotsNames) {\n\t\treturn slotsNames\n\t\t\t.map((slotName) => this.getSlotAlias(slotName))\n\t\t\t.map((slotAlias) => this.createSlotDefinition(slotAlias))\n\t\t\t.filter((slot) => slot !== null);\n\t}\n\n\t/**\n\t * Fetches bids from A9.\n\t * Calls this.onBidResponse() upon success.\n\t * @private\n\t * @param {A9SlotDefinition[]} slots\n\t * @param {boolean} refresh\n\t */\n\tasync fetchBids(slots, refresh = false) {\n\t\tutils.logger(logGroup, 'fetching bids for slots', slots);\n\t\tconst currentBids = await this.apstag.fetchBids({ slots, timeout: this.timeout });\n\n\t\tutils.logger(logGroup, 'bids fetched for slots', slots, 'bids', currentBids);\n\t\tthis.addApstagRenderImpHookOnFirstFetch();\n\n\t\tcurrentBids.forEach(async (bid) => {\n\t\t\tconst slotName = this.slotNamesMap[bid.slotID] || bid.slotID;\n\t\t\tconst { keys, bidTargeting } = await this.getBidTargetingWithKeys(bid);\n\n\t\t\tthis.updateBidSlot(slotName, keys, bidTargeting);\n\t\t});\n\n\t\tthis.onBidResponse();\n\t\tif (refresh) {\n\t\t\tthis.events.emit(this.events.BIDS_REFRESH);\n\t\t}\n\t}\n\n\t/**\n\t * @private\n\t */\n\taddApstagRenderImpHookOnFirstFetch() {\n\t\tif (!this.isRenderImpOverwritten) {\n\t\t\tthis.isRenderImpOverwritten = true;\n\t\t\tthis.addApstagRenderImpHook();\n\t\t}\n\t}\n\n\t/**\n\t * Wraps apstag.renderImp\n\t * Calls this.refreshBid() if bids refreshing is enabled.\n\t * @private\n\t */\n\taddApstagRenderImpHook() {\n\t\tutils.logger(logGroup, 'overwriting window.apstag.renderImp');\n\t\tthis.apstag.onRenderImpEnd((doc, impId) => {\n\t\t\tconst slot = this.getRenderedSlot(impId);\n\t\t\tconst slotName = slot.getSlotName();\n\n\t\t\tutils.logger(logGroup, `bid used for slot ${slotName}`);\n\t\t\tdelete this.bids[this.getSlotAlias(slotName)];\n\n\t\t\tif (this.bidsRefreshing.enabled) {\n\t\t\t\tthis.refreshBid(slot);\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Returns slot which used bid with given impression id.\n\t * @private\n\t * @param {string | number} impId\n\t * @returns {AdSlot | undefined }\n\t */\n\tgetRenderedSlot(impId) {\n\t\tlet renderedSlot;\n\n\t\tslotService.forEach((slot) => {\n\t\t\tif (slot.getTargeting().amzniid === impId) {\n\t\t\t\trenderedSlot = slot;\n\t\t\t}\n\t\t});\n\n\t\treturn renderedSlot;\n\t}\n\n\t/**\n\t * Refreshes bid for given slot.\n\t * @private\n\t * @param {AdSlot} slot\n\t */\n\trefreshBid(slot) {\n\t\tif (!this.shouldRefreshSlot(slot)) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst slotDef = this.createSlotDefinition(this.getSlotAlias(slot.getSlotName()));\n\n\t\tif (slotDef) {\n\t\t\tutils.logger(logGroup, 'refresh bids for slot', slotDef);\n\t\t\tthis.fetchBids([slotDef], true);\n\t\t}\n\t}\n\n\t/**\n\t * Checks if slot should be refreshed.\n\t * @private\n\t * @param {AdSlot} slot\n\t * @returns {boolean}\n\t */\n\tshouldRefreshSlot(slot) {\n\t\treturn this.bidsRefreshing.slots.includes(this.getSlotAlias(slot.getSlotName()));\n\t}\n\n\t/**\n\t * Creates A9 slot definition from slot alias.\n\t * @param {string} slotAlias\n\t * @returns {A9SlotDefinition | null} Returns null i\n\t */\n\tcreateSlotDefinition(slotAlias) {\n\t\tconst config = this.slots[slotAlias];\n\t\tconst slotID = config.slotId || slotAlias;\n\t\tconst definition = {\n\t\t\tslotID,\n\t\t\tslotName: slotID,\n\t\t};\n\n\t\tthis.slotNamesMap[slotID] = slotAlias;\n\n\t\tif (!this.bidderConfig.videoEnabled && config.type === 'video') {\n\t\t\treturn null;\n\t\t}\n\t\tif (config.type === 'video') {\n\t\t\tdefinition.mediaType = 'video';\n\t\t} else {\n\t\t\tdefinition.sizes = config.sizes;\n\t\t}\n\n\t\treturn definition;\n\t}\n\n\t/**\n\t * @private\n\t * @param bid\n\t * @returns {*}\n\t */\n\tasync getBidTargetingWithKeys(bid) {\n\t\tif (this.bidderConfig.dealsEnabled) {\n\t\t\treturn {\n\t\t\t\tkeys: await bid.helpers.targetingKeys,\n\t\t\t\tbidTargeting: bid.targeting,\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\tkeys: await this.apstag.targetingKeys(),\n\t\t\tbidTargeting: bid,\n\t\t};\n\t}\n\n\t/**\n\t * @private\n\t * @param slotName\n\t * @param keys\n\t * @param bidTargeting\n\t */\n\tupdateBidSlot(slotName, keys, bidTargeting) {\n\t\tthis.bids[slotName] = {};\n\t\tkeys.forEach((key) => {\n\t\t\tif (this.targetingKeys.indexOf(key) === -1) {\n\t\t\t\tthis.targetingKeys.push(key);\n\t\t\t}\n\t\t\tthis.bids[slotName][key] = bidTargeting[key];\n\t\t});\n\t}\n\n\t/**\n\t * @protected\n\t * @returns {Promise<void>}\n\t */\n\tasync callBids() {\n\t\tif (this.cmp.exists) {\n\t\t\tconst consentData = await this.cmp.getConsentData(null);\n\n\t\t\tthis.init(consentData);\n\t\t} else {\n\t\t\tthis.init();\n\t\t}\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tcalculatePrices() {\n\t\treturn Object.keys(this.bids).forEach((slotName) => {\n\t\t\tthis.priceMap[slotName] = this.bids[slotName].amznbid;\n\t\t});\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tgetBestPrice(slotName) {\n\t\tconst slotAlias = this.getSlotAlias(slotName);\n\n\t\treturn this.priceMap[slotAlias] ? { a9: this.priceMap[slotAlias] } : {};\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tgetTargetingParams(slotName) {\n\t\treturn this.bids[this.getSlotAlias(slotName)] || {};\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tisSupported(slotName) {\n\t\treturn !!this.slots[this.getSlotAlias(slotName)];\n\t}\n}\n","import { decorate, createDefaultSetter } from './private/utils';\nvar defineProperty = Object.defineProperty;\n\n\nfunction handleDescriptor(target, key, descriptor) {\n  var configurable = descriptor.configurable,\n      enumerable = descriptor.enumerable,\n      initializer = descriptor.initializer,\n      value = descriptor.value;\n\n  return {\n    configurable: configurable,\n    enumerable: enumerable,\n\n    get: function get() {\n      // This happens if someone accesses the\n      // property directly on the prototype\n      if (this === target) {\n        return;\n      }\n\n      var ret = initializer ? initializer.call(this) : value;\n\n      defineProperty(this, key, {\n        configurable: configurable,\n        enumerable: enumerable,\n        writable: true,\n        value: ret\n      });\n\n      return ret;\n    },\n\n\n    set: createDefaultSetter(key)\n  };\n}\n\nexport default function lazyInitialize() {\n  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return decorate(handleDescriptor, args);\n}","var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _desc, _value, _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5;\n\nfunction _initDefineProp(target, property, descriptor, context) {\n  if (!descriptor) return;\n  Object.defineProperty(target, property, {\n    enumerable: descriptor.enumerable,\n    configurable: descriptor.configurable,\n    writable: descriptor.writable,\n    value: descriptor.initializer ? descriptor.initializer.call(context) : void 0\n  });\n}\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n  var desc = {};\n  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n    desc[key] = descriptor[key];\n  });\n  desc.enumerable = !!desc.enumerable;\n  desc.configurable = !!desc.configurable;\n\n  if ('value' in desc || desc.initializer) {\n    desc.writable = true;\n  }\n\n  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n    return decorator(target, property, desc) || desc;\n  }, desc);\n\n  if (context && desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n    desc.initializer = undefined;\n  }\n\n  if (desc.initializer === void 0) {\n    Object['define' + 'Property'](target, property, desc);\n    desc = null;\n  }\n\n  return desc;\n}\n\nfunction _initializerWarningHelper(descriptor, context) {\n  throw new Error('Decorating class property failed. Please ensure that transform-class-properties is enabled.');\n}\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nimport lazyInitialize from '../lazy-initialize';\n\nvar defineProperty = Object.defineProperty,\n    getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor,\n    getOwnPropertyNames = Object.getOwnPropertyNames,\n    getOwnPropertySymbols = Object.getOwnPropertySymbols;\n\n\nexport function isDescriptor(desc) {\n  if (!desc || !desc.hasOwnProperty) {\n    return false;\n  }\n\n  var keys = ['value', 'initializer', 'get', 'set'];\n\n  for (var i = 0, l = keys.length; i < l; i++) {\n    if (desc.hasOwnProperty(keys[i])) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nexport function decorate(handleDescriptor, entryArgs) {\n  if (isDescriptor(entryArgs[entryArgs.length - 1])) {\n    return handleDescriptor.apply(undefined, _toConsumableArray(entryArgs).concat([[]]));\n  } else {\n    return function () {\n      return handleDescriptor.apply(undefined, _toConsumableArray(Array.prototype.slice.call(arguments)).concat([entryArgs]));\n    };\n  }\n}\n\nvar Meta = (_class = function Meta() {\n  _classCallCheck(this, Meta);\n\n  _initDefineProp(this, 'debounceTimeoutIds', _descriptor, this);\n\n  _initDefineProp(this, 'throttleTimeoutIds', _descriptor2, this);\n\n  _initDefineProp(this, 'throttlePreviousTimestamps', _descriptor3, this);\n\n  _initDefineProp(this, 'throttleTrailingArgs', _descriptor4, this);\n\n  _initDefineProp(this, 'profileLastRan', _descriptor5, this);\n}, (_descriptor = _applyDecoratedDescriptor(_class.prototype, 'debounceTimeoutIds', [lazyInitialize], {\n  enumerable: true,\n  initializer: function initializer() {\n    return {};\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, 'throttleTimeoutIds', [lazyInitialize], {\n  enumerable: true,\n  initializer: function initializer() {\n    return {};\n  }\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, 'throttlePreviousTimestamps', [lazyInitialize], {\n  enumerable: true,\n  initializer: function initializer() {\n    return {};\n  }\n}), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, 'throttleTrailingArgs', [lazyInitialize], {\n  enumerable: true,\n  initializer: function initializer() {\n    return null;\n  }\n}), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, 'profileLastRan', [lazyInitialize], {\n  enumerable: true,\n  initializer: function initializer() {\n    return null;\n  }\n})), _class);\n\n\nvar META_KEY = typeof Symbol === 'function' ? Symbol('__core_decorators__') : '__core_decorators__';\n\nexport function metaFor(obj) {\n  if (obj.hasOwnProperty(META_KEY) === false) {\n    defineProperty(obj, META_KEY, {\n      // Defaults: NOT enumerable, configurable, or writable\n      value: new Meta()\n    });\n  }\n\n  return obj[META_KEY];\n}\n\nexport var getOwnKeys = getOwnPropertySymbols ? function (object) {\n  return getOwnPropertyNames(object).concat(getOwnPropertySymbols(object));\n} : getOwnPropertyNames;\n\nexport function getOwnPropertyDescriptors(obj) {\n  var descs = {};\n\n  getOwnKeys(obj).forEach(function (key) {\n    return descs[key] = getOwnPropertyDescriptor(obj, key);\n  });\n\n  return descs;\n}\n\nexport function createDefaultSetter(key) {\n  return function set(newValue) {\n    Object.defineProperty(this, key, {\n      configurable: true,\n      writable: true,\n      // IS enumerable when reassigned by the outside word\n      enumerable: true,\n      value: newValue\n    });\n\n    return newValue;\n  };\n}\n\nexport function bind(fn, context) {\n  if (fn.bind) {\n    return fn.bind(context);\n  } else {\n    return function __autobind__() {\n      return fn.apply(context, arguments);\n    };\n  }\n}\n\nexport var warn = function () {\n  if ((typeof console === 'undefined' ? 'undefined' : _typeof(console)) !== 'object' || !console || typeof console.warn !== 'function') {\n    return function () {};\n  } else {\n    return bind(console.warn, console);\n  }\n}();\n\nvar seenDeprecations = {};\nexport function internalDeprecation(msg) {\n  if (seenDeprecations[msg] !== true) {\n    seenDeprecations[msg] = true;\n    warn('DEPRECATION: ' + msg);\n  }\n}","var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport { decorate } from './private/utils';\n\nvar GENERIC_FUNCTION_ERROR = '{child} does not properly override {parent}';\nvar FUNCTION_REGEXP = /^function ([_$a-zA-Z\\xA0-\\uFFFF][_$a-zA-Z0-9\\xA0-\\uFFFF]*)?(\\([^\\)]*\\))[\\s\\S]+$/;\n\nvar SyntaxErrorReporter = function () {\n  _createClass(SyntaxErrorReporter, [{\n    key: '_getTopic',\n    value: function _getTopic(descriptor) {\n      if (descriptor === undefined) {\n        return null;\n      }\n\n      if ('value' in descriptor) {\n        return descriptor.value;\n      }\n\n      if ('get' in descriptor) {\n        return descriptor.get;\n      }\n\n      if ('set' in descriptor) {\n        return descriptor.set;\n      }\n    }\n  }, {\n    key: '_extractTopicSignature',\n    value: function _extractTopicSignature(topic) {\n      switch (typeof topic === 'undefined' ? 'undefined' : _typeof(topic)) {\n        case 'function':\n          return this._extractFunctionSignature(topic);\n        default:\n          return this.key;\n      }\n    }\n  }, {\n    key: '_extractFunctionSignature',\n    value: function _extractFunctionSignature(fn) {\n      var _this = this;\n\n      return fn.toString().replace(FUNCTION_REGEXP, function (match) {\n        var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _this.key;\n        var params = arguments[2];\n        return name + params;\n      });\n    }\n  }, {\n    key: 'key',\n    get: function get() {\n      return this.childDescriptor.key;\n    }\n  }, {\n    key: 'parentNotation',\n    get: function get() {\n      return this.parentKlass.constructor.name + '#' + this.parentPropertySignature;\n    }\n  }, {\n    key: 'childNotation',\n    get: function get() {\n      return this.childKlass.constructor.name + '#' + this.childPropertySignature;\n    }\n  }, {\n    key: 'parentTopic',\n    get: function get() {\n      return this._getTopic(this.parentDescriptor);\n    }\n  }, {\n    key: 'childTopic',\n    get: function get() {\n      return this._getTopic(this.childDescriptor);\n    }\n  }, {\n    key: 'parentPropertySignature',\n    get: function get() {\n      return this._extractTopicSignature(this.parentTopic);\n    }\n  }, {\n    key: 'childPropertySignature',\n    get: function get() {\n      return this._extractTopicSignature(this.childTopic);\n    }\n  }]);\n\n  function SyntaxErrorReporter(parentKlass, childKlass, parentDescriptor, childDescriptor) {\n    _classCallCheck(this, SyntaxErrorReporter);\n\n    this.parentKlass = parentKlass;\n    this.childKlass = childKlass;\n    this.parentDescriptor = parentDescriptor;\n    this.childDescriptor = childDescriptor;\n  }\n\n  _createClass(SyntaxErrorReporter, [{\n    key: 'assert',\n    value: function assert(condition) {\n      var msg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n      if (condition !== true) {\n        this.error(GENERIC_FUNCTION_ERROR + msg);\n      }\n    }\n  }, {\n    key: 'error',\n    value: function error(msg) {\n      var _this2 = this;\n\n      msg = msg\n      // Replace lazily, because they actually might not\n      // be available in all cases\n      .replace('{parent}', function (m) {\n        return _this2.parentNotation;\n      }).replace('{child}', function (m) {\n        return _this2.childNotation;\n      });\n      throw new SyntaxError(msg);\n    }\n  }]);\n\n  return SyntaxErrorReporter;\n}();\n\nfunction getDescriptorType(descriptor) {\n  if (descriptor.hasOwnProperty('value')) {\n    return 'data';\n  }\n\n  if (descriptor.hasOwnProperty('get') || descriptor.hasOwnProperty('set')) {\n    return 'accessor';\n  }\n\n  // If none of them exist, browsers treat it as\n  // a data descriptor with a value of `undefined`\n  return 'data';\n}\n\nfunction checkFunctionSignatures(parent, child, reporter) {\n  reporter.assert(parent.length === child.length);\n}\n\nfunction checkDataDescriptors(parent, child, reporter) {\n  var parentValueType = _typeof(parent.value);\n  var childValueType = _typeof(child.value);\n\n  if (parentValueType === 'undefined' && childValueType === 'undefined') {\n    // class properties can be any expression, which isn't ran until the\n    // the instance is created, so we can't reliably get type information\n    // for them yet (per spec). Perhaps when Babel includes flow-type info\n    // in runtime? Tried regex solutions, but super hacky and only feasible\n    // on primitives, which is confusing for usage...\n    reporter.error('descriptor values are both undefined. (class properties are are not currently supported)\\'');\n  }\n\n  if (parentValueType !== childValueType) {\n    var isFunctionOverUndefined = childValueType === 'function' && parentValueType === undefined;\n    // Even though we don't support class properties, this\n    // will still handle more than just functions, just in case.\n    // Shadowing an undefined value is an error if the inherited\n    // value was undefined (usually a class property, not a method)\n    if (isFunctionOverUndefined || parentValueType !== undefined) {\n      reporter.error('value types do not match. {parent} is \"' + parentValueType + '\", {child} is \"' + childValueType + '\"');\n    }\n  }\n\n  // Switch, in preparation for supporting more types\n  switch (childValueType) {\n    case 'function':\n      checkFunctionSignatures(parent.value, child.value, reporter);\n      break;\n\n    default:\n      reporter.error('Unexpected error. Please file a bug with: {parent} is \"' + parentValueType + '\", {child} is \"' + childValueType + '\"');\n      break;\n  }\n}\n\nfunction checkAccessorDescriptors(parent, child, reporter) {\n  var parentHasGetter = typeof parent.get === 'function';\n  var childHasGetter = typeof child.get === 'function';\n  var parentHasSetter = typeof parent.set === 'function';\n  var childHasSetter = typeof child.set === 'function';\n\n  if (parentHasGetter || childHasGetter) {\n    if (!parentHasGetter && parentHasSetter) {\n      reporter.error('{parent} is setter but {child} is getter');\n    }\n\n    if (!childHasGetter && childHasSetter) {\n      reporter.error('{parent} is getter but {child} is setter');\n    }\n\n    checkFunctionSignatures(parent.get, child.get, reporter);\n  }\n\n  if (parentHasSetter || childHasSetter) {\n    if (!parentHasSetter && parentHasGetter) {\n      reporter.error('{parent} is getter but {child} is setter');\n    }\n\n    if (!childHasSetter && childHasGetter) {\n      reporter.error('{parent} is setter but {child} is getter');\n    }\n\n    checkFunctionSignatures(parent.set, child.set, reporter);\n  }\n}\n\nfunction checkDescriptors(parent, child, reporter) {\n  var parentType = getDescriptorType(parent);\n  var childType = getDescriptorType(child);\n\n  if (parentType !== childType) {\n    reporter.error('descriptor types do not match. {parent} is \"' + parentType + '\", {child} is \"' + childType + '\"');\n  }\n\n  switch (childType) {\n    case 'data':\n      checkDataDescriptors(parent, child, reporter);\n      break;\n\n    case 'accessor':\n      checkAccessorDescriptors(parent, child, reporter);\n      break;\n  }\n}\n\nvar suggestionTransforms = [function (key) {\n  return key.toLowerCase();\n}, function (key) {\n  return key.toUpperCase();\n}, function (key) {\n  return key + 's';\n}, function (key) {\n  return key.slice(0, -1);\n}, function (key) {\n  return key.slice(1, key.length);\n}];\n\nfunction findPossibleAlternatives(superKlass, key) {\n  for (var i = 0, l = suggestionTransforms.length; i < l; i++) {\n    var fn = suggestionTransforms[i];\n    var suggestion = fn(key);\n\n    if (suggestion in superKlass) {\n      return suggestion;\n    }\n  }\n\n  return null;\n}\n\nfunction handleDescriptor(target, key, descriptor) {\n  descriptor.key = key;\n  var superKlass = Object.getPrototypeOf(target);\n  var superDescriptor = Object.getOwnPropertyDescriptor(superKlass, key);\n  var reporter = new SyntaxErrorReporter(superKlass, target, superDescriptor, descriptor);\n\n  if (superDescriptor === undefined) {\n    var suggestedKey = findPossibleAlternatives(superKlass, key);\n    var suggestion = suggestedKey ? '\\n\\n  Did you mean \"' + suggestedKey + '\"?' : '';\n    reporter.error('No descriptor matching {child} was found on the prototype chain.' + suggestion);\n  }\n\n  checkDescriptors(superDescriptor, descriptor, reporter);\n\n  return descriptor;\n}\n\nexport default function override() {\n  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return decorate(handleDescriptor, args);\n}","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nimport { decorate, warn } from './private/utils';\n\nvar DEFAULT_MSG = 'This function will be removed in future versions.';\n\nfunction handleDescriptor(target, key, descriptor, _ref) {\n  var _ref2 = _slicedToArray(_ref, 2),\n      _ref2$ = _ref2[0],\n      msg = _ref2$ === undefined ? DEFAULT_MSG : _ref2$,\n      _ref2$2 = _ref2[1],\n      options = _ref2$2 === undefined ? {} : _ref2$2;\n\n  if (typeof descriptor.value !== 'function') {\n    throw new SyntaxError('Only functions can be marked as deprecated');\n  }\n\n  var methodSignature = target.constructor.name + '#' + key;\n\n  if (options.url) {\n    msg += '\\n\\n    See ' + options.url + ' for more details.\\n\\n';\n  }\n\n  return _extends({}, descriptor, {\n    value: function deprecationWrapper() {\n      warn('DEPRECATION ' + methodSignature + ': ' + msg);\n      return descriptor.value.apply(this, arguments);\n    }\n  });\n}\n\nexport default function deprecate() {\n  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return decorate(handleDescriptor, args);\n}","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nimport { decorate } from './private/utils';\n\nfunction suppressedWarningNoop() {\n  // Warnings are currently suppressed via @suppressWarnings\n}\n\nfunction applyWithoutWarnings(context, fn, args) {\n  if ((typeof console === 'undefined' ? 'undefined' : _typeof(console)) === 'object') {\n    var nativeWarn = console.warn;\n    console.warn = suppressedWarningNoop;\n    var ret = fn.apply(context, args);\n    console.warn = nativeWarn;\n    return ret;\n  } else {\n    return fn.apply(context, args);\n  }\n}\n\nfunction handleDescriptor(target, key, descriptor) {\n  return _extends({}, descriptor, {\n    value: function suppressWarningsWrapper() {\n      return applyWithoutWarnings(this, descriptor.value, arguments);\n    }\n  });\n}\n\nexport default function suppressWarnings() {\n  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return decorate(handleDescriptor, args);\n}","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { decorate, internalDeprecation } from './private/utils';\n\nfunction toObject(cache, value) {\n  if (value === Object(value)) {\n    return value;\n  }\n  return cache[value] || (cache[value] = {});\n}\n\nfunction applyAndCache(context, fn, args, cache, signature) {\n  var ret = fn.apply(context, args);\n  cache[signature] = ret;\n  return ret;\n}\n\nfunction metaForDescriptor(descriptor) {\n  var fn = void 0,\n      wrapKey = void 0;\n\n  // This is ugly code, but way faster than other\n  // ways I tried that *looked* pretty\n\n  if (descriptor.value) {\n    fn = descriptor.value;\n    wrapKey = 'value';\n  } else if (descriptor.get) {\n    fn = descriptor.get;\n    wrapKey = 'get';\n  } else if (descriptor.set) {\n    fn = descriptor.set;\n    wrapKey = 'set';\n  }\n\n  return { fn: fn, wrapKey: wrapKey };\n}\n\nfunction handleDescriptor(target, key, descriptor) {\n  var _metaForDescriptor = metaForDescriptor(descriptor),\n      fn = _metaForDescriptor.fn,\n      wrapKey = _metaForDescriptor.wrapKey;\n\n  var argumentCache = new WeakMap();\n  var signatureCache = Object.create(null);\n  var primativeRefCache = Object.create(null);\n  var argumentIdCounter = 0;\n\n  return _extends({}, descriptor, _defineProperty({}, wrapKey, function memoizeWrapper() {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var signature = '0';\n\n    for (var i = 0, l = args.length; i < l; i++) {\n      var arg = args[i];\n      var argRef = toObject(primativeRefCache, arg);\n      var argKey = argumentCache.get(argRef);\n\n      if (argKey === undefined) {\n        argKey = ++argumentIdCounter;\n        argumentCache.set(argRef, argKey);\n      }\n\n      signature += argKey;\n    }\n\n    return signatureCache[signature] || applyAndCache(this, fn, arguments, signatureCache, signature);\n  }));\n}\n\nexport default function memoize() {\n  internalDeprecation('@memoize is deprecated and will be removed shortly. Use @memoize from lodash-decorators.\\n\\n  https://www.npmjs.com/package/lodash-decorators');\n\n  for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n\n  return decorate(handleDescriptor, args);\n}","function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nimport { decorate, createDefaultSetter, getOwnPropertyDescriptors, getOwnKeys, bind } from './private/utils';\nvar defineProperty = Object.defineProperty,\n    getPrototypeOf = Object.getPrototypeOf;\n\n\nvar mapStore = void 0;\n\nfunction getBoundSuper(obj, fn) {\n  if (typeof WeakMap === 'undefined') {\n    throw new Error('Using @autobind on ' + fn.name + '() requires WeakMap support due to its use of super.' + fn.name + '()\\n      See https://github.com/jayphelps/core-decorators.js/issues/20');\n  }\n\n  if (!mapStore) {\n    mapStore = new WeakMap();\n  }\n\n  if (mapStore.has(obj) === false) {\n    mapStore.set(obj, new WeakMap());\n  }\n\n  var superStore = mapStore.get(obj);\n\n  if (superStore.has(fn) === false) {\n    superStore.set(fn, bind(fn, obj));\n  }\n\n  return superStore.get(fn);\n}\n\nfunction autobindClass(klass) {\n  var descs = getOwnPropertyDescriptors(klass.prototype);\n  var keys = getOwnKeys(descs);\n\n  for (var i = 0, l = keys.length; i < l; i++) {\n    var key = keys[i];\n    var desc = descs[key];\n\n    if (typeof desc.value !== 'function' || key === 'constructor') {\n      continue;\n    }\n\n    defineProperty(klass.prototype, key, autobindMethod(klass.prototype, key, desc));\n  }\n}\n\nfunction autobindMethod(target, key, _ref) {\n  var fn = _ref.value,\n      configurable = _ref.configurable,\n      enumerable = _ref.enumerable;\n\n  if (typeof fn !== 'function') {\n    throw new SyntaxError('@autobind can only be used on functions, not: ' + fn);\n  }\n\n  var constructor = target.constructor;\n\n\n  return {\n    configurable: configurable,\n    enumerable: enumerable,\n\n    get: function get() {\n      // Class.prototype.key lookup\n      // Someone accesses the property directly on the prototype on which it is\n      // actually defined on, i.e. Class.prototype.hasOwnProperty(key)\n      if (this === target) {\n        return fn;\n      }\n\n      // Class.prototype.key lookup\n      // Someone accesses the property directly on a prototype but it was found\n      // up the chain, not defined directly on it\n      // i.e. Class.prototype.hasOwnProperty(key) == false && key in Class.prototype\n      if (this.constructor !== constructor && getPrototypeOf(this).constructor === constructor) {\n        return fn;\n      }\n\n      // Autobound method calling super.sameMethod() which is also autobound and so on.\n      if (this.constructor !== constructor && key in this.constructor.prototype) {\n        return getBoundSuper(this, fn);\n      }\n\n      var boundFn = bind(fn, this);\n\n      defineProperty(this, key, {\n        configurable: true,\n        writable: true,\n        // NOT enumerable when it's a bound method\n        enumerable: false,\n        value: boundFn\n      });\n\n      return boundFn;\n    },\n\n    set: createDefaultSetter(key)\n  };\n}\n\nfunction handle(args) {\n  if (args.length === 1) {\n    return autobindClass.apply(undefined, _toConsumableArray(args));\n  } else {\n    return autobindMethod.apply(undefined, _toConsumableArray(args));\n  }\n}\n\nexport default function autobind() {\n  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  if (args.length === 0) {\n    return function () {\n      return handle(arguments);\n    };\n  } else {\n    return handle(args);\n  }\n}","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nimport { decorate, metaFor, internalDeprecation } from './private/utils';\n\nvar DEFAULT_TIMEOUT = 300;\n\nfunction handleDescriptor(target, key, descriptor, _ref) {\n  var _ref2 = _slicedToArray(_ref, 2),\n      _ref2$ = _ref2[0],\n      wait = _ref2$ === undefined ? DEFAULT_TIMEOUT : _ref2$,\n      _ref2$2 = _ref2[1],\n      immediate = _ref2$2 === undefined ? false : _ref2$2;\n\n  var callback = descriptor.value;\n\n  if (typeof callback !== 'function') {\n    throw new SyntaxError('Only functions can be debounced');\n  }\n\n  return _extends({}, descriptor, {\n    value: function value() {\n      var _this = this;\n\n      var _metaFor = metaFor(this),\n          debounceTimeoutIds = _metaFor.debounceTimeoutIds;\n\n      var timeout = debounceTimeoutIds[key];\n      var callNow = immediate && !timeout;\n      var args = arguments;\n\n      clearTimeout(timeout);\n\n      debounceTimeoutIds[key] = setTimeout(function () {\n        delete debounceTimeoutIds[key];\n        if (!immediate) {\n          callback.apply(_this, args);\n        }\n      }, wait);\n\n      if (callNow) {\n        callback.apply(this, args);\n      }\n    }\n  });\n}\n\nexport default function debounce() {\n  internalDeprecation('@debounce is deprecated and will be removed shortly. Use @debounce from lodash-decorators.\\n\\n  https://www.npmjs.com/package/lodash-decorators');\n\n  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return decorate(handleDescriptor, args);\n}","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nimport { decorate, metaFor, internalDeprecation } from './private/utils';\n\nvar DEFAULT_TIMEOUT = 300;\n\nfunction handleDescriptor(target, key, descriptor, _ref) {\n  var _ref2 = _slicedToArray(_ref, 2),\n      _ref2$ = _ref2[0],\n      wait = _ref2$ === undefined ? DEFAULT_TIMEOUT : _ref2$,\n      _ref2$2 = _ref2[1],\n      options = _ref2$2 === undefined ? {} : _ref2$2;\n\n  var callback = descriptor.value;\n\n  if (typeof callback !== 'function') {\n    throw new SyntaxError('Only functions can be throttled');\n  }\n\n  if (options.leading !== false) {\n    options.leading = true;\n  }\n\n  if (options.trailing !== false) {\n    options.trailing = true;\n  }\n\n  return _extends({}, descriptor, {\n    value: function value() {\n      var _this = this;\n\n      var meta = metaFor(this);\n      var throttleTimeoutIds = meta.throttleTimeoutIds,\n          throttlePreviousTimestamps = meta.throttlePreviousTimestamps;\n\n      var timeout = throttleTimeoutIds[key];\n      // last execute timestamp\n      var previous = throttlePreviousTimestamps[key] || 0;\n      var now = Date.now();\n\n      if (options.trailing) {\n        meta.throttleTrailingArgs = arguments;\n      }\n\n      // if first be called and disable the execution on the leading edge\n      // set last execute timestamp to now\n      if (!previous && options.leading === false) {\n        previous = now;\n      }\n\n      var remaining = wait - (now - previous);\n\n      if (remaining <= 0) {\n        clearTimeout(timeout);\n        delete throttleTimeoutIds[key];\n        throttlePreviousTimestamps[key] = now;\n        callback.apply(this, arguments);\n      } else if (!timeout && options.trailing) {\n        throttleTimeoutIds[key] = setTimeout(function () {\n          throttlePreviousTimestamps[key] = options.leading === false ? 0 : Date.now();\n          delete throttleTimeoutIds[key];\n          callback.apply(_this, meta.throttleTrailingArgs);\n          // don't leak memory!\n          meta.throttleTrailingArgs = null;\n        }, remaining);\n      }\n    }\n  });\n}\n\nexport default function throttle() {\n  internalDeprecation('@throttle is deprecated and will be removed shortly. Use @throttle from lodash-decorators.\\n\\n  https://www.npmjs.com/package/lodash-decorators');\n\n  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return decorate(handleDescriptor, args);\n}","function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _toArray(arr) { return Array.isArray(arr) ? arr : Array.from(arr); }\n\nimport { decorate as _decorate, createDefaultSetter } from './private/utils';\nvar defineProperty = Object.defineProperty;\n\n\nfunction handleDescriptor(target, key, descriptor, _ref) {\n  var _ref2 = _toArray(_ref),\n      decorator = _ref2[0],\n      args = _ref2.slice(1);\n\n  var configurable = descriptor.configurable,\n      enumerable = descriptor.enumerable,\n      writable = descriptor.writable;\n\n  var originalGet = descriptor.get;\n  var originalSet = descriptor.set;\n  var originalValue = descriptor.value;\n  var isGetter = !!originalGet;\n\n  return {\n    configurable: configurable,\n    enumerable: enumerable,\n    get: function get() {\n      var fn = isGetter ? originalGet.call(this) : originalValue;\n      var value = decorator.call.apply(decorator, [this, fn].concat(_toConsumableArray(args)));\n\n      if (isGetter) {\n        return value;\n      } else {\n        var desc = {\n          configurable: configurable,\n          enumerable: enumerable\n        };\n\n        desc.value = value;\n        desc.writable = writable;\n\n        defineProperty(this, key, desc);\n\n        return value;\n      }\n    },\n\n    set: isGetter ? originalSet : createDefaultSetter()\n  };\n}\n\nexport default function decorate() {\n  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return _decorate(handleDescriptor, args);\n}","var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nimport { getOwnPropertyDescriptors, getOwnKeys, internalDeprecation } from './private/utils';\n\nvar defineProperty = Object.defineProperty,\n    getPrototypeOf = Object.getPrototypeOf;\n\n\nfunction buggySymbol(symbol) {\n  return Object.prototype.toString.call(symbol) === '[object Symbol]' && (typeof symbol === 'undefined' ? 'undefined' : _typeof(symbol)) === 'object';\n}\n\nfunction hasProperty(prop, obj) {\n  // We have to traverse manually prototypes' chain for polyfilled ES6 Symbols\n  // like \"in\" operator does.\n  // I.e.: Babel 5 Symbol polyfill stores every created symbol in Object.prototype.\n  // That's why we cannot use construction like \"prop in obj\" to check, if needed\n  // prop actually exists in given object/prototypes' chain.\n  if (buggySymbol(prop)) {\n    do {\n      if (obj === Object.prototype) {\n        // Polyfill assigns undefined as value for stored symbol key.\n        // We can assume in this special case if there is nothing assigned it doesn't exist.\n        return typeof obj[prop] !== 'undefined';\n      }\n      if (obj.hasOwnProperty(prop)) {\n        return true;\n      }\n    } while (obj = getPrototypeOf(obj));\n    return false;\n  } else {\n    return prop in obj;\n  }\n}\n\nfunction handleClass(target, mixins) {\n  if (!mixins.length) {\n    throw new SyntaxError('@mixin() class ' + target.name + ' requires at least one mixin as an argument');\n  }\n\n  for (var i = 0, l = mixins.length; i < l; i++) {\n    var descs = getOwnPropertyDescriptors(mixins[i]);\n    var keys = getOwnKeys(descs);\n\n    for (var j = 0, k = keys.length; j < k; j++) {\n      var key = keys[j];\n\n      if (!hasProperty(key, target.prototype)) {\n        defineProperty(target.prototype, key, descs[key]);\n      }\n    }\n  }\n}\n\nexport default function mixin() {\n  for (var _len = arguments.length, mixins = Array(_len), _key = 0; _key < _len; _key++) {\n    mixins[_key] = arguments[_key];\n  }\n\n  internalDeprecation('@mixin is deprecated and will be removed shortly. Use @mixin from lodash-decorators.\\n\\n  https://www.npmjs.com/package/lodash-decorators');\n\n  if (typeof mixins[0] === 'function') {\n    return handleClass(mixins[0], []);\n  } else {\n    return function (target) {\n      return handleClass(target, mixins);\n    };\n  }\n}","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nimport { decorate } from './private/utils';\n\nvar labels = {};\n\n// Exported for mocking in tests\nexport var defaultConsole = {\n  time: console.time ? console.time.bind(console) : function (label) {\n    labels[label] = new Date();\n  },\n  timeEnd: console.timeEnd ? console.timeEnd.bind(console) : function (label) {\n    var timeNow = new Date();\n    var timeTaken = timeNow - labels[label];\n    delete labels[label];\n    console.log(label + ': ' + timeTaken + 'ms');\n  }\n};\n\nvar count = 0;\n\nfunction handleDescriptor(target, key, descriptor, _ref) {\n  var _ref2 = _slicedToArray(_ref, 2),\n      _ref2$ = _ref2[0],\n      prefix = _ref2$ === undefined ? null : _ref2$,\n      _ref2$2 = _ref2[1],\n      console = _ref2$2 === undefined ? defaultConsole : _ref2$2;\n\n  var fn = descriptor.value;\n\n  if (prefix === null) {\n    prefix = target.constructor.name + '.' + key;\n  }\n\n  if (typeof fn !== 'function') {\n    throw new SyntaxError('@time can only be used on functions, not: ' + fn);\n  }\n\n  return _extends({}, descriptor, {\n    value: function value() {\n      var label = prefix + '-' + count;\n      count++;\n      console.time(label);\n\n      try {\n        return fn.apply(this, arguments);\n      } finally {\n        console.timeEnd(label);\n      }\n    }\n  });\n}\n\nexport default function time() {\n  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return decorate(handleDescriptor, args);\n}","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nimport { decorate } from './private/utils';\nvar getPrototypeOf = Object.getPrototypeOf,\n    getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n\nfunction handleDescriptor(target, key, descriptor) {\n  var superKlass = getPrototypeOf(target);\n  var superDesc = getOwnPropertyDescriptor(superKlass, key);\n\n  return _extends({}, superDesc, {\n    value: descriptor.value,\n    initializer: descriptor.initializer,\n    get: descriptor.get || superDesc.get,\n    set: descriptor.set || superDesc.set\n  });\n}\n\nexport default function extendDescriptor() {\n  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return decorate(handleDescriptor, args);\n}","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nimport { decorate, metaFor, warn, bind } from './private/utils';\n\nvar oc = console;\n\n// Exported for mocking in tests\nexport var defaultConsole = {\n  profile: console.profile ? bind(console.profile, console) : function () {},\n  profileEnd: console.profileEnd ? bind(console.profileEnd, console) : function () {},\n  warn: warn\n};\n\nfunction handleDescriptor(target, key, descriptor, _ref) {\n  var _ref2 = _slicedToArray(_ref, 3),\n      _ref2$ = _ref2[0],\n      prefix = _ref2$ === undefined ? null : _ref2$,\n      _ref2$2 = _ref2[1],\n      onceThrottleOrFunction = _ref2$2 === undefined ? false : _ref2$2,\n      _ref2$3 = _ref2[2],\n      console = _ref2$3 === undefined ? defaultConsole : _ref2$3;\n\n  if (!profile.__enabled) {\n    if (!profile.__warned) {\n      console.warn('console.profile is not supported. All @profile decorators are disabled.');\n      profile.__warned = true;\n    }\n    return descriptor;\n  }\n\n  var fn = descriptor.value;\n\n  if (prefix === null) {\n    prefix = target.constructor.name + '.' + key;\n  }\n\n  if (typeof fn !== 'function') {\n    throw new SyntaxError('@profile can only be used on functions, not: ' + fn);\n  }\n\n  return _extends({}, descriptor, {\n    value: function value() {\n      var now = Date.now();\n      var meta = metaFor(this);\n      if (onceThrottleOrFunction === true && !meta.profileLastRan || onceThrottleOrFunction === false || typeof onceThrottleOrFunction === 'number' && now - meta.profileLastRan > onceThrottleOrFunction || typeof onceThrottleOrFunction === 'function' && onceThrottleOrFunction.apply(this, arguments)) {\n        console.profile(prefix);\n        meta.profileLastRan = now;\n      }\n\n      try {\n        return fn.apply(this, arguments);\n      } finally {\n        console.profileEnd(prefix);\n      }\n    }\n  });\n}\n\nexport default function profile() {\n  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return decorate(handleDescriptor, args);\n}\n\n// Only Chrome, Firefox, and Edge support profile.\n// Exposing properties for testing.\nprofile.__enabled = !!console.profile;\nprofile.__warned = false;","var defineProperty = Object.defineProperty,\n    getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n\nexport default function applyDecorators(Class, props) {\n  var prototype = Class.prototype;\n\n\n  for (var key in props) {\n    var decorators = props[key];\n\n    for (var i = 0, l = decorators.length; i < l; i++) {\n      var decorator = decorators[i];\n\n      defineProperty(prototype, key, decorator(prototype, key, getOwnPropertyDescriptor(prototype, key)));\n    }\n  }\n\n  return Class;\n}","export class BaseAdapter {\n\tconstructor({ enabled, slots }) {\n\t\tthis.enabled = enabled;\n\t\tthis.slots = slots;\n\t}\n\n\tprepareAdUnits() {\n\t\treturn Object.keys(this.slots).map((slotName) =>\n\t\t\tthis.prepareConfigForAdUnit(slotName, this.slots[slotName]),\n\t\t);\n\t}\n}\n","import { BaseAdapter } from './base-adapter';\n\nexport class Aol extends BaseAdapter {\n\tconstructor(options) {\n\t\tsuper(options);\n\n\t\tthis.bidderName = 'aol';\n\t\tthis.network = options.network;\n\t}\n\n\tprepareConfigForAdUnit(code, { sizes, placement, alias, sizeId }) {\n\t\treturn {\n\t\t\tcode,\n\t\t\tmediaTypes: {\n\t\t\t\tbanner: {\n\t\t\t\t\tsizes,\n\t\t\t\t},\n\t\t\t},\n\t\t\tbids: [\n\t\t\t\t{\n\t\t\t\t\tbidder: this.bidderName,\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tplacement,\n\t\t\t\t\t\tnetwork: this.network,\n\t\t\t\t\t\talias,\n\t\t\t\t\t\tsizeId,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t};\n\t}\n}\n","import { context } from '@wikia/ad-engine';\nimport { BaseAdapter } from './base-adapter';\n\nexport class Appnexus extends BaseAdapter {\n\tconstructor(options) {\n\t\tsuper(options);\n\n\t\tthis.bidderName = 'appnexus';\n\t\tthis.placements = options.placements;\n\t}\n\n\tprepareConfigForAdUnit(code, { sizes, position = 'mobile' }) {\n\t\treturn {\n\t\t\tcode,\n\t\t\tmediaTypes: {\n\t\t\t\tbanner: {\n\t\t\t\t\tsizes,\n\t\t\t\t},\n\t\t\t},\n\t\t\tbids: [\n\t\t\t\t{\n\t\t\t\t\tbidder: this.bidderName,\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tplacementId: this.getPlacement(position),\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t};\n\t}\n\n\tgetPlacement(position) {\n\t\tif (position === 'mobile') {\n\t\t\tconst vertical = context.get('targeting.mappedVerticalName');\n\n\t\t\tposition = vertical && this.placements[vertical] ? vertical : 'other';\n\t\t}\n\n\t\treturn this.placements[position];\n\t}\n}\n","import { utils } from '@wikia/ad-engine';\nimport { BaseAdapter } from './base-adapter';\n\nexport class AppnexusAst extends BaseAdapter {\n\tconstructor(options) {\n\t\tsuper(options);\n\n\t\tthis.bidderName = 'appnexusAst';\n\t\tthis.aliases = {\n\t\t\tappnexus: [this.bidderName],\n\t\t};\n\t\tthis.debugPlacementId = options.debugPlacementId;\n\t\tthis.isDebugMode = utils.queryString.get('appnexusast_debug_mode') === '1';\n\t}\n\n\tprepareConfigForAdUnit(code, { placementId }) {\n\t\treturn {\n\t\t\tcode,\n\t\t\tmediaTypes: {\n\t\t\t\tvideo: {\n\t\t\t\t\tcontext: 'instream',\n\t\t\t\t\tplayerSize: [640, 480],\n\t\t\t\t},\n\t\t\t},\n\t\t\tbids: [\n\t\t\t\t{\n\t\t\t\t\tbidder: this.bidderName,\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tplacementId: this.isDebugMode ? this.debugPlacementId : placementId,\n\t\t\t\t\t\tvideo: {\n\t\t\t\t\t\t\tskippable: false,\n\t\t\t\t\t\t\tplayback_method: ['auto_play_sound_off'],\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t};\n\t}\n}\n","import { utils } from '@wikia/ad-engine';\nimport { BaseAdapter } from './base-adapter';\n\nexport class AudienceNetwork extends BaseAdapter {\n\tconstructor(options) {\n\t\tsuper(options);\n\n\t\tthis.bidderName = 'audienceNetwork';\n\t\tthis.testMode = utils.queryString.get('audiencenetworktest') === 'true';\n\t}\n\n\tprepareConfigForAdUnit(code, { sizes, placementId }) {\n\t\treturn {\n\t\t\tcode,\n\t\t\tmediaTypes: {\n\t\t\t\tbanner: {\n\t\t\t\t\tsizes,\n\t\t\t\t},\n\t\t\t},\n\t\t\tbids: [\n\t\t\t\t{\n\t\t\t\t\tbidder: this.bidderName,\n\t\t\t\t\tparams: {\n\t\t\t\t\t\ttestMode: this.testMode,\n\t\t\t\t\t\tplacementId,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t};\n\t}\n}\n","import { utils } from '@wikia/ad-engine';\nimport { BaseAdapter } from './base-adapter';\n\nexport class Beachfront extends BaseAdapter {\n\tconstructor(options) {\n\t\tsuper(options);\n\n\t\tthis.bidderName = 'beachfront';\n\t\tthis.bidfloor = 0.01;\n\t\tthis.debugAppId = options.debugAppId;\n\t\tthis.isDebugMode = utils.queryString.get('beachfront_debug_mode') === '1';\n\t}\n\n\tprepareConfigForAdUnit(code, { appId }) {\n\t\treturn {\n\t\t\tcode,\n\t\t\tmediaTypes: {\n\t\t\t\tvideo: {\n\t\t\t\t\tcontext: 'instream',\n\t\t\t\t\tplayerSize: [640, 480],\n\t\t\t\t},\n\t\t\t},\n\t\t\tbids: [\n\t\t\t\t{\n\t\t\t\t\tbidder: this.bidderName,\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tbidfloor: this.bidfloor,\n\t\t\t\t\t\tappId: this.isDebugMode ? this.debugAppId : appId,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t};\n\t}\n}\n","import { BaseAdapter } from './base-adapter';\n\nexport class IndexExchange extends BaseAdapter {\n\tconstructor(options) {\n\t\tsuper(options);\n\n\t\tthis.bidderName = 'indexExchange';\n\t\tthis.aliases = {\n\t\t\tix: [this.bidderName],\n\t\t};\n\t}\n\n\tprepareConfigForAdUnit(code, { sizes, siteId }) {\n\t\treturn {\n\t\t\tcode,\n\t\t\tmediaTypes: {\n\t\t\t\tbanner: {\n\t\t\t\t\tsizes,\n\t\t\t\t},\n\t\t\t},\n\t\t\tbids: sizes.map((size) => ({\n\t\t\t\tbidder: this.bidderName,\n\t\t\t\tparams: {\n\t\t\t\t\tsiteId,\n\t\t\t\t\tsize,\n\t\t\t\t},\n\t\t\t})),\n\t\t};\n\t}\n}\n","import { BaseAdapter } from './base-adapter';\n\nexport class Kargo extends BaseAdapter {\n\tconstructor(options) {\n\t\tsuper(options);\n\n\t\tthis.bidderName = 'kargo';\n\t}\n\n\tprepareConfigForAdUnit(code, { sizes, placementId }) {\n\t\treturn {\n\t\t\tcode,\n\t\t\tsizes,\n\t\t\tbids: [\n\t\t\t\t{\n\t\t\t\t\tbidder: this.bidderName,\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tplacementId,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t};\n\t}\n}\n","import { BaseAdapter } from './base-adapter';\n\nexport class Lkqd extends BaseAdapter {\n\tconstructor(options) {\n\t\tsuper(options);\n\n\t\tthis.bidderName = 'lkqd';\n\t}\n\n\tprepareConfigForAdUnit(code, { placementId, siteId }) {\n\t\treturn {\n\t\t\tcode,\n\t\t\tmediaTypes: {\n\t\t\t\tvideo: {\n\t\t\t\t\tplayerSize: [640, 480],\n\t\t\t\t},\n\t\t\t},\n\t\t\tbids: [\n\t\t\t\t{\n\t\t\t\t\tbidder: this.bidderName,\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tsiteId,\n\t\t\t\t\t\tplacementId,\n\t\t\t\t\t\tpageurl: window.location.hostname,\n\t\t\t\t\t\toutput: 'svpaid',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t};\n\t}\n}\n","import { BaseAdapter } from './base-adapter';\n\nexport class Onemobile extends BaseAdapter {\n\tconstructor(options) {\n\t\tsuper(options);\n\n\t\tthis.bidderName = 'onemobile';\n\t\tthis.siteId = options.siteId;\n\t}\n\n\tprepareConfigForAdUnit(code, { size, pos }) {\n\t\treturn {\n\t\t\tcode,\n\t\t\tmediaTypes: {\n\t\t\t\tbanner: {\n\t\t\t\t\tsizes: [size],\n\t\t\t\t},\n\t\t\t},\n\t\t\tbids: [\n\t\t\t\t{\n\t\t\t\t\tbidder: this.bidderName,\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tdcn: this.siteId,\n\t\t\t\t\t\tpos,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t};\n\t}\n}\n","import { BaseAdapter } from './base-adapter';\n\nexport class Openx extends BaseAdapter {\n\tconstructor(options) {\n\t\tsuper(options);\n\n\t\tthis.bidderName = 'openx';\n\t\tthis.delDomain = options.delDomain;\n\t}\n\n\tprepareConfigForAdUnit(code, { sizes, unit }) {\n\t\treturn {\n\t\t\tcode,\n\t\t\tmediaTypes: {\n\t\t\t\tbanner: {\n\t\t\t\t\tsizes,\n\t\t\t\t},\n\t\t\t},\n\t\t\tbids: [\n\t\t\t\t{\n\t\t\t\t\tbidder: this.bidderName,\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tunit,\n\t\t\t\t\t\tdelDomain: this.delDomain,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t};\n\t}\n}\n","import { BaseAdapter } from './base-adapter';\n\nexport class Pubmatic extends BaseAdapter {\n\tconstructor(options) {\n\t\tsuper(options);\n\n\t\tthis.bidderName = 'pubmatic';\n\t\tthis.publisherId = options.publisherId;\n\t}\n\n\tprepareConfigForAdUnit(code, { sizes, ids }) {\n\t\tswitch (code.toLowerCase()) {\n\t\t\tcase 'featured':\n\t\t\tcase 'incontent_player':\n\t\t\t\treturn this.getVideoConfig(code, ids);\n\t\t\tdefault:\n\t\t\t\treturn this.getStandardConfig(code, sizes, ids);\n\t\t}\n\t}\n\n\tgetVideoConfig(code, ids) {\n\t\tconst videoParams = {\n\t\t\tvideo: {\n\t\t\t\tmimes: ['video/mp4', 'video/x-flv', 'video/webm', 'video/ogg'],\n\t\t\t\tskippable: true,\n\t\t\t\tminduration: 1,\n\t\t\t\tmaxduration: 30,\n\t\t\t\tstartdelay: 0,\n\t\t\t\tplaybackmethod: [2, 3],\n\t\t\t\tprotocols: [2, 3, 5, 6],\n\t\t\t\tlinearity: 1,\n\t\t\t\tplacement: 1,\n\t\t\t},\n\t\t};\n\n\t\treturn {\n\t\t\tcode,\n\t\t\tmediaTypes: {\n\t\t\t\tvideo: {\n\t\t\t\t\tplayerSize: [640, 480],\n\t\t\t\t\tcontext: 'instream',\n\t\t\t\t},\n\t\t\t},\n\t\t\tbids: this.getBids(ids, videoParams),\n\t\t};\n\t}\n\n\tgetStandardConfig(code, sizes, ids) {\n\t\treturn {\n\t\t\tcode,\n\t\t\tmediaTypes: {\n\t\t\t\tbanner: {\n\t\t\t\t\tsizes,\n\t\t\t\t},\n\t\t\t},\n\t\t\tbids: this.getBids(ids),\n\t\t};\n\t}\n\n\tgetBids(ids, params = {}) {\n\t\treturn ids.map((adSlot) => ({\n\t\t\tbidder: this.bidderName,\n\t\t\tparams: {\n\t\t\t\tadSlot,\n\t\t\t\tpublisherId: this.publisherId,\n\t\t\t\t...params,\n\t\t\t},\n\t\t}));\n\t}\n}\n","import { context, slotService } from '@wikia/ad-engine';\nimport { getAdapters } from './adapters-registry';\n\nconst lazyLoadSlots = ['bottom_leaderboard'];\n\nfunction isSlotApplicable(code, lazyLoad) {\n\tconst isSlotLazy = lazyLoadSlots.indexOf(code) !== -1;\n\n\tif (!slotService.getState(code)) {\n\t\treturn false;\n\t}\n\n\tif (\n\t\tlazyLoad !== 'off' &&\n\t\t((lazyLoad === 'pre' && isSlotLazy) || (lazyLoad === 'post' && !isSlotLazy))\n\t) {\n\t\treturn false;\n\t}\n\n\treturn true;\n}\n\nexport function setupAdUnits(adaptersConfig, lazyLoad = 'off') {\n\tconst adUnits = [];\n\tconst adapters = getAdapters(adaptersConfig);\n\n\tadapters.forEach((adapter) => {\n\t\tif (adapter && adapter.enabled) {\n\t\t\tconst adapterAdUnits = adapter.prepareAdUnits();\n\n\t\t\tadapterAdUnits.forEach((adUnit) => {\n\t\t\t\tif (adUnit && isSlotApplicable(adUnit.code, lazyLoad)) {\n\t\t\t\t\tadUnits.push(adUnit);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\n\treturn adUnits;\n}\n\nexport function getBidByAdId(adId) {\n\tif (!window.pbjs || typeof window.pbjs.getBidResponses !== 'function') {\n\t\treturn null;\n\t}\n\n\tlet bids = window.pbjs.getAllPrebidWinningBids().filter((bid) => adId === bid.adId);\n\n\tif (!bids.length) {\n\t\tconst responses = window.pbjs.getBidResponses();\n\n\t\tObject.keys(responses).forEach((adUnit) => {\n\t\t\tconst adUnitsBids = responses[adUnit].bids.filter((bid) => adId === bid.adId);\n\n\t\t\tbids = bids.concat(adUnitsBids);\n\t\t});\n\t}\n\n\treturn bids.length ? bids[0] : null;\n}\n\nexport function getAvailableBidsByAdUnitCode(adUnitCode) {\n\tlet bids = [];\n\n\tif (window.pbjs && typeof window.pbjs.getBidResponsesForAdUnitCode === 'function') {\n\t\tbids = window.pbjs.getBidResponsesForAdUnitCode(adUnitCode).bids || [];\n\t\tbids = bids.filter((bid) => bid.status !== 'rendered');\n\t}\n\n\treturn bids;\n}\n\nexport function getPrebid() {\n\treturn window.pbjs;\n}\n\nexport function getTargeting(slotName) {\n\treturn Object.assign(\n\t\t{\n\t\t\tpos: [slotName],\n\t\t},\n\t\tcontext.get('bidders.prebid.targeting') || {},\n\t);\n}\n\nexport function getWinningVideoBidBySlotName(slotName, allowedBidders) {\n\tif (!window.pbjs || !window.pbjs.getBidResponsesForAdUnitCode) {\n\t\treturn null;\n\t}\n\n\tconst bids = window.pbjs.getBidResponsesForAdUnitCode(slotName).bids || [];\n\n\treturn bids\n\t\t.filter((bid) => {\n\t\t\tconst canUseThisBidder = !allowedBidders || allowedBidders.indexOf(bid.bidderCode) !== -1;\n\t\t\tconst hasVast = bid.vastUrl || bid.vastContent;\n\n\t\t\treturn canUseThisBidder && hasVast && bid.cpm > 0;\n\t\t})\n\t\t.reduce((previousBid, currentBid) => {\n\t\t\tif (previousBid === null || currentBid.cpm > previousBid.cpm) {\n\t\t\t\treturn currentBid;\n\t\t\t}\n\n\t\t\treturn previousBid;\n\t\t}, null);\n}\n\nexport function pushPrebid(callback) {\n\twindow.pbjs.que.push(callback);\n}\n","import { context } from '@wikia/ad-engine';\nimport { getTargeting } from '../prebid-helper';\nimport { BaseAdapter } from './base-adapter';\n\nexport class Rubicon extends BaseAdapter {\n\tconstructor(options) {\n\t\tsuper(options);\n\n\t\tthis.bidderName = 'rubicon';\n\t\tthis.accountId = options.accountId;\n\t}\n\n\tprepareConfigForAdUnit(code, { siteId, zoneId, sizeId, position }) {\n\t\tif (code === 'featured' && !context.get('custom.rubiconInFV')) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst targeting = getTargeting(code);\n\n\t\treturn {\n\t\t\tcode,\n\t\t\tmediaType: 'video',\n\t\t\tmediaTypes: {\n\t\t\t\tvideo: {\n\t\t\t\t\tplayerSize: [640, 480],\n\t\t\t\t\tcontext: 'instream',\n\t\t\t\t},\n\t\t\t},\n\t\t\tbids: [\n\t\t\t\t{\n\t\t\t\t\tbidder: this.bidderName,\n\t\t\t\t\tparams: {\n\t\t\t\t\t\taccountId: this.accountId,\n\t\t\t\t\t\tsiteId,\n\t\t\t\t\t\tzoneId,\n\t\t\t\t\t\tname: code,\n\t\t\t\t\t\tposition,\n\t\t\t\t\t\tinventory: targeting,\n\t\t\t\t\t\tvideo: {\n\t\t\t\t\t\t\tplayerWidth: '640',\n\t\t\t\t\t\t\tplayerHeight: '480',\n\t\t\t\t\t\t\tsize_id: sizeId,\n\t\t\t\t\t\t\tlanguage: targeting.lang ? targeting.lang[0] : 'en',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t};\n\t}\n}\n","import { getTargeting } from '../prebid-helper';\nimport { BaseAdapter } from './base-adapter';\n\nexport class RubiconDisplay extends BaseAdapter {\n\tconstructor(options) {\n\t\tsuper(options);\n\n\t\tthis.bidderName = 'rubicon_display';\n\t\tthis.aliases = {\n\t\t\trubicon: [this.bidderName],\n\t\t};\n\t\tthis.accountId = options.accountId;\n\t}\n\n\tprepareConfigForAdUnit(code, { siteId, zoneId, sizes, position, targeting }) {\n\t\tconst pageTargeting = getTargeting(code);\n\n\t\tObject.keys(targeting || {}).forEach((key) => {\n\t\t\tpageTargeting[key] = targeting[key];\n\t\t});\n\n\t\treturn {\n\t\t\tcode,\n\t\t\tmediaTypes: {\n\t\t\t\tbanner: {\n\t\t\t\t\tsizes,\n\t\t\t\t},\n\t\t\t},\n\t\t\tbids: [\n\t\t\t\t{\n\t\t\t\t\tbidder: this.bidderName,\n\t\t\t\t\tparams: {\n\t\t\t\t\t\taccountId: this.accountId,\n\t\t\t\t\t\tsiteId,\n\t\t\t\t\t\tzoneId,\n\t\t\t\t\t\tname: code,\n\t\t\t\t\t\tposition,\n\t\t\t\t\t\tkeywords: ['rp.fastlane'],\n\t\t\t\t\t\tinventory: pageTargeting,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t};\n\t}\n}\n","import { utils } from '@wikia/ad-engine';\nimport { BaseAdapter } from './base-adapter';\n\nconst price = utils.queryString.get('wikia_adapter');\nconst limit = parseInt(utils.queryString.get('wikia_adapter_limit'), 10) || 99;\nconst timeout = parseInt(utils.queryString.get('wikia_adapter_timeout'), 10) || 0;\nconst useRandomPrice = utils.queryString.get('wikia_adapter_random') === '1';\n\nexport class Wikia extends BaseAdapter {\n\tconstructor(options) {\n\t\tsuper(options);\n\n\t\tthis.bidderName = 'wikia';\n\t\tthis.enabled = !!price;\n\t\tthis.limit = limit;\n\t\tthis.useRandomPrice = useRandomPrice;\n\t\tthis.timeout = timeout;\n\n\t\tthis.create = () => this;\n\t}\n\n\tprepareConfigForAdUnit(code, { sizes }) {\n\t\treturn {\n\t\t\tcode,\n\t\t\tmediaTypes: {\n\t\t\t\tbanner: {\n\t\t\t\t\tsizes,\n\t\t\t\t},\n\t\t\t},\n\t\t\tbids: [\n\t\t\t\t{\n\t\t\t\t\tbidder: this.bidderName,\n\t\t\t\t},\n\t\t\t],\n\t\t};\n\t}\n\n\tgetSpec() {\n\t\treturn {\n\t\t\tcode: this.bidderName,\n\t\t\tsupportedMediaTypes: ['banner'],\n\t\t};\n\t}\n\n\tgetPrice() {\n\t\tif (this.useRandomPrice) {\n\t\t\treturn Math.floor(Math.random() * 2000) / 100;\n\t\t}\n\n\t\treturn parseInt(price, 10) / 100;\n\t}\n\n\tcallBids(bidRequest, addBidResponse, done) {\n\t\twindow.pbjs.que.push(() => {\n\t\t\tthis.addBids(bidRequest, addBidResponse, done);\n\t\t});\n\t}\n\n\taddBids(bidRequest, addBidResponse, done) {\n\t\tsetTimeout(() => {\n\t\t\tbidRequest.bids.forEach((bid) => {\n\t\t\t\tif (this.limit === 0) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst bidResponse = window.pbjs.createBid(1);\n\t\t\t\tconst [width, height] = bid.sizes[0];\n\t\t\t\tconst cpm = this.getPrice();\n\n\t\t\t\tbidResponse.ad = this.getCreative(bid.sizes[0], cpm);\n\t\t\t\tbidResponse.bidderCode = bidRequest.bidderCode;\n\t\t\t\tbidResponse.cpm = cpm;\n\t\t\t\tbidResponse.ttl = 300;\n\t\t\t\tbidResponse.mediaType = 'banner';\n\t\t\t\tbidResponse.width = width;\n\t\t\t\tbidResponse.height = height;\n\n\t\t\t\taddBidResponse(bid.adUnitCode, bidResponse);\n\t\t\t\tthis.limit -= 1;\n\t\t\t});\n\t\t\tdone();\n\t\t}, this.timeout);\n\t}\n\n\tgetCreative(size, cpm) {\n\t\tconst creative = document.createElement('div');\n\n\t\tcreative.style.background = '#00b7e0';\n\t\tcreative.style.color = '#fff';\n\t\tcreative.style.fontFamily = 'sans-serif';\n\t\tcreative.style.height = '100%';\n\t\tcreative.style.textAlign = 'center';\n\t\tcreative.style.width = '100%';\n\n\t\tconst title = document.createElement('p');\n\n\t\ttitle.innerText = 'Wikia Creative';\n\t\ttitle.style.fontWeight = 'bold';\n\t\ttitle.style.margin = '0';\n\t\ttitle.style.paddingTop = '10px';\n\n\t\tconst details = document.createElement('small');\n\n\t\tdetails.innerText = `cpm: ${cpm}, size: ${size.join('x')}`;\n\n\t\tcreative.appendChild(title);\n\t\tcreative.appendChild(details);\n\n\t\treturn creative.outerHTML;\n\t}\n}\n","import { buildVastUrl, context, utils } from '@wikia/ad-engine';\nimport { BaseAdapter } from './base-adapter';\n\nconst price = utils.queryString.get('wikia_video_adapter');\nconst limit = parseInt(utils.queryString.get('wikia_adapter_limit'), 10) || 99;\nconst timeout = parseInt(utils.queryString.get('wikia_adapter_timeout'), 10) || 0;\nconst useRandomPrice = utils.queryString.get('wikia_adapter_random') === '1';\n\nexport class WikiaVideo extends BaseAdapter {\n\tconstructor(options) {\n\t\tsuper(options);\n\n\t\tthis.bidderName = 'wikiaVideo';\n\t\tthis.enabled = !!price;\n\t\tthis.limit = limit;\n\t\tthis.useRandomPrice = useRandomPrice;\n\t\tthis.timeout = timeout;\n\n\t\tthis.create = () => this;\n\t}\n\n\tprepareConfigForAdUnit(code) {\n\t\treturn {\n\t\t\tcode,\n\t\t\tmediaTypes: {\n\t\t\t\tvideo: {\n\t\t\t\t\tcontext: 'outstream',\n\t\t\t\t\tplayerSize: [640, 480],\n\t\t\t\t},\n\t\t\t},\n\t\t\tbids: [\n\t\t\t\t{\n\t\t\t\t\tbidder: this.bidderName,\n\t\t\t\t},\n\t\t\t],\n\t\t};\n\t}\n\n\tgetSpec() {\n\t\treturn {\n\t\t\tcode: this.bidderName,\n\t\t\tsupportedMediaTypes: ['video'],\n\t\t};\n\t}\n\n\tgetPrice() {\n\t\tif (this.useRandomPrice) {\n\t\t\treturn Math.floor(Math.random() * 20);\n\t\t}\n\n\t\treturn parseInt(price, 10) / 100;\n\t}\n\n\tgetVastUrl(width, height, slotName) {\n\t\treturn buildVastUrl(width / height, slotName, {\n\t\t\tvideoAdUnitId: context.get(`bidders.prebid.wikiaVideo.slots.${slotName}.videoAdUnitId`),\n\t\t\tcustomParams: context.get(`bidders.prebid.wikiaVideo.slots.${slotName}.customParams`),\n\t\t});\n\t}\n\n\tcallBids(bidRequest, addBidResponse, done) {\n\t\twindow.pbjs.que.push(() => {\n\t\t\tthis.addBids(bidRequest, addBidResponse, done);\n\t\t});\n\t}\n\n\taddBids(bidRequest, addBidResponse, done) {\n\t\tsetTimeout(() => {\n\t\t\tbidRequest.bids.forEach((bid) => {\n\t\t\t\tif (this.limit === 0) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst bidResponse = window.pbjs.createBid(1);\n\t\t\t\tconst [width, height] = bid.sizes[0];\n\t\t\t\tconst slotName = bid.adUnitCode;\n\n\t\t\t\tbidResponse.bidderCode = bidRequest.bidderCode;\n\t\t\t\tbidResponse.cpm = this.getPrice();\n\t\t\t\tbidResponse.creativeId = 'foo123_wikiaVideoCreativeId';\n\t\t\t\tbidResponse.ttl = 300;\n\t\t\t\tbidResponse.mediaType = 'video';\n\t\t\t\tbidResponse.width = width;\n\t\t\t\tbidResponse.height = height;\n\t\t\t\tbidResponse.vastUrl = this.getVastUrl(width, height, slotName);\n\t\t\t\tbidResponse.videoCacheKey = '123foo_wikiaVideoCacheKey';\n\n\t\t\t\taddBidResponse(bid.adUnitCode, bidResponse);\n\t\t\t\tthis.limit -= 1;\n\t\t\t});\n\n\t\t\tdone();\n\t\t}, this.timeout);\n\t}\n}\n","import { Aol } from './adapters/aol';\nimport { Appnexus } from './adapters/appnexus';\nimport { AppnexusAst } from './adapters/appnexus-ast';\nimport { AudienceNetwork } from './adapters/audience-network';\nimport { Beachfront } from './adapters/beachfront';\nimport { IndexExchange } from './adapters/index-exchange';\nimport { Kargo } from './adapters/kargo';\nimport { Lkqd } from './adapters/lkqd';\nimport { Onemobile } from './adapters/onemobile';\nimport { Openx } from './adapters/openx';\nimport { Pubmatic } from './adapters/pubmatic';\nimport { Rubicon } from './adapters/rubicon';\nimport { RubiconDisplay } from './adapters/rubicon-display';\nimport { Wikia } from './adapters/wikia';\nimport { WikiaVideo } from './adapters/wikia-video';\n\nconst adapters = [];\nconst customAdapters = [];\nconst availableAdapters = {\n\taol: Aol,\n\tappnexus: Appnexus,\n\tappnexusAst: AppnexusAst,\n\taudienceNetwork: AudienceNetwork,\n\tbeachfront: Beachfront,\n\tindexExchange: IndexExchange,\n\tkargo: Kargo,\n\tlkqd: Lkqd,\n\tonemobile: Onemobile,\n\topenx: Openx,\n\tpubmatic: Pubmatic,\n\trubicon: Rubicon,\n\trubiconDisplay: RubiconDisplay,\n};\n\nfunction registerAliases() {\n\tadapters\n\t\t.filter((adapter) => adapter.aliases)\n\t\t.forEach((adapter) => {\n\t\t\twindow.pbjs.que.push(() => {\n\t\t\t\tconst aliasMap = adapter.aliases;\n\n\t\t\t\tObject.keys(aliasMap).forEach((bidderName) => {\n\t\t\t\t\taliasMap[bidderName].forEach((alias) => {\n\t\t\t\t\t\twindow.pbjs.aliasBidder(bidderName, alias);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t});\n}\n\nfunction setupAdapters(bidders) {\n\tObject.keys(availableAdapters).forEach((key) => {\n\t\tif (bidders[key]) {\n\t\t\tconst adapter = new availableAdapters[key](bidders[key]);\n\n\t\t\tadapters.push(adapter);\n\t\t}\n\t});\n\n\tsetupCustomAdapters(bidders);\n}\n\nfunction setupCustomAdapters(bidders) {\n\tif (bidders.wikia) {\n\t\tcustomAdapters.push(new Wikia(bidders.wikia));\n\t}\n\n\tif (bidders.wikiaVideo) {\n\t\tcustomAdapters.push(new WikiaVideo(bidders.wikiaVideo));\n\t}\n\n\tcustomAdapters.forEach((adapter) => {\n\t\tadapters.push(adapter);\n\n\t\twindow.pbjs.que.push(() => {\n\t\t\twindow.pbjs.registerBidAdapter(adapter.create, adapter.bidderName);\n\t\t});\n\t});\n}\n\nexport function getPriorities() {\n\tconst priorities = {};\n\n\tadapters.forEach((adapter) => {\n\t\tpriorities[adapter.bidderName] = adapter.priority || 1;\n\t});\n\n\treturn priorities;\n}\n\nexport function getAdapters(config) {\n\tif (adapters.length === 0 && config) {\n\t\tsetupAdapters(config);\n\t\tregisterAliases();\n\t}\n\n\treturn adapters;\n}\n","import { getAdapters } from './adapters-registry';\nimport { Prebid } from './index';\n\nconst DEFAULT_MAX_CPM = 20;\nconst videoBiddersCap50 = ['appnexusAst', 'rubicon', 'wikiaVideo']; // bidders with $50 cap\n\nfunction isValidPrice(bid) {\n\treturn bid.getStatusCode && bid.getStatusCode() === Prebid.validResponseStatusCode;\n}\n\n/**\n * Round cpm to predefined values.\n *\n * @param {number} cpm\n * @param {number} maxCpm\n * @returns {number}\n */\nfunction roundCpm(cpm, maxCpm) {\n\tlet result = Math.floor(maxCpm);\n\n\tif (cpm === 0) {\n\t\tresult = 0.0;\n\t} else if (cpm < 0.05) {\n\t\tresult = 0.01;\n\t} else if (cpm < 5.0) {\n\t\tresult = Math.floor(cpm * 20) / 20;\n\t} else if (cpm < 10.0) {\n\t\tresult = Math.floor(cpm * 10) / 10;\n\t} else if (cpm < 20.0) {\n\t\tresult = Math.floor(cpm * 2) / 2;\n\t} else if (cpm < maxCpm) {\n\t\tresult = Math.floor(cpm);\n\t}\n\n\treturn result;\n}\n\n/**\n * Round cpm to predefined values and transform to String with 2 decimal places.\n *\n * @param {number} cpm\n * @param {number} maxCpm\n * @returns {string}\n */\nexport function transformPriceFromCpm(cpm, maxCpm = DEFAULT_MAX_CPM) {\n\tmaxCpm = Math.max(maxCpm, DEFAULT_MAX_CPM);\n\n\treturn roundCpm(cpm, maxCpm).toFixed(2);\n}\n\n/**\n *\n * @param {string} slotName\n * @return {object}\n */\nexport function getPrebidBestPrice(slotName) {\n\tconst bestPrices = {};\n\n\tif (window.pbjs && window.pbjs.getBidResponsesForAdUnitCode) {\n\t\tconst slotBids = window.pbjs.getBidResponsesForAdUnitCode(slotName).bids || [];\n\n\t\tgetAdapters().forEach((adapter) => {\n\t\t\tbestPrices[adapter.bidderName] = '';\n\t\t});\n\n\t\tslotBids.forEach((bid) => {\n\t\t\tif (isValidPrice(bid) && bid.status !== 'rendered') {\n\t\t\t\tconst { bidderCode, cpm } = bid;\n\t\t\t\tconst cmpPrice = Math.max(bestPrices[bidderCode] || 0, roundCpm(cpm, DEFAULT_MAX_CPM));\n\n\t\t\t\tif (cmpPrice > 0) {\n\t\t\t\t\tbestPrices[bidderCode] = cmpPrice.toFixed(2);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\treturn bestPrices;\n}\n\nexport function transformPriceFromBid(bid) {\n\tlet maxCpm = DEFAULT_MAX_CPM;\n\n\tif (videoBiddersCap50.includes(bid.bidderCode)) {\n\t\tmaxCpm = 50;\n\t}\n\n\treturn transformPriceFromCpm(bid.cpm, maxCpm);\n}\n","import { context } from '@wikia/ad-engine';\nimport { transformPriceFromBid } from './price-helper';\n\nconst dfpVideoBidders = [\n\t{ bidderCode: 'appnexusAst', contextKey: 'custom.appnexusDfp' },\n\t{ bidderCode: 'beachfront', contextKey: 'custom.beachfrontDfp' },\n\t{ bidderCode: 'lkqd', contextKey: 'custom.lkqdDfp' },\n\t{ bidderCode: 'rubicon', contextKey: 'custom.rubiconDfp' },\n\t{ bidderCode: 'pubmatic', contextKey: 'custom.pubmaticDfp' },\n];\n\nexport function getSettings() {\n\treturn {\n\t\tstandard: {\n\t\t\talwaysUseBid: false,\n\t\t\tadserverTargeting: [\n\t\t\t\t{\n\t\t\t\t\tkey: 'hb_bidder',\n\t\t\t\t\tval: ({ bidderCode }) => bidderCode,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tkey: 'hb_adid',\n\t\t\t\t\tval: ({ adId }) => adId,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tkey: 'hb_pb',\n\t\t\t\t\tval: (bidResponse) => transformPriceFromBid(bidResponse),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tkey: 'hb_size',\n\t\t\t\t\tval: ({ size }) => size,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tkey: 'hb_uuid',\n\t\t\t\t\tval: (bidResponse) => getBidderUuid(bidResponse),\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t};\n}\n\nfunction getBidderUuid(bidResponse) {\n\tconst isVideo = dfpVideoBidders.some(\n\t\t(video) => bidResponse.bidderCode === video.bidderCode && context.get(video.contextKey),\n\t);\n\n\treturn isVideo ? bidResponse.videoCacheKey : 'disabled';\n}\n","import { decorate } from 'core-decorators';\nimport { context, events, utils } from '@wikia/ad-engine';\nimport { BaseBidder } from '../base-bidder';\nimport { getPriorities } from './adapters-registry';\nimport { getPrebidBestPrice } from './price-helper';\nimport { getSettings } from './prebid-settings';\nimport { getAvailableBidsByAdUnitCode, setupAdUnits } from './prebid-helper';\n\nfunction postponeExecutionUntilPbjsLoads(method) {\n\treturn function (...args) {\n\t\treturn window.pbjs.que.push(() => method.apply(this, args));\n\t};\n}\n\nevents.on(events.VIDEO_AD_IMPRESSION, markWinningBidAsUsed);\nevents.on(events.VIDEO_AD_ERROR, markWinningBidAsUsed);\n\nfunction markWinningBidAsUsed(adSlot) {\n\t// Mark ad as rendered\n\tconst adId = context.get(`slots.${adSlot.getSlotName()}.targeting.hb_adid`);\n\n\tif (adId) {\n\t\tif (window.pbjs && typeof window.pbjs.markWinningBidAsUsed === 'function') {\n\t\t\twindow.pbjs.markWinningBidAsUsed({ adId });\n\t\t\tevents.emit(events.VIDEO_AD_USED, adSlot);\n\t\t}\n\t}\n}\n\nconst logGroup = 'prebid';\n\nlet loaded = false;\n\nwindow.pbjs = window.pbjs || {};\nwindow.pbjs.que = window.pbjs.que || [];\n\nevents.registerEvent('BIDS_REFRESH');\nevents.registerEvent('PREBID_LAZY_CALL');\n\nexport class Prebid extends BaseBidder {\n\tstatic validResponseStatusCode = 1;\n\tstatic errorResponseStatusCode = 2;\n\n\tconstructor(bidderConfig, timeout = 2000) {\n\t\tsuper('prebid', bidderConfig, timeout);\n\n\t\tthis.insertScript();\n\n\t\tthis.lazyLoaded = false;\n\t\tthis.isLazyLoadingEnabled = this.bidderConfig.lazyLoadingEnabled;\n\t\tthis.isCMPEnabled = context.get('custom.isCMPEnabled');\n\t\tthis.adUnits = setupAdUnits(this.bidderConfig, this.isLazyLoadingEnabled ? 'pre' : 'off');\n\t\tthis.prebidConfig = {\n\t\t\tdebug:\n\t\t\t\tutils.queryString.get('pbjs_debug') === '1' ||\n\t\t\t\tutils.queryString.get('pbjs_debug') === 'true',\n\t\t\tenableSendAllBids: true,\n\t\t\tbidderSequence: 'random',\n\t\t\tbidderTimeout: this.timeout,\n\t\t\tcache: {\n\t\t\t\turl: 'https://prebid.adnxs.com/pbc/v1/cache',\n\t\t\t},\n\t\t\tuserSync: {\n\t\t\t\tiframeEnabled: true,\n\t\t\t\tenabledBidders: [],\n\t\t\t\tsyncDelay: 6000,\n\t\t\t},\n\t\t};\n\t\tthis.bidsRefreshing = context.get('bidders.prebid.bidsRefreshing');\n\n\t\tif (this.isCMPEnabled) {\n\t\t\tthis.prebidConfig.consentManagement = {\n\t\t\t\tcmpApi: 'iab',\n\t\t\t\ttimeout: this.timeout,\n\t\t\t\tallowAuctionWithoutConsent: false,\n\t\t\t};\n\t\t}\n\n\t\twindow.pbjs = window.pbjs || {};\n\t\twindow.pbjs.que = window.pbjs.que || [];\n\n\t\tthis.applyConfig(this.prebidConfig);\n\n\t\tif (this.bidsRefreshing && this.bidsRefreshing.enabled) {\n\t\t\tthis.registerBidsRefreshing();\n\t\t}\n\t}\n\n\t@decorate(postponeExecutionUntilPbjsLoads)\n\tapplyConfig(config) {\n\t\twindow.pbjs.setConfig(config);\n\t}\n\n\t@decorate(postponeExecutionUntilPbjsLoads)\n\tapplySettings() {\n\t\twindow.pbjs.bidderSettings = getSettings();\n\t}\n\n\t/**\n\t * @protected\n\t */\n\tcallBids(bidsBackHandler) {\n\t\tif (!this.adUnits) {\n\t\t\tthis.adUnits = setupAdUnits(this.bidderConfig, this.isLazyLoadingEnabled ? 'pre' : 'off');\n\t\t}\n\n\t\tif (this.adUnits.length > 0) {\n\t\t\tthis.applySettings();\n\t\t\tthis.requestBids(this.adUnits, bidsBackHandler, this.removeAdUnits);\n\t\t}\n\n\t\tif (this.isLazyLoadingEnabled) {\n\t\t\tevents.on(events.PREBID_LAZY_CALL, () => {\n\t\t\t\tthis.lazyCall(bidsBackHandler);\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * @private\n\t */\n\tinsertScript() {\n\t\tif (loaded) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst libraryUrl = context.get('bidders.prebid.libraryUrl');\n\n\t\tif (!libraryUrl) {\n\t\t\tutils.logger(\n\t\t\t\tlogGroup,\n\t\t\t\t'Prebid library URL not defined. Assuming that window.pbjs will be loaded.',\n\t\t\t);\n\n\t\t\treturn;\n\t\t}\n\n\t\tutils.scriptLoader.loadScript(libraryUrl, 'text/javascript', true, 'first');\n\t\tloaded = true;\n\t}\n\n\tlazyCall(bidsBackHandler) {\n\t\tif (this.lazyLoaded) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.lazyLoaded = true;\n\n\t\tconst adUnitsLazy = setupAdUnits(this.bidderConfig, 'post');\n\n\t\tif (adUnitsLazy.length > 0) {\n\t\t\tthis.requestBids(adUnitsLazy, bidsBackHandler);\n\n\t\t\tthis.adUnits = this.adUnits.concat(adUnitsLazy);\n\t\t}\n\t}\n\n\tremoveAdUnits() {\n\t\t(window.pbjs.adUnits || []).forEach((adUnit) => {\n\t\t\twindow.pbjs.removeAdUnit(adUnit.code);\n\t\t});\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tgetBestPrice(slotName) {\n\t\tconst slotAlias = this.getSlotAlias(slotName);\n\n\t\treturn getPrebidBestPrice(slotAlias);\n\t}\n\n\tgetTargetingKeysToReset() {\n\t\treturn ['hb_bidder', 'hb_adid', 'hb_pb', 'hb_size', 'hb_uuid'];\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tgetTargetingParams(slotName) {\n\t\tlet slotParams = {};\n\n\t\tconst slotAlias = this.getSlotAlias(slotName);\n\t\tconst bids = getAvailableBidsByAdUnitCode(slotAlias);\n\n\t\tif (bids.length) {\n\t\t\tlet bidParams = null;\n\t\t\tconst priorities = getPriorities();\n\n\t\t\tbids.forEach((param) => {\n\t\t\t\tif (!bidParams) {\n\t\t\t\t\tbidParams = param;\n\t\t\t\t} else if (bidParams.cpm === param.cpm) {\n\t\t\t\t\tif (priorities[bidParams.bidder] === priorities[param.bidder]) {\n\t\t\t\t\t\tbidParams = bidParams.timeToRespond > param.timeToRespond ? param : bidParams;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbidParams = priorities[bidParams.bidder] < priorities[param.bidder] ? param : bidParams;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tbidParams = bidParams.cpm < param.cpm ? param : bidParams;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (bidParams) {\n\t\t\t\tslotParams = bidParams.adserverTargeting;\n\t\t\t}\n\n\t\t\t// ADEN-7436: AppNexus hb_uuid fix\n\t\t\t// (adserverTargeting params are being set before cache key is returned)\n\t\t\tslotParams.hb_uuid = slotParams.hb_uuid || bidParams.videoCacheKey || 'disabled';\n\t\t}\n\n\t\treturn slotParams || {};\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tisSupported(slotName) {\n\t\tconst slotAlias = this.getSlotAlias(slotName);\n\n\t\treturn this.adUnits && this.adUnits.some((adUnit) => adUnit.code === slotAlias);\n\t}\n\n\tregisterBidsRefreshing() {\n\t\twindow.pbjs.que.push(() => {\n\t\t\tconst refreshUsedBid = (winningBid) => {\n\t\t\t\tif (this.bidsRefreshing.slots.indexOf(winningBid.adUnitCode) !== -1) {\n\t\t\t\t\tevents.emit(events.BIDS_REFRESH);\n\t\t\t\t\tconst adUnitsToRefresh = this.adUnits.filter(\n\t\t\t\t\t\t(adUnit) =>\n\t\t\t\t\t\t\tadUnit.code === winningBid.adUnitCode &&\n\t\t\t\t\t\t\tadUnit.bids &&\n\t\t\t\t\t\t\tadUnit.bids[0] &&\n\t\t\t\t\t\t\tadUnit.bids[0].bidder === winningBid.bidderCode,\n\t\t\t\t\t);\n\n\t\t\t\t\tthis.requestBids(adUnitsToRefresh, this.bidsRefreshing.bidsBackHandler);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\twindow.pbjs.onEvent('bidWon', refreshUsedBid);\n\t\t\tevents.once(events.PAGE_CHANGE_EVENT, () => {\n\t\t\t\twindow.pbjs.offEvent('bidWon', refreshUsedBid);\n\t\t\t});\n\t\t});\n\t}\n\n\t@decorate(postponeExecutionUntilPbjsLoads)\n\trequestBids(adUnits, bidsBackHandler, withRemove = undefined) {\n\t\tif (withRemove) {\n\t\t\twithRemove();\n\t\t}\n\n\t\twindow.pbjs.requestBids({\n\t\t\tadUnits,\n\t\t\tbidsBackHandler,\n\t\t});\n\t}\n}\n","import { context, events, utils } from '@wikia/ad-engine';\nimport { A9 } from './a9';\nimport { Prebid } from './prebid';\nimport * as prebidHelper from './prebid/prebid-helper';\nimport { transformPriceFromBid } from './prebid/price-helper';\n\nconst biddersRegistry = {};\nconst realSlotPrices = {};\nconst logGroup = 'bidders';\n\nevents.on(events.VIDEO_AD_REQUESTED, (adSlot) => {\n\tadSlot.updateWinningPbBidderDetails();\n});\n\nevents.on(events.VIDEO_AD_USED, (adSlot) => {\n\tupdateSlotTargeting(adSlot.getSlotName());\n});\n\nfunction applyTargetingParams(slotName, targeting) {\n\tObject.keys(targeting).forEach((key) =>\n\t\tcontext.set(`slots.${slotName}.targeting.${key}`, targeting[key]),\n\t);\n}\n\n/**\n * Executes callback function on each enabled bidder\n *\n * @param {function} callback\n */\nfunction forEachBidder(callback) {\n\tObject.keys(biddersRegistry).forEach((bidderName) => {\n\t\tcallback(biddersRegistry[bidderName]);\n\t});\n}\n\nfunction getBidParameters(slotName) {\n\tconst slotParams = {};\n\n\tforEachBidder((bidder) => {\n\t\tif (bidder && bidder.wasCalled()) {\n\t\t\tconst params = bidder.getSlotTargetingParams(slotName);\n\n\t\t\tObject.assign(slotParams, params);\n\t\t}\n\t});\n\n\treturn slotParams;\n}\n\nfunction getCurrentSlotPrices(slotName) {\n\tconst slotPrices = {};\n\n\tforEachBidder((bidder) => {\n\t\tif (bidder && bidder.isSlotSupported(slotName)) {\n\t\t\tconst priceFromBidder = bidder.getSlotBestPrice(slotName);\n\n\t\t\tObject.keys(priceFromBidder).forEach((bidderName) => {\n\t\t\t\tslotPrices[bidderName] = priceFromBidder[bidderName];\n\t\t\t});\n\t\t}\n\t});\n\n\treturn slotPrices;\n}\n\nfunction getDfpSlotPrices(slotName) {\n\treturn realSlotPrices[slotName] || {};\n}\n\n/**\n * Returns true if all bidders replied\n *\n * @returns {boolean}\n */\nfunction hasAllResponses() {\n\tconst missingBidders = Object.keys(biddersRegistry).filter((bidderName) => {\n\t\tconst bidder = biddersRegistry[bidderName];\n\n\t\treturn !bidder.hasResponse();\n\t});\n\n\treturn missingBidders.length === 0;\n}\n\nfunction resetTargetingKeys(slotName) {\n\tforEachBidder((bidder) => {\n\t\tbidder.getTargetingKeysToReset().forEach((key) => {\n\t\t\tcontext.remove(`slots.${slotName}.targeting.${key}`);\n\t\t});\n\t});\n\n\tutils.logger(logGroup, 'resetTargetingKeys', slotName);\n}\n\nfunction requestBids({ responseListener = null }) {\n\tconst config = context.get('bidders');\n\n\tif (config.prebid && config.prebid.enabled) {\n\t\tbiddersRegistry.prebid = new Prebid(config.prebid, config.timeout);\n\t}\n\n\tif (config.a9 && config.a9.enabled) {\n\t\tbiddersRegistry.a9 = new A9(config.a9, config.timeout);\n\t}\n\n\tforEachBidder((bidder) => {\n\t\tif (responseListener) {\n\t\t\tbidder.addResponseListener(responseListener);\n\t\t}\n\n\t\tbidder.call();\n\t});\n}\n\n/**\n * Executes callback function if bidding is finished or timeout is reached\n *\n * @param {function} callback\n *\n * @returns {Promise}\n */\nfunction runOnBiddingReady(callback) {\n\tconst responses = [];\n\n\tforEachBidder((bidder) => {\n\t\tresponses.push(bidder.waitForResponse());\n\t});\n\n\treturn Promise.all(responses).then(callback);\n}\n\nfunction storeRealSlotPrices(slotName) {\n\trealSlotPrices[slotName] = getCurrentSlotPrices(slotName);\n}\n\nfunction updateSlotTargeting(slotName) {\n\tconst bidderTargeting = getBidParameters(slotName);\n\n\tstoreRealSlotPrices(slotName);\n\n\tresetTargetingKeys(slotName);\n\tapplyTargetingParams(slotName, bidderTargeting);\n\n\tutils.logger(logGroup, 'updateSlotTargeting', slotName, bidderTargeting);\n\n\treturn bidderTargeting;\n}\n\nexport const bidders = {\n\tgetBidParameters,\n\tgetCurrentSlotPrices,\n\tgetDfpSlotPrices,\n\thasAllResponses,\n\tprebidHelper,\n\trequestBids,\n\trunOnBiddingReady,\n\ttransformPriceFromBid,\n\tupdateSlotTargeting,\n};\n\nexport * from './wrappers';\n","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;","function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n!(function(global) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  var inModule = typeof module === \"object\";\n  var runtime = global.regeneratorRuntime;\n  if (runtime) {\n    if (inModule) {\n      // If regeneratorRuntime is defined globally and we're in a module,\n      // make the exports object identical to regeneratorRuntime.\n      module.exports = runtime;\n    }\n    // Don't bother evaluating the rest of this file if the runtime was\n    // already defined globally.\n    return;\n  }\n\n  // Define the runtime globally (as expected by generated code) as either\n  // module.exports (if we're in a module) or a new, empty object.\n  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  runtime.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  runtime.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  runtime.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  runtime.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  runtime.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  runtime.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return runtime.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        if (delegate.iterator.return) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  runtime.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  runtime.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n})(\n  // In sloppy mode, unbound `this` refers to the global object, fallback to\n  // Function constructor if we're in global strict mode. That is sadly a form\n  // of indirect eval which violates Content Security Policy.\n  (function() {\n    return this || (typeof self === \"object\" && self);\n  })() || Function(\"return this\")()\n);\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// This method of obtaining a reference to the global object needs to be\n// kept identical to the way it is obtained in runtime.js\nvar g = (function() {\n  return this || (typeof self === \"object\" && self);\n})() || Function(\"return this\")();\n\n// Use `getOwnPropertyNames` because not all browsers support calling\n// `hasOwnProperty` on the global `self` object in a worker. See #183.\nvar hadRuntime = g.regeneratorRuntime &&\n  Object.getOwnPropertyNames(g).indexOf(\"regeneratorRuntime\") >= 0;\n\n// Save the old regeneratorRuntime in case it needs to be restored later.\nvar oldRuntime = hadRuntime && g.regeneratorRuntime;\n\n// Force reevalutation of runtime.js.\ng.regeneratorRuntime = undefined;\n\nmodule.exports = require(\"./runtime\");\n\nif (hadRuntime) {\n  // Restore the original runtime.\n  g.regeneratorRuntime = oldRuntime;\n} else {\n  // Remove the global property added by runtime.js.\n  try {\n    delete g.regeneratorRuntime;\n  } catch(e) {\n    g.regeneratorRuntime = undefined;\n  }\n}\n"],"sourceRoot":""}