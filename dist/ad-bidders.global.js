window.Wikia=window.Wikia||{},window.Wikia.adBidders=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=12)}([function(e,t){e.exports=window.Wikia.adEngine},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){var r=n(16);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){var r=n(17),i=n(8);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?i(e):t}},function(e,t,n){e.exports=n(20)},function(e,t){function n(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise(function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,u,"next",e)}function u(e){n(a,i,o,s,u,"throw",e)}s(void 0)})}}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){var r=n(15),i=n(14),o=n(13);e.exports=function(e,t){return r(e)||i(e,t)||o()}},function(e,t,n){var r=n(18);e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){r(e,t,n[t])})}return e}},function(e,t){e.exports=function(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}},function(e,t,n){"use strict";n.r(t);var r={};n.d(r,"setupAdUnits",function(){return we}),n.d(r,"getBidByAdId",function(){return ke}),n.d(r,"getAvailableBidsByAdUnitCode",function(){return xe}),n.d(r,"getPrebid",function(){return Se}),n.d(r,"getTargeting",function(){return _e}),n.d(r,"getWinningVideoBidBySlotName",function(){return je}),n.d(r,"pushPrebid",function(){return Ee});var i=n(0),o=n(6),a=n.n(o),s=n(7),u=n.n(s),c=n(10),d=n.n(c),l=n(2),f=n.n(l),p=n(1),h=n.n(p),b=n(5),g=n.n(b),y=n(4),v=n.n(y),m=n(3),w=n.n(m),k=function(){function e(){f()(this,e),this.renderImpEndCallbacks=[],this.utils=i.utils,this.insertScript(),this.configure(),this.addRenderImpHooks()}return h()(e,null,[{key:"make",value:function(){return e.instance||(e.instance=new e),e.instance}}]),h()(e,[{key:"insertScript",value:function(){this.script=this.utils.scriptLoader.loadScript("//c.amazon-adsystem.com/aax2/apstag.js","text/javascript",!0,"first")}},{key:"addRenderImpHooks",value:function(){var e=u()(a.a.mark(function e(){var t,n=this;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.script;case 2:t=window.apstag.renderImp,window.apstag.renderImp=function(e,r){t(e,r),n.renderImpEndCallbacks.forEach(function(t){return t(e,r)})};case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"configure",value:function(){var e=this;window.apstag=window.apstag||{},window.apstag._Q=window.apstag._Q||[],void 0===window.apstag.init&&(window.apstag.init=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.configureCommand("i",n)}),void 0===window.apstag.fetchBids&&(window.apstag.fetchBids=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.configureCommand("f",n)})}},{key:"configureCommand",value:function(e,t){window.apstag._Q.push([e,t])}},{key:"init",value:function(){var e=u()(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.script;case 2:window.apstag.init(t);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchBids",value:function(){var e=u()(a.a.mark(function e(t){var n,r=arguments;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:null,e.next=3,this.script;case 3:return e.abrupt("return",this.utils.getPromiseAndExecuteCallback(function(e){window.apstag.fetchBids(t,function(t){return e(t)})},n));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"targetingKeys",value:function(){var e=u()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.script;case 2:return e.abrupt("return",window.apstag.targetingKeys());case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"enableDebug",value:function(){var e=u()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.script;case 2:window.apstag.debug("enable");case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"disableDebug",value:function(){var e=u()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.script;case 2:window.apstag.debug("disable");case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"onRenderImpEnd",value:function(e){if("function"!=typeof e)throw new Error("onRenderImpEnd used with callback not being a function");this.renderImpEndCallbacks.push(e)}}]),e}();k.instance=void 0;var x=function(){function e(){f()(this,e)}return h()(e,[{key:"getConsentData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return i.utils.getPromiseAndExecuteCallback(function(t){window.__cmp("getConsentData",e,function(e){return t(e)})},t)}},{key:"override",value:function(e){window.__cmp=e}},{key:"exists",get:function(){return!!window.__cmp}}]),e}(),S=new x,_=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3;f()(this,e),this.name=t,this.logGroup="".concat(t,"-bidder"),this.bidderConfig=n,this.timeout=r,this.utils=i.utils,this.context=i.context,this.resetState(),this.utils.logger(this.logGroup,"created")}return h()(e,[{key:"resetState",value:function(){var e=this;this.called=!1,this.response=!1,this.onResponseCallbacks=new i.utils.LazyQueue,this.onResponseCallbacks.onItemFlush(function(t){t(e.name)})}},{key:"call",value:function(){var e=this;this.response=!1,this.called=!0,this.callBids(function(){return e.onBidResponse()}),this.utils.logger(this.logGroup,"called")}},{key:"onBidResponse",value:function(){this.response=!0,this.calculatePrices(),this.onResponseCallbacks.flush(),this.utils.logger(this.logGroup,"respond")}},{key:"getSlotAlias",value:function(e){return i.context.get("slots.".concat(e,".bidderAlias"))||e}},{key:"getSlotBestPrice",value:function(e){return this.getBestPrice(e)}},{key:"getSlotTargetingParams",value:function(e){return this.called&&this.isSlotSupported(e)?this.getTargetingParams(e):{}}},{key:"isSlotSupported",value:function(e){return this.isSupported(e)}},{key:"waitForResponse",value:function(){var e=this;return this.utils.createWithTimeout(function(t){e.hasResponse()?t():e.addResponseListener(t)},this.timeout)}},{key:"hasResponse",value:function(){return this.response}},{key:"addResponseListener",value:function(e){this.onResponseCallbacks.push(e)}},{key:"wasCalled",value:function(){return this.called}},{key:"callBids",value:function(e){throw new i.utils.NotImplementedException({cb:e})}},{key:"calculatePrices",value:function(){throw new i.utils.NotImplementedException}},{key:"getBestPrice",value:function(e){throw new i.utils.NotImplementedException({slotName:e})}},{key:"getTargetingParams",value:function(e){throw new i.utils.NotImplementedException({slotName:e})}},{key:"isSupported",value:function(e){throw new i.utils.NotImplementedException({slotName:e})}}]),e}(),j=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;return f()(this,t),(n=g()(this,v()(t).call(this,"a9",e,r))).loaded=!1,n.isCMPEnabled=i.context.get("custom.isCMPEnabled"),n.amazonId=n.bidderConfig.amazonId,n.slots=n.bidderConfig.slots,n.slotsNames=Object.keys(n.slots),n.bids={},n.priceMap={},n.slotNamesMap={},n.targetingKeys=[],n.apstag=k.make(),n.cmp=S,n.utils=i.utils,n.events=i.events,n.slotService=i.slotService,n.timeout=r,n.bidsRefreshing=i.context.get("bidders.a9.bidsRefreshing")||{},n.isRenderImpOverwritten=!1,n}return w()(t,e),h()(t,[{key:"getPrices",value:function(){return this.priceMap}},{key:"getTargetingKeysToReset",value:function(){return this.targetingKeys}},{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.initIfNotLoaded(e),this.bids={},this.priceMap={};var t=this.getA9SlotsDefinitions(this.slotsNames);this.fetchBids(t)}},{key:"initIfNotLoaded",value:function(e){this.loaded||(this.apstag.init(this.getApstagConfig(e)),this.loaded=!0)}},{key:"getApstagConfig",value:function(e){return d()({pubID:this.amazonId,videoAdServer:"DFP",deals:!!this.bidderConfig.dealsEnabled},this.getGdprIfApplicable(e))}},{key:"getGdprIfApplicable",value:function(e){return this.isCMPEnabled&&e&&e.consentData?{gdpr:{enabled:e.gdprApplies,consent:e.consentData,cmpTimeout:5e3}}:{}}},{key:"getA9SlotsDefinitions",value:function(e){var t=this;return e.map(function(e){return t.getSlotAlias(e)}).map(function(e){return t.createSlotDefinition(e)}).filter(function(e){return null!==e})}},{key:"fetchBids",value:function(){var e=u()(a.a.mark(function e(t){var n,r,o=this,s=arguments;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],i.utils.logger("A9","fetching bids for slots",t),e.next=4,this.apstag.fetchBids({slots:t,timeout:this.timeout});case 4:r=e.sent,i.utils.logger("A9","bids fetched for slots",t,"bids",r),this.addApstagRenderImpHookOnFirstFetch(),r.forEach(function(){var e=u()(a.a.mark(function e(t){var n,r,i,s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.slotNamesMap[t.slotID]||t.slotID,e.next=3,o.getBidTargetingWithKeys(t);case 3:r=e.sent,i=r.keys,s=r.bidTargeting,o.updateBidSlot(n,i,s);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()),this.onBidResponse(),n&&this.events.emit(this.events.BIDS_REFRESH);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"addApstagRenderImpHookOnFirstFetch",value:function(){this.isRenderImpOverwritten||(this.isRenderImpOverwritten=!0,this.addApstagRenderImpHook())}},{key:"addApstagRenderImpHook",value:function(){var e=this;i.utils.logger("A9","overwriting window.apstag.renderImp"),this.apstag.onRenderImpEnd(function(t,n){var r=e.getRenderedSlot(n),o=r.getSlotName();i.utils.logger("A9","bid used for slot ".concat(o)),delete e.bids[e.getSlotAlias(o)],e.bidsRefreshing.enabled&&e.refreshBid(r)})}},{key:"getRenderedSlot",value:function(e){var t;return i.slotService.forEach(function(n){n.getTargeting().amzniid===e&&(t=n)}),t}},{key:"refreshBid",value:function(e){if(this.shouldRefreshSlot(e)){var t=this.createSlotDefinition(this.getSlotAlias(e.getSlotName()));t&&(i.utils.logger("A9","refresh bids for slot",t),this.fetchBids([t],!0))}}},{key:"shouldRefreshSlot",value:function(e){return this.bidsRefreshing.slots.includes(this.getSlotAlias(e.getSlotName()))}},{key:"createSlotDefinition",value:function(e){var t=this.slots[e],n=t.slotId||e,r={slotID:n,slotName:n};return this.slotNamesMap[n]=e,this.bidderConfig.videoEnabled||"video"!==t.type?("video"===t.type?r.mediaType="video":r.sizes=t.sizes,r):null}},{key:"getBidTargetingWithKeys",value:function(){var e=u()(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.bidderConfig.dealsEnabled){e.next=6;break}return e.next=3,t.helpers.targetingKeys;case 3:return e.t0=e.sent,e.t1=t.targeting,e.abrupt("return",{keys:e.t0,bidTargeting:e.t1});case 6:return e.next=8,this.apstag.targetingKeys();case 8:return e.t2=e.sent,e.t3=t,e.abrupt("return",{keys:e.t2,bidTargeting:e.t3});case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"updateBidSlot",value:function(e,t,n){var r=this;this.bids[e]={},t.forEach(function(t){-1===r.targetingKeys.indexOf(t)&&r.targetingKeys.push(t),r.bids[e][t]=n[t]})}},{key:"callBids",value:function(){var e=u()(a.a.mark(function e(){var t;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.cmp.exists){e.next=7;break}return e.next=3,this.cmp.getConsentData(null);case 3:t=e.sent,this.init(t),e.next=8;break;case 7:this.init();case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"calculatePrices",value:function(){var e=this;return Object.keys(this.bids).forEach(function(t){e.priceMap[t]=e.bids[t].amznbid})}},{key:"getBestPrice",value:function(e){var t=this.getSlotAlias(e);return this.priceMap[t]?{a9:this.priceMap[t]}:{}}},{key:"getTargetingParams",value:function(e){return this.bids[this.getSlotAlias(e)]||{}}},{key:"isSupported",value:function(e){return!!this.slots[this.getSlotAlias(e)]}}]),t}(_),E=n(11),A=n.n(E),I=Object.defineProperty;function C(e,t,n){var r=n.configurable,i=n.enumerable,o=n.initializer,a=n.value;return{configurable:r,enumerable:i,get:function(){if(this!==e){var n=o?o.call(this):a;return I(this,t,{configurable:r,enumerable:i,writable:!0,value:n}),n}},set:G(t)}}function O(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return q(C,t)}var P,R,T,z,B,N,D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function L(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function U(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}function F(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var M=Object.defineProperty;Object.getOwnPropertyDescriptor,Object.getOwnPropertyNames,Object.getOwnPropertySymbols;function q(e,t){return function(e){if(!e||!e.hasOwnProperty)return!1;for(var t=["value","initializer","get","set"],n=0,r=t.length;n<r;n++)if(e.hasOwnProperty(t[n]))return!0;return!1}(t[t.length-1])?e.apply(void 0,F(t).concat([[]])):function(){return e.apply(void 0,F(Array.prototype.slice.call(arguments)).concat([t]))}}var K=(R=U((P=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),L(this,"debounceTimeoutIds",R,this),L(this,"throttleTimeoutIds",T,this),L(this,"throttlePreviousTimestamps",z,this),L(this,"throttleTrailingArgs",B,this),L(this,"profileLastRan",N,this)}).prototype,"debounceTimeoutIds",[O],{enumerable:!0,initializer:function(){return{}}}),T=U(P.prototype,"throttleTimeoutIds",[O],{enumerable:!0,initializer:function(){return{}}}),z=U(P.prototype,"throttlePreviousTimestamps",[O],{enumerable:!0,initializer:function(){return{}}}),B=U(P.prototype,"throttleTrailingArgs",[O],{enumerable:!0,initializer:function(){return null}}),N=U(P.prototype,"profileLastRan",[O],{enumerable:!0,initializer:function(){return null}}),P),V="function"==typeof Symbol?Symbol("__core_decorators__"):"__core_decorators__";function W(e){return!1===e.hasOwnProperty(V)&&M(e,V,{value:new K}),e[V]}function G(e){return function(t){return Object.defineProperty(this,e,{configurable:!0,writable:!0,enumerable:!0,value:t}),t}}function H(e,t){return e.bind?e.bind(t):function(){return e.apply(t,arguments)}}var Q="object"===("undefined"==typeof console?"undefined":D(console))&&console&&"function"==typeof console.warn?H(console.warn,console):function(){};var Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var $=/^function ([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?(\([^\)]*\))[\s\S]+$/;!function(){function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.parentKlass=t,this.childKlass=n,this.parentDescriptor=r,this.childDescriptor=i}Z(e,[{key:"_getTopic",value:function(e){return void 0===e?null:"value"in e?e.value:"get"in e?e.get:"set"in e?e.set:void 0}},{key:"_extractTopicSignature",value:function(e){switch(void 0===e?"undefined":Y(e)){case"function":return this._extractFunctionSignature(e);default:return this.key}}},{key:"_extractFunctionSignature",value:function(e){var t=this;return e.toString().replace($,function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key)+arguments[2]})}},{key:"key",get:function(){return this.childDescriptor.key}},{key:"parentNotation",get:function(){return this.parentKlass.constructor.name+"#"+this.parentPropertySignature}},{key:"childNotation",get:function(){return this.childKlass.constructor.name+"#"+this.childPropertySignature}},{key:"parentTopic",get:function(){return this._getTopic(this.parentDescriptor)}},{key:"childTopic",get:function(){return this._getTopic(this.childDescriptor)}},{key:"parentPropertySignature",get:function(){return this._extractTopicSignature(this.parentTopic)}},{key:"childPropertySignature",get:function(){return this._extractTopicSignature(this.childTopic)}}]),Z(e,[{key:"assert",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";!0!==e&&this.error("{child} does not properly override {parent}"+t)}},{key:"error",value:function(e){var t=this;throw e=e.replace("{parent}",function(e){return t.parentNotation}).replace("{child}",function(e){return t.childNotation}),new SyntaxError(e)}}])}();Object.assign;Object.assign,"function"==typeof Symbol&&Symbol.iterator;Object.assign;Object.defineProperty,Object.getPrototypeOf;Object.assign;Object.assign;var J=Object.defineProperty;function X(e,t,n,r){var i=function(e){return Array.isArray(e)?e:Array.from(e)}(r),o=i[0],a=i.slice(1),s=n.configurable,u=n.enumerable,c=n.writable,d=n.get,l=n.set,f=n.value,p=!!d;return{configurable:s,enumerable:u,get:function(){var e=p?d.call(this):f,n=o.call.apply(o,[this,e].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(a)));if(p)return n;var r={configurable:s,enumerable:u};return r.value=n,r.writable=c,J(this,t,r),n},set:p?l:G()}}function ee(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return q(X,t)}"function"==typeof Symbol&&Symbol.iterator,Object.defineProperty,Object.getPrototypeOf;Object.assign;var te={};console.time&&console.time.bind(console),console.timeEnd&&console.timeEnd.bind(console);Object.assign,Object.getPrototypeOf,Object.getOwnPropertyDescriptor;var ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},re=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ie=(console,{profile:console.profile?H(console.profile,console):function(){},profileEnd:console.profileEnd?H(console.profileEnd,console):function(){},warn:Q});function oe(e,t,n,r){var i=re(r,3),o=i[0],a=void 0===o?null:o,s=i[1],u=void 0!==s&&s,c=i[2],d=void 0===c?ie:c;if(!ae.__enabled)return ae.__warned||(d.warn("console.profile is not supported. All @profile decorators are disabled."),ae.__warned=!0),n;var l=n.value;if(null===a&&(a=e.constructor.name+"."+t),"function"!=typeof l)throw new SyntaxError("@profile can only be used on functions, not: "+l);return ne({},n,{value:function(){var e=Date.now(),t=W(this);(!0===u&&!t.profileLastRan||!1===u||"number"==typeof u&&e-t.profileLastRan>u||"function"==typeof u&&u.apply(this,arguments))&&(d.profile(a),t.profileLastRan=e);try{return l.apply(this,arguments)}finally{d.profileEnd(a)}}})}function ae(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return q(oe,t)}ae.__enabled=!!console.profile,ae.__warned=!1;Object.defineProperty,Object.getOwnPropertyDescriptor;
/**
 * core-decorators.js
 * (c) 2017 Jay Phelps and contributors
 * MIT Licensed
 * https://github.com/jayphelps/core-decorators.js
 * @license
 */
var se=function(){function e(t){var n=t.enabled,r=t.slots;f()(this,e),this.enabled=n,this.slots=r}return h()(e,[{key:"prepareAdUnits",value:function(){var e=this;return Object.keys(this.slots).map(function(t){return e.prepareConfigForAdUnit(t,e.slots[t])})}}]),e}(),ue=function(e){function t(e){var n;return f()(this,t),(n=g()(this,v()(t).call(this,e))).bidderName="aol",n.network=e.network,n}return w()(t,e),h()(t,[{key:"prepareConfigForAdUnit",value:function(e,t){var n=t.sizes,r=t.placement,i=t.alias,o=t.sizeId;return{code:e,mediaTypes:{banner:{sizes:n}},bids:[{bidder:this.bidderName,params:{placement:r,network:this.network,alias:i,sizeId:o}}]}}}]),t}(se),ce=function(e){function t(e){var n;return f()(this,t),(n=g()(this,v()(t).call(this,e))).bidderName="appnexus",n.placements=e.placements,n}return w()(t,e),h()(t,[{key:"prepareConfigForAdUnit",value:function(e,t){var n=t.sizes,r=t.position,i=void 0===r?"mobile":r;return{code:e,mediaTypes:{banner:{sizes:n}},bids:[{bidder:this.bidderName,params:{placementId:this.getPlacement(i)}}]}}},{key:"getPlacement",value:function(e){if("mobile"===e){var t=i.context.get("targeting.mappedVerticalName");e=t&&this.placements[t]?t:"other"}return this.placements[e]}}]),t}(se),de=function(e){function t(e){var n;return f()(this,t),(n=g()(this,v()(t).call(this,e))).bidderName="appnexusAst",n.aliases={appnexus:[n.bidderName]},n.debugPlacementId=e.debugPlacementId,n.isDebugMode="1"===i.utils.queryString.get("appnexusast_debug_mode"),n}return w()(t,e),h()(t,[{key:"prepareConfigForAdUnit",value:function(e,t){var n=t.placementId;return{code:e,mediaTypes:{video:{context:"instream",playerSize:[640,480]}},bids:[{bidder:this.bidderName,params:{placementId:this.isDebugMode?this.debugPlacementId:n,video:{skippable:!1,playback_method:["auto_play_sound_off"]}}}]}}}]),t}(se),le=function(e){function t(e){var n;return f()(this,t),(n=g()(this,v()(t).call(this,e))).bidderName="audienceNetwork",n.testMode="true"===i.utils.queryString.get("audiencenetworktest"),n}return w()(t,e),h()(t,[{key:"prepareConfigForAdUnit",value:function(e,t){var n=t.sizes,r=t.placementId;return{code:e,mediaTypes:{banner:{sizes:n}},bids:[{bidder:this.bidderName,params:{testMode:this.testMode,placementId:r}}]}}}]),t}(se),fe=function(e){function t(e){var n;return f()(this,t),(n=g()(this,v()(t).call(this,e))).bidderName="beachfront",n.bidfloor=.01,n.debugAppId=e.debugAppId,n.isDebugMode="1"===i.utils.queryString.get("beachfront_debug_mode"),n}return w()(t,e),h()(t,[{key:"prepareConfigForAdUnit",value:function(e,t){var n=t.appId;return{code:e,mediaTypes:{video:{context:"instream",playerSize:[640,480]}},bids:[{bidder:this.bidderName,params:{bidfloor:this.bidfloor,appId:this.isDebugMode?this.debugAppId:n}}]}}}]),t}(se),pe=function(e){function t(e){var n;return f()(this,t),(n=g()(this,v()(t).call(this,e))).bidderName="indexExchange",n.aliases={ix:[n.bidderName]},n}return w()(t,e),h()(t,[{key:"prepareConfigForAdUnit",value:function(e,t){var n=this,r=t.sizes,i=t.siteId;return{code:e,mediaTypes:{banner:{sizes:r}},bids:r.map(function(e){return{bidder:n.bidderName,params:{siteId:i,size:e}}})}}}]),t}(se),he=function(e){function t(e){var n;return f()(this,t),(n=g()(this,v()(t).call(this,e))).bidderName="kargo",n}return w()(t,e),h()(t,[{key:"prepareConfigForAdUnit",value:function(e,t){var n=t.sizes,r=t.placementId;return{code:e,sizes:n,bids:[{bidder:this.bidderName,params:{placementId:r}}]}}}]),t}(se),be=function(e){function t(e){var n;return f()(this,t),(n=g()(this,v()(t).call(this,e))).bidderName="lkqd",n}return w()(t,e),h()(t,[{key:"prepareConfigForAdUnit",value:function(e,t){var n=t.placementId,r=t.siteId;return{code:e,mediaTypes:{video:{playerSize:[640,480]}},bids:[{bidder:this.bidderName,params:{siteId:r,placementId:n,pageurl:window.location.hostname,output:"svpaid"}}]}}}]),t}(se),ge=function(e){function t(e){var n;return f()(this,t),(n=g()(this,v()(t).call(this,e))).bidderName="onemobile",n.siteId=e.siteId,n}return w()(t,e),h()(t,[{key:"prepareConfigForAdUnit",value:function(e,t){var n=t.size,r=t.pos;return{code:e,mediaTypes:{banner:{sizes:[n]}},bids:[{bidder:this.bidderName,params:{dcn:this.siteId,pos:r}}]}}}]),t}(se),ye=function(e){function t(e){var n;return f()(this,t),(n=g()(this,v()(t).call(this,e))).bidderName="openx",n.delDomain=e.delDomain,n}return w()(t,e),h()(t,[{key:"prepareConfigForAdUnit",value:function(e,t){var n=t.sizes,r=t.unit;return{code:e,mediaTypes:{banner:{sizes:n}},bids:[{bidder:this.bidderName,params:{unit:r,delDomain:this.delDomain}}]}}}]),t}(se),ve=function(e){function t(e){var n;return f()(this,t),(n=g()(this,v()(t).call(this,e))).bidderName="pubmatic",n.publisherId=e.publisherId,n}return w()(t,e),h()(t,[{key:"prepareConfigForAdUnit",value:function(e,t){var n=t.sizes,r=t.ids;switch(e.toLowerCase()){case"featured":case"incontent_player":return this.getVideoConfig(e,r);default:return this.getStandardConfig(e,n,r)}}},{key:"getVideoConfig",value:function(e,t){return{code:e,mediaTypes:{video:{playerSize:[640,480],context:"instream"}},bids:this.getBids(t,{video:{mimes:["video/mp4","video/x-flv","video/webm","video/ogg"],skippable:!0,minduration:1,maxduration:30,startdelay:0,playbackmethod:[2,3],protocols:[2,3,5,6],linearity:1,placement:1}})}}},{key:"getStandardConfig",value:function(e,t,n){return{code:e,mediaTypes:{banner:{sizes:t}},bids:this.getBids(n)}}},{key:"getBids",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.map(function(e){return{bidder:t.bidderName,params:d()({adSlot:e,publisherId:t.publisherId},n)}})}}]),t}(se),me=["bottom_leaderboard"];function we(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"off",n=[];return He(e).forEach(function(e){e&&e.enabled&&e.prepareAdUnits().forEach(function(e){e&&function(e,t){var n=-1!==me.indexOf(e);return!(!i.slotService.getState(e)||"off"!==t&&("pre"===t&&n||"post"===t&&!n))}(e.code,t)&&n.push(e)})}),n}function ke(e){if(!window.pbjs||"function"!=typeof window.pbjs.getBidResponses)return null;var t=window.pbjs.getAllPrebidWinningBids().filter(function(t){return e===t.adId});if(!t.length){var n=window.pbjs.getBidResponses();Object.keys(n).forEach(function(r){var i=n[r].bids.filter(function(t){return e===t.adId});t=t.concat(i)})}return t.length?t[0]:null}function xe(e){var t=[];return window.pbjs&&"function"==typeof window.pbjs.getBidResponsesForAdUnitCode&&(t=(t=window.pbjs.getBidResponsesForAdUnitCode(e).bids||[]).filter(function(e){return"rendered"!==e.status})),t}function Se(){return window.pbjs}function _e(e){return Object.assign({pos:[e]},i.context.get("bidders.prebid.targeting")||{})}function je(e,t){return window.pbjs&&window.pbjs.getBidResponsesForAdUnitCode?(window.pbjs.getBidResponsesForAdUnitCode(e).bids||[]).filter(function(e){var n=!t||-1!==t.indexOf(e.bidderCode),r=e.vastUrl||e.vastContent;return n&&r&&e.cpm>0}).reduce(function(e,t){return null===e||t.cpm>e.cpm?t:e},null):null}function Ee(e){window.pbjs.que.push(e)}var Ae=function(e){function t(e){var n;return f()(this,t),(n=g()(this,v()(t).call(this,e))).bidderName="rubicon",n.accountId=e.accountId,n}return w()(t,e),h()(t,[{key:"prepareConfigForAdUnit",value:function(e,t){var n=t.siteId,r=t.zoneId,o=t.sizeId,a=t.position;if("featured"===e&&!i.context.get("custom.rubiconInFV"))return null;var s=_e(e);return{code:e,mediaType:"video",mediaTypes:{video:{playerSize:[640,480],context:"instream"}},bids:[{bidder:this.bidderName,params:{accountId:this.accountId,siteId:n,zoneId:r,name:e,position:a,inventory:s,video:{playerWidth:"640",playerHeight:"480",size_id:o,language:s.lang?s.lang[0]:"en"}}}]}}}]),t}(se),Ie=function(e){function t(e){var n;return f()(this,t),(n=g()(this,v()(t).call(this,e))).bidderName="rubicon_display",n.aliases={rubicon:[n.bidderName]},n.accountId=e.accountId,n}return w()(t,e),h()(t,[{key:"prepareConfigForAdUnit",value:function(e,t){var n=t.siteId,r=t.zoneId,i=t.sizes,o=t.position,a=t.targeting,s=_e(e);return Object.keys(a||{}).forEach(function(e){s[e]=a[e]}),{code:e,mediaTypes:{banner:{sizes:i}},bids:[{bidder:this.bidderName,params:{accountId:this.accountId,siteId:n,zoneId:r,name:e,position:o,keywords:["rp.fastlane"],inventory:s}}]}}}]),t}(se),Ce=n(9),Oe=n.n(Ce),Pe=n(8),Re=n.n(Pe),Te=i.utils.queryString.get("wikia_adapter"),ze=parseInt(i.utils.queryString.get("wikia_adapter_limit"),10)||99,Be=parseInt(i.utils.queryString.get("wikia_adapter_timeout"),10)||0,Ne="1"===i.utils.queryString.get("wikia_adapter_random"),De=function(e){function t(e){var n;return f()(this,t),(n=g()(this,v()(t).call(this,e))).bidderName="wikia",n.enabled=!!Te,n.limit=ze,n.useRandomPrice=Ne,n.timeout=Be,n.create=function(){return Re()(Re()(n))},n}return w()(t,e),h()(t,[{key:"prepareConfigForAdUnit",value:function(e,t){return{code:e,mediaTypes:{banner:{sizes:t.sizes}},bids:[{bidder:this.bidderName}]}}},{key:"getSpec",value:function(){return{code:this.bidderName,supportedMediaTypes:["banner"]}}},{key:"getPrice",value:function(){return this.useRandomPrice?Math.floor(2e3*Math.random())/100:parseInt(Te,10)/100}},{key:"callBids",value:function(e,t,n){var r=this;window.pbjs.que.push(function(){r.addBids(e,t,n)})}},{key:"addBids",value:function(e,t,n){var r=this;setTimeout(function(){e.bids.forEach(function(n){if(0!==r.limit){var i=window.pbjs.createBid(1),o=Oe()(n.sizes[0],2),a=o[0],s=o[1],u=r.getPrice();i.ad=r.getCreative(n.sizes[0],u),i.bidderCode=e.bidderCode,i.cpm=u,i.ttl=300,i.mediaType="banner",i.width=a,i.height=s,t(n.adUnitCode,i),r.limit-=1}}),n()},this.timeout)}},{key:"getCreative",value:function(e,t){var n=document.createElement("div");n.style.background="#00b7e0",n.style.color="#fff",n.style.fontFamily="sans-serif",n.style.height="100%",n.style.textAlign="center",n.style.width="100%";var r=document.createElement("p");r.innerText="Wikia Creative",r.style.fontWeight="bold",r.style.margin="0",r.style.paddingTop="10px";var i=document.createElement("small");return i.innerText="cpm: ".concat(t,", size: ").concat(e.join("x")),n.appendChild(r),n.appendChild(i),n.outerHTML}}]),t}(se),Le=i.utils.queryString.get("wikia_video_adapter"),Ue=parseInt(i.utils.queryString.get("wikia_adapter_limit"),10)||99,Fe=parseInt(i.utils.queryString.get("wikia_adapter_timeout"),10)||0,Me="1"===i.utils.queryString.get("wikia_adapter_random"),qe=function(e){function t(e){var n;return f()(this,t),(n=g()(this,v()(t).call(this,e))).bidderName="wikiaVideo",n.enabled=!!Le,n.limit=Ue,n.useRandomPrice=Me,n.timeout=Fe,n.create=function(){return Re()(Re()(n))},n}return w()(t,e),h()(t,[{key:"prepareConfigForAdUnit",value:function(e){return{code:e,mediaTypes:{video:{context:"outstream",playerSize:[640,480]}},bids:[{bidder:this.bidderName}]}}},{key:"getSpec",value:function(){return{code:this.bidderName,supportedMediaTypes:["video"]}}},{key:"getPrice",value:function(){return this.useRandomPrice?Math.floor(20*Math.random()):parseInt(Le,10)/100}},{key:"getVastUrl",value:function(e,t,n){return Object(i.buildVastUrl)(e/t,n,{videoAdUnitId:i.context.get("bidders.prebid.wikiaVideo.slots.".concat(n,".videoAdUnitId")),customParams:i.context.get("bidders.prebid.wikiaVideo.slots.".concat(n,".customParams"))})}},{key:"callBids",value:function(e,t,n){var r=this;window.pbjs.que.push(function(){r.addBids(e,t,n)})}},{key:"addBids",value:function(e,t,n){var r=this;setTimeout(function(){e.bids.forEach(function(n){if(0!==r.limit){var i=window.pbjs.createBid(1),o=Oe()(n.sizes[0],2),a=o[0],s=o[1],u=n.adUnitCode;i.bidderCode=e.bidderCode,i.cpm=r.getPrice(),i.creativeId="foo123_wikiaVideoCreativeId",i.ttl=300,i.mediaType="video",i.width=a,i.height=s,i.vastUrl=r.getVastUrl(a,s,u),i.videoCacheKey="123foo_wikiaVideoCacheKey",t(n.adUnitCode,i),r.limit-=1}}),n()},this.timeout)}}]),t}(se),Ke=[],Ve=[],We={aol:ue,appnexus:ce,appnexusAst:de,audienceNetwork:le,beachfront:fe,indexExchange:pe,kargo:he,lkqd:be,onemobile:ge,openx:ye,pubmatic:ve,rubicon:Ae,rubiconDisplay:Ie};function Ge(e){Object.keys(We).forEach(function(t){if(e[t]){var n=new We[t](e[t]);Ke.push(n)}}),function(e){e.wikia&&Ve.push(new De(e.wikia));e.wikiaVideo&&Ve.push(new qe(e.wikiaVideo));Ve.forEach(function(e){Ke.push(e),window.pbjs.que.push(function(){window.pbjs.registerBidAdapter(e.create,e.bidderName)})})}(e)}function He(e){return 0===Ke.length&&e&&(Ge(e),Ke.filter(function(e){return e.aliases}).forEach(function(e){window.pbjs.que.push(function(){var t=e.aliases;Object.keys(t).forEach(function(e){t[e].forEach(function(t){window.pbjs.aliasBidder(e,t)})})})})),Ke}var Qe=20,Ye=["appnexusAst","rubicon","wikiaVideo"];function Ze(e,t){var n=Math.floor(t);return 0===e?n=0:e<.05?n=.01:e<5?n=Math.floor(20*e)/20:e<10?n=Math.floor(10*e)/10:e<20?n=Math.floor(2*e)/2:e<t&&(n=Math.floor(e)),n}function $e(e){var t={};if(window.pbjs&&window.pbjs.getBidResponsesForAdUnitCode){var n=window.pbjs.getBidResponsesForAdUnitCode(e).bids||[];He().forEach(function(e){t[e.bidderName]=""}),n.forEach(function(e){if(function(e){return e.getStatusCode&&e.getStatusCode()===dt.validResponseStatusCode}(e)&&"rendered"!==e.status){var n=e.bidderCode,r=e.cpm,i=Math.max(t[n]||0,Ze(r,Qe));i>0&&(t[n]=i.toFixed(2))}})}return t}function Je(e){var t=Qe;return Ye.includes(e.bidderCode)&&(t=50),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qe;return Ze(e,t=Math.max(t,Qe)).toFixed(2)}(e.cpm,t)}var Xe,et,tt,nt,rt,it,ot=[{bidderCode:"appnexusAst",contextKey:"custom.appnexusDfp"},{bidderCode:"beachfront",contextKey:"custom.beachfrontDfp"},{bidderCode:"lkqd",contextKey:"custom.lkqdDfp"},{bidderCode:"rubicon",contextKey:"custom.rubiconDfp"},{bidderCode:"pubmatic",contextKey:"custom.pubmaticDfp"}];function at(){return{standard:{alwaysUseBid:!1,adserverTargeting:[{key:"hb_bidder",val:function(e){return e.bidderCode}},{key:"hb_adid",val:function(e){return e.adId}},{key:"hb_pb",val:function(e){return Je(e)}},{key:"hb_size",val:function(e){return e.size}},{key:"hb_uuid",val:function(e){return function(e){return ot.some(function(t){return e.bidderCode===t.bidderCode&&i.context.get(t.contextKey)})?e.videoCacheKey:"disabled"}(e)}}]}}}function st(e){return function(){for(var t=this,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return window.pbjs.que.push(function(){return e.apply(t,r)})}}function ut(e){var t=i.context.get("slots.".concat(e.getSlotName(),".targeting.hb_adid"));t&&window.pbjs&&"function"==typeof window.pbjs.markWinningBidAsUsed&&(window.pbjs.markWinningBidAsUsed({adId:t}),i.events.emit(i.events.VIDEO_AD_USED,e))}i.events.on(i.events.VIDEO_AD_IMPRESSION,ut),i.events.on(i.events.VIDEO_AD_ERROR,ut);var ct=!1;window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[],i.events.registerEvent("BIDS_REFRESH"),i.events.registerEvent("PREBID_LAZY_CALL");var dt=(Xe=ee(st),et=ee(st),tt=ee(st),it=rt=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;return f()(this,t),(n=g()(this,v()(t).call(this,"prebid",e,r))).insertScript(),n.lazyLoaded=!1,n.isLazyLoadingEnabled=n.bidderConfig.lazyLoadingEnabled,n.isCMPEnabled=i.context.get("custom.isCMPEnabled"),n.adUnits=we(n.bidderConfig,n.isLazyLoadingEnabled?"pre":"off"),n.prebidConfig={debug:"1"===i.utils.queryString.get("pbjs_debug")||"true"===i.utils.queryString.get("pbjs_debug"),enableSendAllBids:!0,bidderSequence:"random",bidderTimeout:n.timeout,cache:{url:"https://prebid.adnxs.com/pbc/v1/cache"},userSync:{iframeEnabled:!0,enabledBidders:[],syncDelay:6e3}},n.bidsRefreshing=i.context.get("bidders.prebid.bidsRefreshing"),n.isCMPEnabled&&(n.prebidConfig.consentManagement={cmpApi:"iab",timeout:n.timeout,allowAuctionWithoutConsent:!1}),window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[],n.applyConfig(n.prebidConfig),n.bidsRefreshing&&n.bidsRefreshing.enabled&&n.registerBidsRefreshing(),n}return w()(t,e),h()(t,[{key:"applyConfig",value:function(e){window.pbjs.setConfig(e)}},{key:"applySettings",value:function(){window.pbjs.bidderSettings=at()}},{key:"callBids",value:function(e){var t=this;this.adUnits||(this.adUnits=we(this.bidderConfig,this.isLazyLoadingEnabled?"pre":"off")),this.adUnits.length>0&&(this.applySettings(),this.requestBids(this.adUnits,e,this.removeAdUnits)),this.isLazyLoadingEnabled&&i.events.on(i.events.PREBID_LAZY_CALL,function(){t.lazyCall(e)})}},{key:"insertScript",value:function(){if(!ct){var e=i.context.get("bidders.prebid.libraryUrl");e?(i.utils.scriptLoader.loadScript(e,"text/javascript",!0,"first"),ct=!0):i.utils.logger("prebid","Prebid library URL not defined. Assuming that window.pbjs will be loaded.")}}},{key:"lazyCall",value:function(e){if(!this.lazyLoaded){this.lazyLoaded=!0;var t=we(this.bidderConfig,"post");t.length>0&&(this.requestBids(t,e),this.adUnits=this.adUnits.concat(t))}}},{key:"removeAdUnits",value:function(){(window.pbjs.adUnits||[]).forEach(function(e){window.pbjs.removeAdUnit(e.code)})}},{key:"getBestPrice",value:function(e){return $e(this.getSlotAlias(e))}},{key:"getTargetingKeysToReset",value:function(){return["hb_bidder","hb_adid","hb_pb","hb_size","hb_uuid"]}},{key:"getTargetingParams",value:function(e){var t={},n=xe(this.getSlotAlias(e));if(n.length){var r=null,i=function(){var e={};return Ke.forEach(function(t){e[t.bidderName]=t.priority||1}),e}();n.forEach(function(e){r=r?r.cpm===e.cpm?i[r.bidder]===i[e.bidder]?r.timeToRespond>e.timeToRespond?e:r:i[r.bidder]<i[e.bidder]?e:r:r.cpm<e.cpm?e:r:e}),r&&(t=r.adserverTargeting),t.hb_uuid=t.hb_uuid||r.videoCacheKey||"disabled"}return t||{}}},{key:"isSupported",value:function(e){var t=this.getSlotAlias(e);return this.adUnits&&this.adUnits.some(function(e){return e.code===t})}},{key:"registerBidsRefreshing",value:function(){var e=this;window.pbjs.que.push(function(){var t=function(t){if(-1!==e.bidsRefreshing.slots.indexOf(t.adUnitCode)){i.events.emit(i.events.BIDS_REFRESH);var n=e.adUnits.filter(function(e){return e.code===t.adUnitCode&&e.bids&&e.bids[0]&&e.bids[0].bidder===t.bidderCode});e.requestBids(n,e.bidsRefreshing.bidsBackHandler)}};window.pbjs.onEvent("bidWon",t),i.events.once(i.events.PAGE_CHANGE_EVENT,function(){window.pbjs.offEvent("bidWon",t)})})}},{key:"requestBids",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;n&&n(),window.pbjs.requestBids({adUnits:e,bidsBackHandler:t})}}]),t}(_),rt.validResponseStatusCode=1,rt.errorResponseStatusCode=2,nt=it,A()(nt.prototype,"applyConfig",[Xe],Object.getOwnPropertyDescriptor(nt.prototype,"applyConfig"),nt.prototype),A()(nt.prototype,"applySettings",[et],Object.getOwnPropertyDescriptor(nt.prototype,"applySettings"),nt.prototype),A()(nt.prototype,"requestBids",[tt],Object.getOwnPropertyDescriptor(nt.prototype,"requestBids"),nt.prototype),nt);n.d(t,"bidders",function(){return vt}),n.d(t,"Apstag",function(){return k}),n.d(t,"Cmp",function(){return x}),n.d(t,"cmp",function(){return S});var lt={},ft={},pt="bidders";function ht(e){Object.keys(lt).forEach(function(t){e(lt[t])})}function bt(e){var t={};return ht(function(n){if(n&&n.wasCalled()){var r=n.getSlotTargetingParams(e);Object.assign(t,r)}}),t}function gt(e){var t={};return ht(function(n){if(n&&n.isSlotSupported(e)){var r=n.getSlotBestPrice(e);Object.keys(r).forEach(function(e){t[e]=r[e]})}}),t}function yt(e){var t=bt(e);return function(e){ft[e]=gt(e)}(e),function(e){ht(function(t){t.getTargetingKeysToReset().forEach(function(t){i.context.remove("slots.".concat(e,".targeting.").concat(t))})}),i.utils.logger(pt,"resetTargetingKeys",e)}(e),function(e,t){Object.keys(t).forEach(function(n){return i.context.set("slots.".concat(e,".targeting.").concat(n),t[n])})}(e,t),i.utils.logger(pt,"updateSlotTargeting",e,t),t}i.events.on(i.events.VIDEO_AD_REQUESTED,function(e){e.updateWinningPbBidderDetails()}),i.events.on(i.events.VIDEO_AD_USED,function(e){yt(e.getSlotName())});var vt={getBidParameters:bt,getCurrentSlotPrices:gt,getDfpSlotPrices:function(e){return ft[e]||{}},hasAllResponses:function(){return 0===Object.keys(lt).filter(function(e){return!lt[e].hasResponse()}).length},prebidHelper:r,requestBids:function(e){var t=e.responseListener,n=void 0===t?null:t,r=i.context.get("bidders");r.prebid&&r.prebid.enabled&&(lt.prebid=new dt(r.prebid,r.timeout)),r.a9&&r.a9.enabled&&(lt.a9=new j(r.a9,r.timeout)),ht(function(e){n&&e.addResponseListener(n),e.call()})},runOnBiddingReady:function(e){var t=[];return ht(function(e){t.push(e.waitForResponse())}),Promise.all(t).then(e)},transformPriceFromBid:Je,updateSlotTargeting:yt}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t){e.exports=function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=r=function(e){return n(e)}:e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},r(t)}e.exports=r},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t){!function(t){"use strict";var n,r=Object.prototype,i=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag",c="object"==typeof e,d=t.regeneratorRuntime;if(d)c&&(e.exports=d);else{(d=t.regeneratorRuntime=c?e.exports:{}).wrap=w;var l="suspendedStart",f="suspendedYield",p="executing",h="completed",b={},g={};g[a]=function(){return this};var y=Object.getPrototypeOf,v=y&&y(y(P([])));v&&v!==r&&i.call(v,a)&&(g=v);var m=_.prototype=x.prototype=Object.create(g);S.prototype=m.constructor=_,_.constructor=S,_[u]=S.displayName="GeneratorFunction",d.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===S||"GeneratorFunction"===(t.displayName||t.name))},d.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,u in e||(e[u]="GeneratorFunction")),e.prototype=Object.create(m),e},d.awrap=function(e){return{__await:e}},j(E.prototype),E.prototype[s]=function(){return this},d.AsyncIterator=E,d.async=function(e,t,n,r){var i=new E(w(e,t,n,r));return d.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},j(m),m[u]="Generator",m[a]=function(){return this},m.toString=function(){return"[object Generator]"},d.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},d.values=P,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,i){return s.type="throw",s.arg=e,t.next=r,i&&(t.method="next",t.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,b):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:P(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),b}}}function w(e,t,n,r){var i=t&&t.prototype instanceof x?t:x,o=Object.create(i.prototype),a=new O(r||[]);return o._invoke=function(e,t,n){var r=l;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===i)throw o;return R()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=A(a,n);if(s){if(s===b)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=k(e,t,n);if("normal"===u.type){if(r=n.done?h:f,u.arg===b)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=h,n.method="throw",n.arg=u.arg)}}}(e,n,a),o}function k(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function x(){}function S(){}function _(){}function j(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function E(e){var t;this._invoke=function(n,r){function o(){return new Promise(function(t,o){!function t(n,r,o,a){var s=k(e[n],e,r);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==typeof c&&i.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,o,a)},function(e){t("throw",e,o,a)}):Promise.resolve(c).then(function(e){u.value=e,o(u)},function(e){return t("throw",e,o,a)})}a(s.arg)}(n,r,t,o)})}return t=t?t.then(o,o):o()}}function A(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,A(e,t),"throw"===t.method))return b;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return b}var i=k(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,b;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,b):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,b)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function P(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(i.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return o.next=o}}return{next:R}}function R(){return{value:n,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},function(e,t,n){var r=function(){return this||"object"==typeof self&&self}()||Function("return this")(),i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,o=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(19),i)r.regeneratorRuntime=o;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}}]);
//# sourceMappingURL=ad-bidders.global.js.map